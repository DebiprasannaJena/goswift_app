Time: 23-01-2024 03:11:16 PM For RequestMethod: Investorid
InputOutput: [strUniqueId]:- D48225DB-3125-438B-AB59-6580099F1737
-----------------------------------------------------------
Time: 23-01-2024 03:11:16 PM For RequestMethod: InputRequestToSAMLAPI
InputOutput: [InputJsonData]:- {"pan":"BSQPJ1955A","cin":"U67190TN2014PTC055555","entityType":"3","email":"demotest@test.com"}
-----------------------------------------------------------
Time: 23-01-2024 03:11:16 PM For RequestMethod: GetResponseFromSAMLAPI
InputOutput: [ResponseStatusCode]:- OK
-----------------------------------------------------------
Time: 23-01-2024 03:11:16 PM For RequestMethod: GetResponseFromSAMLAPI
InputOutput: [ResponseContent]:- <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv='Cache-Control' content="max-age: 31536000, no-cache, no-store, must-revalidate">
      <meta http-equiv='Pragma' content='no-cache'>
      <meta http-equiv='Expires' content='0'>
      <meta name="robots" content="noindex, nofollow">
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="preconnect" href="https://fonts.gstatic.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Khand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

      <!-- Google Tag Manager -->
      <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-KRBMWNL');</script>
      <!-- End Google Tag Manager -->

      <title class='title'>Sign In to National Single Window System</title>
      <link rel="icon" href="/auth/resources/egfby/login/sws/images/favicon.ico" />
      <link href="/auth/resources/egfby/login/sws/css/login1.css?v=1.05" rel="stylesheet" />
      <link href="/auth/resources/egfby/login/sws/css/global.css?v=1.05" rel="stylesheet" />

     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.8/css/intlTelInput.css" />
     
      <!-- JS -->
      <!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
       <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
       <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.8/js/intlTelInput-jquery.min.js"></script>
      <script type="text/javascript">
          if (top !== window) {
            top.location = window.location;
          }
      </script>
      <script>
         /*function backToLogin() {
            if (origin === 'https://sso-uat-nsws.investindia.gov.in') {
               window.location.href = 'https://uat-nsws.investindia.gov.in/portal/login'
            } else {
               window.location.href = origin + '/portal/login'
            }
         }*/

      </script>
      <script>
        jQuery(function(){
            jQuery('input[type="text"]').on("change", function(){
                this.value = jQuery.trim(this.value);
            });
         });
      </script>
      <script>
         jQuery(document).ready(function(){
               if(jQuery(this).find("span.server-message").length > 0){
                  var text = $(".server-message").html();
                  var match = text.split('<br>');
                  jQuery(".server-message").text(match[0]);
               }
              

         function handleCountryCode() {
            $('#phoneNumber').intlTelInput({
                autoHideDialCode: false,
                autoFocus:"OFF",
                autocomplete:"OFF",
                autoPlaceholder: "OFF",
                dropdownContainer: document.body,
                geoIpLookup: function(callback) {
                    $.get('https://ipinfo.io', function() {}, "jsonp").always(function(resp) {
                        var countryCode = (resp && resp.country) ? resp.country : "";
                        callback(countryCode);
                    });
                },
                formatOnDisplay: false,
                hiddenInput: "full_number",
                initialCountry: $("#countryName").val() || "auto",
                nationalMode: true,
                placeholderNumberType: "MOBILE",
                separateDialCode: true
               }).on("countrychange", function(e, countryData) {

                var getSelectedCountryData = $('.iti__selected-dial-code').intlTelInput("getSelectedCountryData");
                var selectedCountryCode=$("#phoneNumber").intlTelInput("getSelectedCountryData").dialCode;
                var countryData=$("#phoneNumber").intlTelInput("getSelectedCountryData");
                $('#phoneNumber').val('');
                $("#phoneNumberError").hide(); 
                $('#phoneotp-verify').hide();
                
               sessionStorage.setItem('selectedCountryCode',selectedCountryCode); 
              
               if(sessionStorage.getItem('selectedCountryCode') !== "91"){
                  $('#phoneNumber').attr("minlength","4")
                  $('#phoneNumber').attr("maxlength","13")
               }else{
                  $('#phoneNumber').attr("maxlength","10")
               }

               jQuery('#phoneNumber').on('input', function(event) {
                  var s = $('#phoneNumber').val().toString();
                  var mobileNumberValue = s.replace(/[^\d+]/gi, '');
                  $('#phoneNumber').val(mobileNumberValue);
                  sessionStorage.setItem('phone',mobileNumberValue);
                  var removeLeadingZero = mobileNumberValue.toString().replace(/^0+/, '');
                  var pattern = new RegExp("[6789]{1}[0-9]{9}");
                  if(pattern.test(mobileNumberValue) === false && mobileNumberValue.length >= 1 && mobileNumberValue.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91" ){
                        $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();
                  }else if(pattern.test(mobileNumberValue) === false  && mobileNumberValue.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91"){
                        $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();
                  }else if (mobileNumberValue.length === 0 && sessionStorage.getItem('selectedCountryCode') === "91") {
                        $("#phoneNumberError").text("Phone Number can't be empty.");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();   
                  }else if(sessionStorage.getItem('phone-verify-message')){
                        $('#phoneotp-verify').hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') === "91"){
                        $('#phoneotp-verify').show();
                        $("#phoneNumberError").hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length > 4){
                        $("#input-error-phone_number").hide();
                        $("#phoneNumberError").hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length <= 3){
                        $("#phoneNumberError").text("Mobile Number is Invalid");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length >= 3){
                        $("#phoneNumberError").hide();
                  }
               })

                jQuery("#phoneNumber").change(function(){
                  $("#countryName").val(countryData.iso2);
                   var userContact = "+" +selectedCountryCode;
                   if(userContact) {
                        $('#phoneNumberCopy').val(userContact);
                   }
                 });
            });


         };
      handleCountryCode()

      
      $(function(){
				for(var i=0;i<5;i++){
               $('#e-code').append('<input placeholder="OTP" class="input-element input-field otp email-otp-focus" name="e-code1" type="text"  maxLength="1"/>');
            }
      });

      $(function(){
         const inputs = document.querySelectorAll("#e-code input");
         inputs[0].focus();
         inputs.forEach((input, index) => {
         input.dataset.index = index;
         input.addEventListener("paste", handleOnPasteOtp);
         input.addEventListener("keyup", handleOtp);
          });

          function handleOnPasteOtp(e) {
               const data = e.clipboardData.getData("number");
               const value = data.split("");
               if (value.length == inputs.length) {
               inputs.forEach((input, index) => (input.value = value[index]));
               }
            }
            
            function handleOtp(e) {
               const input = e.target;
               let value = input.value;
               let otpValue=[];
               for(var i=0;i<5;i++){
               otpValue.push(document.getElementsByClassName("otp")[i].value);
               var filterotpValue =otpValue.toString().replace(/,/g, "");
                 $("#enteredEmailOtp").val(filterotpValue);
               }

               if(!isNaN(value)){
               input.value = "number";
               input.value = value ? value[0] : "";
               
               let fieldIndex = input.dataset.index;
           
               if (value.length > 0 && fieldIndex < inputs.length - 1) {
               if(value!=" ")
               input.nextElementSibling.focus();
               else{
                  input.value = "";
               }
               }

                if (e.key == "Backspace" && fieldIndex > 0) {
                input.previousElementSibling.focus();
             }
                if (fieldIndex == inputs.length - 1) {
                   submit();
                }
               }
               else{
                  input.value = "";
               }
               }
      });
            $(function(){
				for(var i=0;i<5;i++){
               $('#phone-code').append('<input placeholder="OTP"  class="input-element input-field otp" name="m-code1" type="text"  maxLength="1"/>');
            }
      });

      $(function(){
         const inputs = document.querySelectorAll("#phone-code input");
         inputs[0].focus();
         inputs.forEach((input, index) => {
         input.dataset.index = index;
         input.addEventListener("paste", handleOnPasteOtp);
         input.addEventListener("keyup", handleOtp);
          });

          function handleOnPasteOtp(e) {
               const data = e.clipboardData.getData("number");
               const value = data.split("");
               if (value.length == inputs.length) {
               inputs.forEach((input, index) => (input.value = value[index]));
               }
            }
            
            function handleOtp(e) {
               const input = e.target;
               let value = input.value;
               let otpValue=[];
               for(var i=0;i<5;i++){
               otpValue.push(document.getElementsByClassName("otp")[i].value);
               var filterotpValue =otpValue.toString().replace(/,/g, "");
                 $("#enteredEmailOtp").val(filterotpValue);
               }
               if(!isNaN(value)){
               input.value = "number";
               input.value = value ? value[0] : "";
               
               let fieldIndex = input.dataset.index;
               if (value.length > 0 && fieldIndex < inputs.length - 1) {
                 if(value!=" ")
               input.nextElementSibling.focus();
               else{
                  input.value = "";
               }
               }

                if (e.key == "Backspace" && fieldIndex > 0) {
                input.previousElementSibling.focus();
             }
                if (fieldIndex == inputs.length - 1) {
                   submit();
                }
               }
               else{
                  input.value = "";
               }
               }
      });

      $(function(){
            for(var i=0;i<5;i++){
               $('#m-code').append('<input placeholder="OTP"  class="input-element input-field otp-mobile otp-pan" name="m-code1" type="text"  maxLength="1"/>');
            }
      });
      
      $(function(){
         const inputs = document.querySelectorAll("#m-code input");
         inputs.forEach((input, index) => {
         input.dataset.index = index;
         input.addEventListener("paste", handleOnPasteOtp);
         input.addEventListener("keyup", handleOtp);
          });
          
          function handleOnPasteOtp(e) {
               const data = e.clipboardData.getData("number");
               const value = data.split("");
               if (value.length == inputs.length) {
               inputs.forEach((input, index) => (input.value = value[index]));
               }
            }


            function handleOtp(e) {
               const input = e.target;
               let value = input.value;

               let otpMobileValue=[];
               for(var i=0;i<5;i++){
               otpMobileValue.push(document.getElementsByClassName("otp-mobile")[i].value);
               var filterotpMobileValue =otpMobileValue.toString().replace(/,/g, "");
                 $("#enteredMobileOtp").val(filterotpMobileValue);
               }
               

               if(!isNaN(value)){
               input.value = "number";
               input.value = value ? value[0] : "";
               
               let fieldIndex = input.dataset.index;
               if (value.length > 0 && fieldIndex < inputs.length - 1) {
                  if(value!=" ")
               input.nextElementSibling.focus();
               else{
                  input.value = "";
               }
               }

                if (e.key == "Backspace" && fieldIndex > 0) {
                input.previousElementSibling.focus();
             }
                if (fieldIndex == inputs.length - 1) {
                   submit();
                }
               }
               else{
                  input.value = "";
               }
               }
      });



      $(function(){
         if(sessionStorage.getItem('emailseconds')){
         jQuery('#seconds').text(sessionStorage.getItem('emailseconds'));
            timeLeft=sessionStorage.getItem('emailseconds');
         }else{
         jQuery('#seconds').text(60);
         timeLeft = 60;
         }
         function countdown() {
         if(timeLeft > 0){
	      timeLeft--;
         if(document.getElementById("seconds")){
	      document.getElementById("seconds").innerHTML = String( timeLeft );
         }
         }else{
            $('.email-otp-resend').show();
            $('.resend-email-otp').hide();
            sessionStorage.removeItem('emailseconds');
         }
      };
	      if (timeLeft > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });
      
         $(function(){
         if(sessionStorage.getItem('phoneseconds')){
         jQuery('#phoneseconds').text(sessionStorage.getItem('phoneseconds'));
            timeLeftphone=sessionStorage.getItem('phoneseconds');
         }else{
         jQuery('#phoneseconds').text(60);
         timeLeftphone = 60;
         }
         function countdown() {
         if(timeLeftphone > 0){
	      timeLeftphone--;
            if(document.getElementById("phoneseconds")){
	         document.getElementById("phoneseconds").innerHTML = String( timeLeftphone );
         }
         }else{
            $('.phone-otp-resend').show();
            $('.resend-phone-otp').hide();
            sessionStorage.removeItem("phoneseconds");
         }
      };
	      if (timeLeftphone > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });


      $(function(){
         timeLefts = 60;
         function pancountdowns() {
	      timeLefts--;
	      document.getElementById("panseconds").innerHTML = String( timeLefts );
	      if (timeLefts > 0) {
		      setTimeout(pancountdowns, 1000);
      	   }
      };
            setTimeout(pancountdowns, 1000);
      });
      




               jQuery('#fullName').keypress(function(e) {
                    var regex = new RegExp("^[A-Za-z-.& ,+!@#$%\^*();\/]*$");
                    var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
                    if (regex.test(str)) {
                    	return true;
                    } else {
                    	e.preventDefault();
                    	$("#registerError").text("Please enter alphabets.");
                        $("#registerError").show();
                    	return false;
                    }
               });


               $('#password').on("blur", function(){
                   var password = $('#password').val();
                   var confirmPwd = $('#confirmPassword').val();
                   if(confirmPwd?.length > 0) {
                        if(password != confirmPwd) {
                           $("#confirmPasswordError").text("Please enter same as password");
                           $("#confirmPasswordError").show();
                        }
                   }
               });

               $('#password').on("focus", function(){
                     $('#input-error-password').hide();
               });

                $('#email').on('focus',function(){
                  $('#input-error-email').hide();
                  $('#server-validation-message').hide();
               });

                $('#phoneNumber').on('focus',function(){
                  $('#input-error-phone_number').hide();
               });
               
               
               $('#confirmPassword').on("blur", function(){
                   var password = $('#password').val();
                   var confirmPwd = $('#confirmPassword').val();
                   if(confirmPwd != password) {
                        $("#confirmPasswordError").text("Confirm Password is not matching with Password.");
                        $("#confirmPasswordError").show();
                   }
               });

               jQuery('#fullName').on("blur", function(e){
                 $("#registerError").hide();
                 var fullNameValue = e.target.value;
                 if(fullNameValue.length === 0) {
                    $("#registerError").text("Full Name can't be empty.");
                    $("#registerError").show();
                 } else if(fullNameValue.length < 3) {
                    $("#registerError").text("Full Name should be minimum 3 characters");
                    $("#registerError").show();
                 } else if (fullNameValue.length > 2) {
                    $("#registerError").hide();
                 }
               });

               jQuery('#userName').on("blur", function(e){
                 $("#userNameError").hide();
                 var userNameValue = e.target.value;
                 if(userNameValue.length === 0) {
                    $("#userNameError").text("Username can't be empty.");
                    $("#userNameError").show();
                 } else if(userNameValue.length < 3) {
                    $("#userNameError").text("Username should be minimum 3 characters");
                    $("#userNameError").show();
                 } else if (userNameValue.length > 2) {
                    $("#userNameError").hide();
                 }
               });
                
                  let phonecode=$("#phoneNumber").val();
                  sessionStorage.setItem('phone-code',phonecode); 
                  
                  $('#email').keypress(function( e ) {
                     if(e.which === 32) 
                        return false;
                  });


               jQuery('#phoneNumber').keyup( function(e) {
                     var phoneinputvalue = (e.target.value).toLowerCase();
                     sessionStorage.setItem('phone',phoneinputvalue);
                     $('#phoneNumber').val(phoneinputvalue);
                     var mobileNumberValue = (e.target.value);
                     var removeLeadingZero = mobileNumberValue.toString().replace(/^0+/, '');
                     $('#phoneNumber').val(removeLeadingZero);
                     var pattern = new RegExp("[6789]{1}[0-9]{9}");
                     if (mobileNumberValue.length >= 1 && mobileNumberValue.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
                              $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();
                     }else if (!(pattern.test(mobileNumberValue)) && mobileNumberValue.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
                              $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();
                     } else if (mobileNumberValue.length === 0 && sessionStorage.getItem('selectedCountryCode') === "91") {
                              $("#phoneNumberError").text("Phone Number can't be empty.");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();        
                     }else if(sessionStorage.getItem('phone-verify-message')){
                              $('#phoneotp-verify').hide();
                     }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length > 4){
                              $("#input-error-phone_number").hide();
                              $("#phoneNumberError").hide();
                     }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length <= 3){
                              $("#phoneNumberError").text("Mobile Number is Invalid");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();                     
                     }else if(sessionStorage.getItem('selectedCountryCode') === "91"){
                              $('#phoneotp-verify').show();
                              $("#phoneNumberError").hide(); 
                     }else{
                              $("#phoneNumberError").hide(); 
                     }
               });

               jQuery(document).ready(function($){
                  $("#phoneNumber").on("paste",function(){
                     $('#phoneotp-verify').hide();
                     var mobileNumberValue=$(this);
                     setTimeout(function(){
                     var pattern = new RegExp("[6789]{1}[0-9]{9}");
                     if (pattern.test(mobileNumberValue) === false) {
                                 $('#phoneotp-verify').hide();
                     }else if (mobileNumberValue.length === 0) {
                              $("#phoneNumberError").text("Phone Number can't be empty.");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();        
                     }else if(sessionStorage.getItem('phone-verify-message')){
                              $('#phoneotp-verify').hide();
                     }else if(sessionStorage.getItem('selectedCountryCode') === "91"){
                              $('#phoneotp-verify').show();
                     }
                     },1);

                  });
                  
               });



               if(sessionStorage.getItem('selectedCountryCode') === "91"){
                  $('#phoneNumber').attr("maxlength","10")
               }else{
                  $('#phoneNumber').attr("maxlength","13")
               }

               
             jQuery('#phoneNumber').keypress(function(e){
                   var mobileNumberValue = e.target.value;
                   if(e.which != 8 && e.which != 0 && e.which < 48 || e.which > 57) {
                        e.preventDefault();
                   }
               });             

               jQuery('#email').on("blur", function(e){
                     $("#emailError").hide();
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $("#emailError").text("Email can't be empty.");
                        $("#emailError").show();
                        $('#emailotp-verify').hide();
                        $('.email-verfiy-img').hide();
                     } else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,10})+$/.test(emailValue))) {
                        $("#emailError").text("Please enter valid email id");
                        $("#emailError").show();
                        $('.email-verfiy-img').hide();
                        $('#emailotp-verify').hide();
                     }else if(sessionStorage.getItem('email-verify-message')){
                        $('#emailotp-verify').hide();
                     }
                     else{
                        $('#emailotp-verify').show();
                     }
               });

               jQuery('.forgot-email-address').on("blur", function(e){
                     $("#emailError").hide();
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $("#emailError").text("Email can't be empty.");
                        $("#emailError").show();
                     } else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(emailValue))) {
                        $("#emailError").text("Please enter valid email id");
                        $("#emailError").show();
                     }
               });

               jQuery('.forgot-email-address').on("keyup", function(e){
                     $("#emailError").hide();
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $("#emailError").text("Email can't be empty.");
                        $("#emailError").show();
                     } else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(emailValue))) {
                        $("#emailError").text("Please enter valid email id");
                        $("#emailError").show();
                     }
               });



                     jQuery('#email').on("keyup", function(e){
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $('#emailotp-verify').hide();
                     }else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,10})+$/.test(emailValue))) {
                        $('#emailotp-verify').hide();
                     }
                     else {
                        sessionStorage.setItem('email',emailValue);  
                        $('#email').val(emailValue);
                        $('#emailotp-verify').show();
                        $('.email-verfiy-img').hide();
                     }
               });

               jQuery('#password').on("blur", function(e) {
                     $("#passwordError").hide();
                     var passwordValue = e.target.value;
                     if(passwordValue.length === 0) {
                        $("#passwordError").text("Password can't be empty.");
                        $("#passwordError").show();
                     } else if (!(/^(?:(?=.*\d)(?=.*[a-z])(?=.*[A-Z])).{6,20}$/.test(passwordValue))) {
                        $("#passwordError").text("Password must include at least one uppercase letter, lowercase letter, number, special character and should be between 6-20 characters.");
                        $("#passwordError").show();
                     }
               });

                
               jQuery('#confirmPassword').on("blur", function(e) {
                     $("#confirmPasswordError").hide();
                     var confirmPwdValue = e.target.value;
                     if(confirmPwdValue.length === 0) {
                        $("#confirmPasswordError").text("Confirm Password can't be empty.");
                        $("#confirmPasswordError").show();
                     } else if (!(/^(?:(?=.*\d)(?=.*[a-z])(?=.*[A-Z])).{6,20}$/.test(confirmPwdValue))) {
                        $("#confirmPasswordError").text("Password must include at least one uppercase letter, lowercase letter, number, special character and should be between 6-20 characters.");
                        $("#confirmPasswordError").show();
                     }
               });

               jQuery('#fullName, #userName, #email, #password').keyup(function(e) {
                   $(this).closest('.nsws-input-field').children('.floating-label+span').hide();
               });

               jQuery('#phoneNumber').keyup(function(e) {
                   $(this).closest('.nsws-input-field').children('.floating-label+span').hide();
                   $(this).closest('.nsws-input-field').children('.floating-label+#input-error-phone_number').hide();
               });

               jQuery('#agreementCheck').change(function() {
                  var checkState = $('#agreementCheck').prop("checked");
                  $('#registerBtn').prop("disabled", !$("#agreementCheck").prop("checked"));
               });


               $('.pwd-hide-icon-login').hide();
               jQuery('.pwd-view-icon-login, .pwd-hide-icon-login').click(function() {
                  if('password' == $('#password').attr('type')){
                     $('#password').prop('type', 'text');
                     $('.pwd-hide-icon-login').show();
                     $('.pwd-view-icon-login').hide();
                  } else {
                     $('#password').prop('type', 'password');
                     $('.pwd-view-icon-login').show();
                     $('.pwd-hide-icon-login').hide();
                  }
               });
                              
               $('.pwd-hide-icon').hide();
               jQuery('.pwd-view-icon, .pwd-hide-icon').click(function() {
                  if('password' == $('#password').attr('type')){
                     $('#password').prop('type', 'text');
                     $('.pwd-hide-icon').show();
                     $('.pwd-view-icon').hide();
                  } else {
                     $('#password').prop('type', 'password');
                     $('.pwd-view-icon').show();
                     $('.pwd-hide-icon').hide();
                  }
               });

               $('.cnf-pwd-hide-icon').hide();
               jQuery('.cnf-pwd-view-icon, .cnf-pwd-hide-icon').click(function() {
                  if('password' == $('#confirmPassword').attr('type')){
                     $('#confirmPassword').prop('type', 'text');
                     $('.cnf-pwd-hide-icon').show();
                     $('.cnf-pwd-view-icon').hide();
                  } else {
                     $('#confirmPassword').prop('type', 'password');
                     $('.cnf-pwd-view-icon').show();
                     $('.cnf-pwd-hide-icon').hide();
                  }
               });
                     
               $('.pwd-hide-icon.update-pwd').hide();
               jQuery('.pwd-view-icon.update-pwd, .pwd-hide-icon.update-pwd').click(function() {
                  if('password' == $('#password-new').attr('type')){
                     $('#password-new').prop('type', 'text');
                     $('.pwd-hide-icon.update-pwd').show();
                     $('.pwd-view-icon.update-pwd').hide();
                  } else {
                     $('#password-new').prop('type', 'password');
                     $('.pwd-view-icon.update-pwd').show();
                     $('.pwd-hide-icon.update-pwd').hide();
                  }
               });

                    $('.cnf-pwd-hide-icon.update-cnf').hide();
               jQuery('.cnf-pwd-view-icon.update-cnf, .cnf-pwd-hide-icon.update-cnf').click(function() {
                  if('password' == $('#password-confirm').attr('type')){
                     $('#password-confirm').prop('type', 'text');
                     $('.cnf-pwd-hide-icon.update-cnf').show();
                     $('.cnf-pwd-view-icon.update-cnf').hide();
                  } else {
                     $('#password-confirm').prop('type', 'password');
                     $('.cnf-pwd-view-icon.update-cnf').show();
                     $('.cnf-pwd-hide-icon.update-cnf').hide();
                  }
               });

               jQuery('.pan-btn').click(function(){
               $('#username').remove();
               $('#password').remove();
               $("#passwordError").hide();
               });

               jQuery('#userPanNumber').change(function(e){
                     $("#userPanError").hide();
                     var panValue = (e.target.value);
                     if(panValue.length === 0) {
                        $("#userPanError").text("Pan Number Can't Be Empty");
                         $('.signin-pan-btn').prop('disabled', true);
                        $("#userPanError").show();
                     } else if (!(/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/.test(panValue))) {
                        $("#userPanError").text("Entered PAN is invalid");
                         $('.signin-pan-btn').prop('disabled', true);
                        $("#userPanError").show();
                     } else if(panValue.length===10){
                        $('.signin-pan-btn').prop('disabled', false);
                        $("#userPanError").hide();
                     }
               });


               $('#phoneNumber').on('input', function(event) {
                  var s = $('#phoneNumber').val().toString();
                  var x = s.replace(/[^\d+]/gi, '');
                  $('#phoneNumber').val(x);
               })

             $('#otp-action').hide();
               setTimeout(function(){
                  $('#otp-action').show();
                  $('.resend-pan-otp').hide();
               },60000);

               if($('.otp-verify-phone').text().slice(1,3)==="91"){ 
                        $("#m-code").show();
                        $('.email-otp-notification').text('We have sent you an verification code in your Email and Mobile number you need to enter code to verify');
                     } else {
                        $("#m-code").hide();
                        $('.email-otp-notification').text('We ve sent you an verification code on your email you need to enter code to verify.');
                     }  
               var errortext=$('.server-message ').text().trim();
               if(errortext === 'You should receive an email shortly with further instructions.'){
                     $('.server-message').text('You should receive an email shortly with instructions on resetting your password.');
                     $('.error-icon-user-timeout').hide();
               }
               if(errortext === 'Cannot update with the previous password.'){
                     $(".server-message").attr("id","loginErrorMessage");
                     $('.error-icon').hide();
               }
               if(errortext === 'Action expired. Please continue with login now.'){
                     $(".server-message").attr("id","loginErrorMessage");
                     $('.error-icon').hide();
               } 
               if(errortext === 'Your login attempt timed out.Please relogin.'){
                  $(".server-message").attr("id","loginErrorMessage");
                  $('.error-icon').hide();
               }
               if(errortext === 'You need to change your password.'){
                  $(".server-message").attr("id","loginErrorMessage");
                  $('.error-icon').hide();
               } 
               if(errortext === 'Two different roles are assigned to this user. Please check.'){
                  $(".server-message").attr("id","loginErrorMessage");
                  $('.error-icon').hide();
               } 

            var errortextsignup=$('#server-validation-message').text().trim();
            if(errortextsignup === 'Action expired. Please continue with login now.'){
               $('.server-message').hide();
               $('.error-icon').hide();
               $('.error-icon-user-timeout').hide();
            }
               
            const url = new URLSearchParams(window.location.search);
            const keys = Object.fromEntries(url.entries());   
            if(keys.client_id === 'ministry-portal-prod'){
                  $('.signup-text-btn').hide(); 
            }else if(keys.client_id === 'ministry-portal-ppe-stage'){
                  $('.signup-text-btn').hide(); 
            }else if(keys.client_id === 'ministry-portal-uat'){
                  $('.signup-text-btn').hide(); 
            }

                     const testimonialUrl = (origin) => {
                           switch (origin) {
                               case "https://sso-uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in/testimonial`;
                              case "https://uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in/testimonial`;
                              case "https://qa-nsws.investindia.gov.in":
                                 return `https://qa-nsws.investindia.gov.in/testimonial`;
                              case "https://dev-nsws.investindia.gov.in":
                                 return `https://dev-nsws.investindia.gov.in/testimonial`;
                              case "https://mpf-nsws.investindia.gov.in":
                                 return `https://mpf-nsws.investindia.gov.in/testimonial`;
                              case "https://www.ppe.nsws.gov.in":
                                 return `https://www.ppe.nsws.gov.in/testimonial`;
                              case "https://www.demo.nsws.gov.in":
                                 return `https://www.demo.nsws.gov.in/testimonial`;
                              case "https://www.nsws.gov.in":
                                 return `https://www.nsws.gov.in/testimonial`;
                              default:
                                 return `https://qa-nsws.investindia.gov.in/testimonial`;
                           }
                     };

                     const testimonialUrlImage = (origin) => {
                           switch (origin) {
                               case "https://sso-uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in`;
                              case "https://uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in`;
                              case "https://qa-nsws.investindia.gov.in":
                                 return `https://qa-nsws.investindia.gov.in`;
                              case "https://dev-nsws.investindia.gov.in":
                                 return `https://dev-nsws.investindia.gov.in`;
                              case "https://mpf-nsws.investindia.gov.in":
                                 return `https://mpf-nsws.investindia.gov.in`;
                              case "https://www.ppe.nsws.gov.in":
                                 return `https://www.ppe.nsws.gov.in`;
                              case "https://www.demo.nsws.gov.in":
                                 return `https://www.demo.nsws.gov.in`;
                              case "https://www.nsws.gov.in":
                                 return `https://www.nsws.gov.in`;
                              default:
                                 return `https://qa-nsws.investindia.gov.in`;
                           }
                     };
                        
                     $.get(testimonialUrl(origin), function( data ) {
                          var html="";
                          for(var i=0; i<data.length; i++)
                           {        
                                     if(i==0){

                                        html+= ' <div class="carousel-item active" data-bs-interval="5000"> '  + 
                                     

                                   ' <div class="d-block w-100">'
                                        +
                                       '<div class="nsws-testimonial-block">'
                                         + 
                                          '<div class="nsws-testimonial-img">'
                                          + 
                                          '<img class="director-image"  src= '+testimonialUrlImage(origin) +data[i].image +' alt="" />'
                                          +
                                        '  </div>'
                                          + 
                                         ' <div class="nsws-testimonial-content">'
                                          + 
                                          '<span class="right-description">'+data[i].quote +'</span>'
                                          +
                                          '<span class="right-1st-description">' +data[i].name+'</span>' 
                                          +
                                          '<span class="right-2nd-description">'+data[i].designation + '</span>'
                                        + 
                                        ' </div>'
                                        + 
                                        ' </div>'
                                        + 
                                        ' </div>'
                                        + 
                                        '</div>'
                                         }
                                         else{
                                          html+= ' <div class="carousel-item" data-bs-interval="5000"> '  + 
                                     

                                     ' <div class="d-block w-100">'
                                          + 
                                         '<div class="nsws-testimonial-block">'
                                           + 
                                            '<div class="nsws-testimonial-img">'
                                            + 
                                            '<img class="director-image" src= '+testimonialUrlImage(origin) +data[i].image +' alt="" />'
                                            +
                                          '  </div>'
                                            + 
                                           ' <div class="nsws-testimonial-content">'
                                            + 
                                            '<span class="right-description">'+data[i].quote +'</span>'
                                            +
                                            '<span class="right-1st-description">' +data[i].name+'</span>' 
                                            +
                                            '<span class="right-2nd-description">'+data[i].designation + '</span>'
                                          + 
                                          ' </div>'
                                          + 
                                          ' </div>'
                                          + 
                                          ' </div>'
                                          + 
                                          '</div>'
                                         }
                                       }
                                       $( ".carousel-inner" ).html(html);
                                    });
                                       

               jQuery("#email").focusout(function(){
                 var userEmail = $('#email').val().toString().toLowerCase();
                 $("#userName").val(userEmail);
               });
            if(origin === 'https://sso-uat-nsws.investindia.gov.in') {
               $("#backToLoginRedirection").attr("href", "https://uat-nsws.investindia.gov.in/portal/login");
            } else {
               $("#backToLoginRedirection").attr("href", "/portal/login")
            }
            jQuery("#password").focusout(function(){
                 var enteredPassword = $('#password').val();
                 $("#confirmPassword").val(enteredPassword);
               });

               $("#backToLoginPanFlow").attr("href", testimonialUrlImage(origin)+ "/portal/login");   
            

             var browserName = (function(agent) {
                  switch (true) {
                     case agent.indexOf("edge") > -1:
                        return "MS Edge";
                     case agent.indexOf("edg/") > -1:
                        return "Edge ( chromium based)";
                     case agent.indexOf("opr") > -1 && !!window.opr:
                        return "Opera";
                     case agent.indexOf("chrome") > -1 && !!window.chrome:
                        return "Chrome";
                     case agent.indexOf("trident") > -1:
                        return "MS IE";
                     case agent.indexOf("firefox") > -1:
                        return "Mozilla Firefox";
                     case agent.indexOf("safari") > -1:
                        return "Safari";
                     default:
                        return "other";
                  }
               })(window.navigator.userAgent.toLowerCase());

               if (browserName === 'Edge ( chromium based)') {
                  $('#username').attr('autocomplete', 'new-email');
                  $('#password').attr('autocomplete', 'new-password');
               }
               else {
                  $('#username').attr('autocomplete', 'off');
                  $('#password').attr('autocomplete', 'off');
               }
               
               var title =$('.title').text();
               var signuptitle=$('.signup-title').text();
               var forgotpasswordtitle=$('.forgotpassword-title').text();
               if(title === 'Sign In to madhyam'){
                  $('.title').text('Sign In to National Single Window System');
               } 
               if(signuptitle === 'Sign Up'){
                  $('.title').text('Sign Up to National Single Window System');
               }
               if(forgotpasswordtitle === 'Forgot Password?'){
                  $('.title').text('Forgot Password | National Single Window System');
               }



 
      $('#email-otp-action').hide();
      let validationmessage = $('#server-validation-message').text().trim();
      let emailvalidationmessage = $('#input-error-email-otp').text().trim();
      if (validationmessage === 'E_OTP_SEND' || emailvalidationmessage === 'Entered Email OTP is wrong, Please Enter Valid OTP Again.') {
         setTimeout(function() {
            $('#email-otp-action').show();
            $('.resend-email-otp').hide();
            $('.email-otp-verify').hide();
            $('.email-otp-resend').show();
            if(validationmessage === "Edit-email"){
            $('.email-otp-verify').show();
            $('#emailotp-editemail').hide(); 
            }else {
            $('#emailotp-editemail').show();
            }
                  $(function(){
         if(sessionStorage.getItem('emailseconds')){
         jQuery('#seconds').text(sessionStorage.getItem('emailseconds'));
            timeLeft=sessionStorage.getItem('emailseconds');
         }else{
         jQuery('#seconds').text(63);
         timeLeft = 63;
         }
         function countdown() {
	      timeLeft--;
         if(document.getElementById("seconds")){
	      document.getElementById("seconds").innerHTML = String( timeLeft );
         }
      };
	      if (timeLeft > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });
            if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
            }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }

            $('.email-otp-resend-text-btn').click(function() {
                  $('.input-otp-email-verify').slideDown();
                  $('.input-otp-email-verify').show();
                  $('#email').hide();
                  $('.register-btn').hide();
                  $('#phonenumber-field').hide();
                  $('#setpassword-field').hide();
                  $('.signupformclear').hide();
                  sessionStorage.removeItem("emailseconds");
                  $(this).hide();
                  $('#server-validation-message').hide();
                  $('#input-error-password').hide();
                  $('#email-otp').html(emailfieldvalue);
            })

         }, 60000);
      }



      let emailerrormessage = $('#input-error-email').text().trim();
      let validationmessagephone = $('#server-validation-message-phone').text().trim();

      if (validationmessage === 'E_OTP_SEND') {
         $('.input-otp-email-verify').slideUp();
         $('.input-otp-email-verify').show();
         $('#email').hide();
         $('.register-btn').hide();
         $('#phonenumber-field').hide();
         $('#setpassword-field').hide();
         $(this).hide();
         $('#emailotp-editemail').show();
         $('#server-validation-message').hide();
         $('#input-error-password').hide();
         $('.signupformclear').hide();
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         $('.registerbtn-container').hide();
         sessionStorage.removeItem("emailseconds");
         let emailfieldvalue = $('#email').val();
         $('#email-otp').html(emailfieldvalue);
         if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
            $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }
         let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         let mobileNumber =$('#phoneNumber').val();
         if(phonevalidationmessage === 'p-verified') {
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') === 'p-verified' && sessionStorage.getItem('selectedCountryCode') !== "91"){
               $('#phoneotp-verify').hide();
         }else if(mobileNumber.length >= 1 && mobileNumber.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(!(pattern.test(mobileNumber)) && mobileNumber.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') !== 'p-verified' && sessionStorage.getItem('selectedCountryCode') === "91" && mobileNumber){
               $('#phoneotp-verify').show();
         }

      }else if (emailerrormessage === 'Your Email is not verified. Please verify your email.'&& sessionStorage.getItem('email')){
         $('#emailotp-verify').show();
          $('.server-message').hide();
      }else if (emailvalidationmessage === 'Entered Email OTP is wrong, Please Enter Valid OTP Again.') {
         $('.input-otp-email-verify').slideUp();
         $('.input-otp-email-verify').show();
         $('#email').hide();
         $('.register-btn').hide();
         $('#phonenumber-field').hide();
         $('#setpassword-field').hide();
         $(this).hide();
         $('#emailotp-editemail').show();
         $('#server-validation-message').hide();
         $('.signupformclear').hide();
         $('.registerbtn-container').hide();
         let emailfieldvalue = $('#email').val();
         $('#email-otp').html(emailfieldvalue);
         $('#server-validation-message-verified').hide();
         $('#input-error-password').hide();
         if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }

      } else if (emailvalidationmessage == 'e-verified') {
         $('#server-validation-message-verified').hide();
         $('#input-error-password').hide();
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         $('.registerbtn-container').show();
         let emailverifymessage = $('#server-validation-message-verified').text().trim();  
         sessionStorage.setItem('email-verify-message',emailverifymessage);
         if(sessionStorage.getItem('phone') && sessionStorage.getItem('phone').length > 2  ) {
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }else if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }
         
         let emailfieldvalue = $('#email').val();
         sessionStorage.setItem('email',emailfieldvalue);
         let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         let mobileNumber =$('#phoneNumber').val();
         if(phonevalidationmessage === 'p-verified') {
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') === 'p-verified' && sessionStorage.getItem('selectedCountryCode') !== "91"){
               $('#phoneotp-verify').hide();
         }else if(mobileNumber.length >= 1 && mobileNumber.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(!(pattern.test(mobileNumber)) && mobileNumber.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') !== 'p-verified' && sessionStorage.getItem('selectedCountryCode') === "91" && mobileNumber){
               $('#phoneotp-verify').show();
         }
      } else if (emailerrormessage === 'Email already exists.') {
         $('#input-error-password').hide();
      }

      $('#emailotp-editemail').click(function() {
         validationmessage = "Edit-email";
         $('.input-otp-email-verify').slideDown();
         $('.input-otp-email-verify').hide();
         $('#email').show();
         $('#phonenumber-field').show();
         $('#setpassword-field').show();
         $('.register-btn').show();
         $('.signupformclear').show();
         $(this).hide();
         $('#emailotp-verify').show();
         $('#server-validation-message-verified-phone').hide();
         $('#input-error-password').hide();
         $('.registerbtn-container').show();
         sessionStorage.removeItem("emailseconds");
         if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }
         let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         let mobileNumber =$('#phoneNumber').val();
         if(phonevalidationmessage === 'p-verified') {
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') === 'p-verified' && sessionStorage.getItem('selectedCountryCode') !== "91"){
               $('#phoneotp-verify').hide();
         }else if(mobileNumber.length >= 1 && mobileNumber.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(!(pattern.test(mobileNumber)) && mobileNumber.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') !== 'p-verified' && sessionStorage.getItem('selectedCountryCode') === "91" && mobileNumber){
               $('#phoneotp-verify').show();
         }
      })

      $('#phone-otp-action').hide();
      let phoneerroemessage=$('#input-error-phone_number').text().trim();
      let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
      if (validationmessagephone === 'OTP send' || phonevalidationmessage === 'Entered Mobile OTP is wrong, Please Enter Valid OTP Again.') {
         setTimeout(function() {
            $('#phone-otp-action').show();
            $('.resend-phone-otp').hide();
            $('.phone-otp-verify').hide();
            $('.phone-otp-resend').show();
            if(validationmessagephone === "Edit-phone"){
            $('.phone-otp-verify').show();
            $('#phoneotp-editphone').hide();
            }else {
            $('#phoneotp-editphone').show();
            }
         $(function(){
         if(sessionStorage.getItem('phoneseconds')){
         jQuery('#phoneseconds').text(sessionStorage.getItem('phoneseconds'));
            timeLeftphone=sessionStorage.getItem('phoneseconds');
         }else{
         jQuery('#phoneseconds').text(63);
         timeLeftphone = 63;
         }
         function countdown() {
	      timeLeftphone--;

         if(document.getElementById("phoneseconds")){
	      document.getElementById("phoneseconds").innerHTML = String( timeLeftphone );
         }
      };
	      if (timeLeftphone > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });
            $('.phone-otp-resend-text-btn').click(function() {
                  $('.input-otp-phone-verify').slideDown();
                  $('.input-otp-phone-verify').show();
                  $('#phoneNumber').hide();
                  $('.register-btn').hide();
                  $('.signupformclear').hide();
                  $('#phonenumber-field').hide();
                  $('#setpassword-field').hide();
                  sessionStorage.removeItem("phoneseconds");
                  $(this).hide();
                  $('#server-validation-message').hide();
                  $('#input-error-password').hide();
            })
         }, 60000);
      }

      if (validationmessagephone === 'OTP send') {    
         $('.input-otp-phone-verify').slideUp();
         $('.input-otp-phone-verify').show();
         $('#phoneNumber').hide();
         $('.register-btn').hide();
         $('#setpassword-field').hide();
         $(this).hide();
         $('#phoneotp-editphone').show();
         $('#server-validation-message').hide();
         $('#server-validation-message-phone').hide();
         $('#input-error-password').hide();
         $('.signupformclear').hide();
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         $('#email').val(sessionStorage.getItem('email')); 
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         $('.iti__flag-container').hide();

         if(emailvalidationmessage === 'e-verified') {
              $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') === 'e-verified' && sessionStorage.getItem('email')){
             $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') != 'e-verified' && sessionStorage.getItem('email') ){
             $('#emailotp-verify').show();  
         }

      }else if(sessionStorage.getItem('phone') && phoneerroemessage === 'Your Phone number is not verified. Please verify your Phone number.'){
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         
         var mobileNumberValue = $('#phoneNumber').val();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         if(!pattern.test(mobileNumberValue) && mobileNumberValue.length >= 1 && mobileNumberValue.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91" && phoneerroemessage === 'Your Phone number is not verified. Please verify your Phone number.'){
            $("#input-error-phone_number").text("Mobile Number should be of exact 10 digits");
            $("#input-error-phone_number").show();
            $('#phoneotp-verify').hide();
         }else if (!(pattern.test(mobileNumberValue)) && mobileNumberValue.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91" &&  phoneerroemessage === 'Your Phone number is not verified. Please verify your Phone number.') {
            $("#input-error-phone_number").text("Mobile Number should start from 6,7,8, and 9 Only");
            $("#input-error-phone_number").show();
            $('#phoneotp-verify').hide();
         }else{
            $('#phoneotp-verify').show();
         }
      }
       else if (phonevalidationmessage === 'Entered Mobile OTP is wrong, Please Enter Valid OTP Again.') {
         $('.input-otp-phone-verify').slideUp();
         $('.input-otp-phone-verify').show();
         $('#phoneNumber').hide();
         $('.register-btn').hide();
         $('#setpassword-field').hide();
         $('.signupformclear').hide();
         $(this).hide();
         $('#phoneotp-editphone').show();
         $('#server-validation-message-phone').hide();
         $('#server-validation-message-verified-phone').hide();
         $('#input-error-password').hide();
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         $('#email').val(sessionStorage.getItem('email'));
         $('.iti__flag-container').hide();
         
         if(sessionStorage.getItem('email-verify-message') != 'e-verified' && sessionStorage.getItem('email') ){
             $('#emailotp-verify').show();  
         }


      } else if (phonevalidationmessage === 'p-verified') {
         $('#server-validation-message-verified-phone').hide();
         $('#email').val(sessionStorage.getItem('email'));
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         let phoneverifymessage = $('#server-validation-message-verified-phone').text().trim();  
         sessionStorage.setItem('phone-verify-message',phoneverifymessage);
         if(emailvalidationmessage === 'e-verified') {
              $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') === 'e-verified' && sessionStorage.getItem('email')){
             $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') != 'e-verified' && sessionStorage.getItem('email') ){
             $('#emailotp-verify').show();  
         }

      }

      var selectedCountryCode=$("#phoneNumber").intlTelInput("getSelectedCountryData").dialCode;
      $('#phoneotp-editphone').click(function() {
         validationmessagephone = "Edit-phone";
         $('.input-otp-phone-verify').slideDown();
         $('.input-otp-phone-verify').hide();
         $('#phoneNumber').show();
         $('#setpassword-field').show();
         $('.register-btn').show();
         $(this).hide();
         $('.signupformclear').show();
         $('#phoneotp-verify').show();
         $('.iti__flag-container').show();
         $('#email').val(sessionStorage.getItem('email'));
         sessionStorage.removeItem("phoneseconds");
         if(sessionStorage.getItem('phone')){
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }else{
         $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }
      })
                


        if(sessionStorage.getItem('email-verify-message')){
            $('#server-validation-message-verified').val(sessionStorage.getItem('email-verify-message'));
            $('#email').val(sessionStorage.getItem('email'));
            $("#email").prop('readonly',true);
            $('.email-verfiy-img').show();
         }
         else{
            $("#email").prop('readonly',false);
         }

         if(sessionStorage.getItem('phone-verify-message')){
             $('#server-validation-message-verified-phone').val(sessionStorage.getItem('phone-verify-message'));
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
             $('.phone-verfiy-img').show();
             $('#phoneNumber').prop('readonly', true);
         }else{
             $('#phoneNumber').prop('readonly', false);
         }

       $('.resetform').click(function(){
          sessionStorage.clear();
          location.reload();
       }) 
      
      $('.signup-text-btn').click(function(){
          sessionStorage.clear();
          location.reload();
       }) 
     

       var signuptitle = $('.signup-title').text();
       if(signuptitle === 'Sign Up'){
          $('.error-icon-user-timeout').hide();
          $('.error-icon').hide();
          $('.server-message').hide();
       } 

         });  

         var videobg = document.getElementById("video-speed");
         videobg.playbackRate = 0.5;      


      </script>
   </head>
   
   <body>
      <!-- Google Tag Manager (noscript) -->
      <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KRBMWNL"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
      <!-- End Google Tag Manager (noscript) -->
      <div class="access-management">
         <div class="access-container-content">
            <div class="background-flag">
               <video id="video-speed" loop muted autoPlay width="100%">
                 <source src="/auth/resources/egfby/login/sws/video/flag2.mp4" type="video/mp4"/>
               </video>
             </div>
             <div class="nsws-inner-container">
            <a href="/" class="logo-link">
               <img class="nsws-logo" src="/auth/resources/egfby/login/sws/images/nswslogo.png" alt="logo" width="150" height="40">
            </a>
            <div class="inner-content">
               <header class="">
                  <!-- <h1 id="kc-page-title" class="signin-title">        Authentication Redirect
</h1> -->
               </header>
               <div id="kc-content">
                  <div id="kc-content-wrapper">
        <script>window.onload = function() {document.forms[0].submit()};</script>
        <p>Redirecting, please wait.</p>
        <form name="saml-post-binding" method="post" action="https://ssoinvestodisha.odisha.gov.in/realms/goswift-dev/protocol/saml">
                <input type="hidden" name="SAMLRequest" value="PHNhbWxwOkF1dGhuUmVxdWVzdCB4bWxuczpzYW1scD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOnByb3RvY29sIiB4bWxucz0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgeG1sbnM6c2FtbD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgQXNzZXJ0aW9uQ29uc3VtZXJTZXJ2aWNlVVJMPSJodHRwczovL2Rldi1uc3dzLmludmVzdGluZGlhLmdvdi5pbi9hdXRoL3JlYWxtcy9tYWRoeWFtL2Jyb2tlci9vZGlzaGEvZW5kcG9pbnQiIEF0dHJpYnV0ZUNvbnN1bWluZ1NlcnZpY2VJbmRleD0iMCIgRGVzdGluYXRpb249Imh0dHBzOi8vc3NvaW52ZXN0b2Rpc2hhLm9kaXNoYS5nb3YuaW4vcmVhbG1zL2dvc3dpZnQtZGV2L3Byb3RvY29sL3NhbWwiIEZvcmNlQXV0aG49ImZhbHNlIiBJRD0iSURfMDJlYTNlOWMtZTAxMi00ZWU5LTk3MDctMTAyZjFlMTMwMzk2IiBJc3N1ZUluc3RhbnQ9IjIwMjQtMDEtMjNUMDk6NDE6MTYuNjIxWiIgUHJvdG9jb2xCaW5kaW5nPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YmluZGluZ3M6SFRUUC1QT1NUIiBWZXJzaW9uPSIyLjAiPjxzYW1sOklzc3Vlcj5odHRwczovL2Rldi1uc3dzLmludmVzdGluZGlhLmdvdi5pbi9hdXRoL3JlYWxtcy9tYWRoeWFtPC9zYW1sOklzc3Vlcj48ZHNpZzpTaWduYXR1cmUgeG1sbnM6ZHNpZz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI+PGRzaWc6U2lnbmVkSW5mbz48ZHNpZzpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8+PGRzaWc6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkc2lnOlJlZmVyZW5jZSBVUkk9IiNJRF8wMmVhM2U5Yy1lMDEyLTRlZTktOTcwNy0xMDJmMWUxMzAzOTYiPjxkc2lnOlRyYW5zZm9ybXM+PGRzaWc6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz48ZHNpZzpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzEwL3htbC1leGMtYzE0biMiLz48L2RzaWc6VHJhbnNmb3Jtcz48ZHNpZzpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHNpZzpEaWdlc3RWYWx1ZT5IWGhQcHRuRHBSRFY1K1ZubFgvc0haNVVCSmt3T01MSHF1MmtLK0l4bTZFPTwvZHNpZzpEaWdlc3RWYWx1ZT48L2RzaWc6UmVmZXJlbmNlPjwvZHNpZzpTaWduZWRJbmZvPjxkc2lnOlNpZ25hdHVyZVZhbHVlPldqWmV3NUxHN25xUFhlQUxkQWp6NVdaMjBURzVGR0pPdXRvaFNPTTBFVTVYdFJEdlNtUnZLdHNQaHczUHFMMlA5djhHRnpmNzJlM1FiaG1DU2liT1p3b0R2b3hRUTF5SmpmTWJDbmJGeEhUSkhEUm81MlAvWmFJSEp2SzBFK0laSGNLbVBma3QrZVBQL0JBci9uSEtuSVl1RjVJdml2c3pHdEJSS1d5QnF6ZEVvMzA1SEtUNy9WVGZqak5DaThDVjhDODFSS1dRSXRkRVNTNWNucnRpMVVtTkt0R0RsYWhEU2tvVkVtVFJ3MlpmbEVEUC8rWjFlQzNhTGc4dEZDaTMvSkx5MWkyeSt2eG5FOWVsY1FPcGtOdm5QbjZqUW1WcnVDUHdhbDNOMS9xc2ZhSGxIUFRZUEVxMGdnYVRYd3NhbXhDMlo5bk5BemNVd3JzcVBMTXRrQT09PC9kc2lnOlNpZ25hdHVyZVZhbHVlPjxkc2lnOktleUluZm8+PGRzaWc6S2V5TmFtZT5JdmdIeWZDTjhFako2dnFYZ0xEM1VfaTlhOVhnTU83X0FNZWZla21RZXdNPC9kc2lnOktleU5hbWU+PGRzaWc6WDUwOURhdGE+PGRzaWc6WDUwOUNlcnRpZmljYXRlPk1JSUNuVENDQVlVQ0JnRjVha29MS1RBTkJna3Foa2lHOXcwQkFRc0ZBREFTTVJBd0RnWURWUVFEREFkdFlXUm9lV0Z0TUI0WERUSXhNRFV4TkRBNU5UQXdPRm9YRFRNeE1EVXhOREE1TlRFME9Gb3dFakVRTUE0R0ExVUVBd3dIYldGa2FIbGhiVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFMM0xxWkZsZVBWTFpYUUtKZ3o3SUFqTkhsS0YzMzNZNnZod09lU2xlK1UvSTFkeTJLNVhLYmtjWjI4Mmk1YzUzU2hEY0ZTWVhOcnJKcDFUNStCR1kwb1psZkt5cmlOblQ2cmgzVXUvV2dqdi9RZE9LUUZjVVF2RTZnbmo0R1hSY2tZMFhZamc3L3RLbTA0SkV3Q2NZRU1JSzIzOGU0bCtocTNvb2pNOFUzcHVnV2RUV1pQQ1NPQURHcXZYbFBXZjgvNHcydEgrUmpKY1RKZmxDNnl3dm5BYWNXcHRkOEMxRmtIY2E3bEQ0NW5vV29yS1dQM3VKOU4zcTBxcUhTVWg0eUlSVmJZQ01ydmJDZkQvY2p5SkRTbzRMNEhxY0tZRDRBQjJlZ0RhOWVWRWV5c0ZNZW9ES0xVTmNEYXVCQ0NIbFRoSHF6d0pXVnc0aGNWNTNMdlNHMzBDQXdFQUFUQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFUTXBHWmNyN0dDeDZMZmRrNFFIYmdwUFpSaElUR2g0Tk1MTFk3K1JMYUlLSTcxNmhMVTVNVnpIWmFWeTIyZnZFeFM5SHlvU1pvcnZRNzhIR1N2Yk8yU2l4RXBaMDRScUxweWN5NjRob0V3QTlYM0pFYWozUzJjYzM1OFdPYUpmbXFmRHpSUlk3QUtFejN0ZDFrQXBwZThXd2FxMHBOWEp5eFBMK0pqZXRDb3BFdWprdWhUTXR3R2JBZWJwSVVZVFhSWmsxaTgzL2hvSENGNGlzRTFqNHIwMkc0RzhUbDUwcmtuQkk4U2J6MXZFRzBkV2NvbjE3WXhMNUNZRC9FS3VSYXo2MFRyc1JSNUl2NFF6Zk5QWTRjOWgvVGVMQ25zQnljeU5wZ2RCZFJBQ1NET1ozSjAzL2N5T3NFY2x6eVlGR3B6RVR4N1BiZUNQWVZ4Z001end4K1E9PTwvZHNpZzpYNTA5Q2VydGlmaWNhdGU+PC9kc2lnOlg1MDlEYXRhPjwvZHNpZzpLZXlJbmZvPjwvZHNpZzpTaWduYXR1cmU+PHNhbWxwOk5hbWVJRFBvbGljeSBBbGxvd0NyZWF0ZT0idHJ1ZSIgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDpwZXJzaXN0ZW50Ii8+PC9zYW1scDpBdXRoblJlcXVlc3Q+"/>
                <input type="hidden" name="RelayState" value="f51DCoif_k8yDwJUKKdskxsmlYaOH2_LZe1RSSbkXfE.wlDfY_DrgOk.ZIsiufjsSc--o4hQgyBZRQ"/>

            <noscript>
                <p>JavaScript is disabled. We strongly recommend to enable it. Click the button below to continue. </p>
                <input type="submit" value="Continue"/>
            </noscript>
        </form>
                  </div>
               </div>
            </div>
      </div>

<script type="text/javascript">
   
    </script>
   </body>
</html>

-----------------------------------------------------------
Time: 23-01-2024 03:46:17 PM For RequestMethod: Investorid
InputOutput: [strUniqueId]:- D48225DB-3125-438B-AB59-6580099F1737
-----------------------------------------------------------
Time: 23-01-2024 03:46:18 PM For RequestMethod: InputRequestToSAMLAPI
InputOutput: [InputJsonData]:- {"pan":"BSQPJ1955A","cin":"U67190TN2014PTC055555","entityType":"3","email":"demotest@test.com"}
-----------------------------------------------------------
Time: 23-01-2024 03:46:18 PM For RequestMethod: GetResponseFromSAMLAPI
InputOutput: [ResponseStatusCode]:- OK
-----------------------------------------------------------
Time: 23-01-2024 03:46:18 PM For RequestMethod: GetResponseFromSAMLAPI
InputOutput: [ResponseContent]:- <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv='Cache-Control' content="max-age: 31536000, no-cache, no-store, must-revalidate">
      <meta http-equiv='Pragma' content='no-cache'>
      <meta http-equiv='Expires' content='0'>
      <meta name="robots" content="noindex, nofollow">
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="preconnect" href="https://fonts.gstatic.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Khand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

      <!-- Google Tag Manager -->
      <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-KRBMWNL');</script>
      <!-- End Google Tag Manager -->

      <title class='title'>Sign In to National Single Window System</title>
      <link rel="icon" href="/auth/resources/egfby/login/sws/images/favicon.ico" />
      <link href="/auth/resources/egfby/login/sws/css/login1.css?v=1.05" rel="stylesheet" />
      <link href="/auth/resources/egfby/login/sws/css/global.css?v=1.05" rel="stylesheet" />

     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.8/css/intlTelInput.css" />
     
      <!-- JS -->
      <!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
       <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
       <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.8/js/intlTelInput-jquery.min.js"></script>
      <script type="text/javascript">
          if (top !== window) {
            top.location = window.location;
          }
      </script>
      <script>
         /*function backToLogin() {
            if (origin === 'https://sso-uat-nsws.investindia.gov.in') {
               window.location.href = 'https://uat-nsws.investindia.gov.in/portal/login'
            } else {
               window.location.href = origin + '/portal/login'
            }
         }*/

      </script>
      <script>
        jQuery(function(){
            jQuery('input[type="text"]').on("change", function(){
                this.value = jQuery.trim(this.value);
            });
         });
      </script>
      <script>
         jQuery(document).ready(function(){
               if(jQuery(this).find("span.server-message").length > 0){
                  var text = $(".server-message").html();
                  var match = text.split('<br>');
                  jQuery(".server-message").text(match[0]);
               }
              

         function handleCountryCode() {
            $('#phoneNumber').intlTelInput({
                autoHideDialCode: false,
                autoFocus:"OFF",
                autocomplete:"OFF",
                autoPlaceholder: "OFF",
                dropdownContainer: document.body,
                geoIpLookup: function(callback) {
                    $.get('https://ipinfo.io', function() {}, "jsonp").always(function(resp) {
                        var countryCode = (resp && resp.country) ? resp.country : "";
                        callback(countryCode);
                    });
                },
                formatOnDisplay: false,
                hiddenInput: "full_number",
                initialCountry: $("#countryName").val() || "auto",
                nationalMode: true,
                placeholderNumberType: "MOBILE",
                separateDialCode: true
               }).on("countrychange", function(e, countryData) {

                var getSelectedCountryData = $('.iti__selected-dial-code').intlTelInput("getSelectedCountryData");
                var selectedCountryCode=$("#phoneNumber").intlTelInput("getSelectedCountryData").dialCode;
                var countryData=$("#phoneNumber").intlTelInput("getSelectedCountryData");
                $('#phoneNumber').val('');
                $("#phoneNumberError").hide(); 
                $('#phoneotp-verify').hide();
                
               sessionStorage.setItem('selectedCountryCode',selectedCountryCode); 
              
               if(sessionStorage.getItem('selectedCountryCode') !== "91"){
                  $('#phoneNumber').attr("minlength","4")
                  $('#phoneNumber').attr("maxlength","13")
               }else{
                  $('#phoneNumber').attr("maxlength","10")
               }

               jQuery('#phoneNumber').on('input', function(event) {
                  var s = $('#phoneNumber').val().toString();
                  var mobileNumberValue = s.replace(/[^\d+]/gi, '');
                  $('#phoneNumber').val(mobileNumberValue);
                  sessionStorage.setItem('phone',mobileNumberValue);
                  var removeLeadingZero = mobileNumberValue.toString().replace(/^0+/, '');
                  var pattern = new RegExp("[6789]{1}[0-9]{9}");
                  if(pattern.test(mobileNumberValue) === false && mobileNumberValue.length >= 1 && mobileNumberValue.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91" ){
                        $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();
                  }else if(pattern.test(mobileNumberValue) === false  && mobileNumberValue.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91"){
                        $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();
                  }else if (mobileNumberValue.length === 0 && sessionStorage.getItem('selectedCountryCode') === "91") {
                        $("#phoneNumberError").text("Phone Number can't be empty.");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();   
                  }else if(sessionStorage.getItem('phone-verify-message')){
                        $('#phoneotp-verify').hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') === "91"){
                        $('#phoneotp-verify').show();
                        $("#phoneNumberError").hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length > 4){
                        $("#input-error-phone_number").hide();
                        $("#phoneNumberError").hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length <= 3){
                        $("#phoneNumberError").text("Mobile Number is Invalid");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length >= 3){
                        $("#phoneNumberError").hide();
                  }
               })

                jQuery("#phoneNumber").change(function(){
                  $("#countryName").val(countryData.iso2);
                   var userContact = "+" +selectedCountryCode;
                   if(userContact) {
                        $('#phoneNumberCopy').val(userContact);
                   }
                 });
            });


         };
      handleCountryCode()

      
      $(function(){
				for(var i=0;i<5;i++){
               $('#e-code').append('<input placeholder="OTP" class="input-element input-field otp email-otp-focus" name="e-code1" type="text"  maxLength="1"/>');
            }
      });

      $(function(){
         const inputs = document.querySelectorAll("#e-code input");
         inputs[0].focus();
         inputs.forEach((input, index) => {
         input.dataset.index = index;
         input.addEventListener("paste", handleOnPasteOtp);
         input.addEventListener("keyup", handleOtp);
          });

          function handleOnPasteOtp(e) {
               const data = e.clipboardData.getData("number");
               const value = data.split("");
               if (value.length == inputs.length) {
               inputs.forEach((input, index) => (input.value = value[index]));
               }
            }
            
            function handleOtp(e) {
               const input = e.target;
               let value = input.value;
               let otpValue=[];
               for(var i=0;i<5;i++){
               otpValue.push(document.getElementsByClassName("otp")[i].value);
               var filterotpValue =otpValue.toString().replace(/,/g, "");
                 $("#enteredEmailOtp").val(filterotpValue);
               }

               if(!isNaN(value)){
               input.value = "number";
               input.value = value ? value[0] : "";
               
               let fieldIndex = input.dataset.index;
           
               if (value.length > 0 && fieldIndex < inputs.length - 1) {
               if(value!=" ")
               input.nextElementSibling.focus();
               else{
                  input.value = "";
               }
               }

                if (e.key == "Backspace" && fieldIndex > 0) {
                input.previousElementSibling.focus();
             }
                if (fieldIndex == inputs.length - 1) {
                   submit();
                }
               }
               else{
                  input.value = "";
               }
               }
      });
            $(function(){
				for(var i=0;i<5;i++){
               $('#phone-code').append('<input placeholder="OTP"  class="input-element input-field otp" name="m-code1" type="text"  maxLength="1"/>');
            }
      });

      $(function(){
         const inputs = document.querySelectorAll("#phone-code input");
         inputs[0].focus();
         inputs.forEach((input, index) => {
         input.dataset.index = index;
         input.addEventListener("paste", handleOnPasteOtp);
         input.addEventListener("keyup", handleOtp);
          });

          function handleOnPasteOtp(e) {
               const data = e.clipboardData.getData("number");
               const value = data.split("");
               if (value.length == inputs.length) {
               inputs.forEach((input, index) => (input.value = value[index]));
               }
            }
            
            function handleOtp(e) {
               const input = e.target;
               let value = input.value;
               let otpValue=[];
               for(var i=0;i<5;i++){
               otpValue.push(document.getElementsByClassName("otp")[i].value);
               var filterotpValue =otpValue.toString().replace(/,/g, "");
                 $("#enteredEmailOtp").val(filterotpValue);
               }
               if(!isNaN(value)){
               input.value = "number";
               input.value = value ? value[0] : "";
               
               let fieldIndex = input.dataset.index;
               if (value.length > 0 && fieldIndex < inputs.length - 1) {
                 if(value!=" ")
               input.nextElementSibling.focus();
               else{
                  input.value = "";
               }
               }

                if (e.key == "Backspace" && fieldIndex > 0) {
                input.previousElementSibling.focus();
             }
                if (fieldIndex == inputs.length - 1) {
                   submit();
                }
               }
               else{
                  input.value = "";
               }
               }
      });

      $(function(){
            for(var i=0;i<5;i++){
               $('#m-code').append('<input placeholder="OTP"  class="input-element input-field otp-mobile otp-pan" name="m-code1" type="text"  maxLength="1"/>');
            }
      });
      
      $(function(){
         const inputs = document.querySelectorAll("#m-code input");
         inputs.forEach((input, index) => {
         input.dataset.index = index;
         input.addEventListener("paste", handleOnPasteOtp);
         input.addEventListener("keyup", handleOtp);
          });
          
          function handleOnPasteOtp(e) {
               const data = e.clipboardData.getData("number");
               const value = data.split("");
               if (value.length == inputs.length) {
               inputs.forEach((input, index) => (input.value = value[index]));
               }
            }


            function handleOtp(e) {
               const input = e.target;
               let value = input.value;

               let otpMobileValue=[];
               for(var i=0;i<5;i++){
               otpMobileValue.push(document.getElementsByClassName("otp-mobile")[i].value);
               var filterotpMobileValue =otpMobileValue.toString().replace(/,/g, "");
                 $("#enteredMobileOtp").val(filterotpMobileValue);
               }
               

               if(!isNaN(value)){
               input.value = "number";
               input.value = value ? value[0] : "";
               
               let fieldIndex = input.dataset.index;
               if (value.length > 0 && fieldIndex < inputs.length - 1) {
                  if(value!=" ")
               input.nextElementSibling.focus();
               else{
                  input.value = "";
               }
               }

                if (e.key == "Backspace" && fieldIndex > 0) {
                input.previousElementSibling.focus();
             }
                if (fieldIndex == inputs.length - 1) {
                   submit();
                }
               }
               else{
                  input.value = "";
               }
               }
      });



      $(function(){
         if(sessionStorage.getItem('emailseconds')){
         jQuery('#seconds').text(sessionStorage.getItem('emailseconds'));
            timeLeft=sessionStorage.getItem('emailseconds');
         }else{
         jQuery('#seconds').text(60);
         timeLeft = 60;
         }
         function countdown() {
         if(timeLeft > 0){
	      timeLeft--;
         if(document.getElementById("seconds")){
	      document.getElementById("seconds").innerHTML = String( timeLeft );
         }
         }else{
            $('.email-otp-resend').show();
            $('.resend-email-otp').hide();
            sessionStorage.removeItem('emailseconds');
         }
      };
	      if (timeLeft > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });
      
         $(function(){
         if(sessionStorage.getItem('phoneseconds')){
         jQuery('#phoneseconds').text(sessionStorage.getItem('phoneseconds'));
            timeLeftphone=sessionStorage.getItem('phoneseconds');
         }else{
         jQuery('#phoneseconds').text(60);
         timeLeftphone = 60;
         }
         function countdown() {
         if(timeLeftphone > 0){
	      timeLeftphone--;
            if(document.getElementById("phoneseconds")){
	         document.getElementById("phoneseconds").innerHTML = String( timeLeftphone );
         }
         }else{
            $('.phone-otp-resend').show();
            $('.resend-phone-otp').hide();
            sessionStorage.removeItem("phoneseconds");
         }
      };
	      if (timeLeftphone > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });


      $(function(){
         timeLefts = 60;
         function pancountdowns() {
	      timeLefts--;
	      document.getElementById("panseconds").innerHTML = String( timeLefts );
	      if (timeLefts > 0) {
		      setTimeout(pancountdowns, 1000);
      	   }
      };
            setTimeout(pancountdowns, 1000);
      });
      




               jQuery('#fullName').keypress(function(e) {
                    var regex = new RegExp("^[A-Za-z-.& ,+!@#$%\^*();\/]*$");
                    var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
                    if (regex.test(str)) {
                    	return true;
                    } else {
                    	e.preventDefault();
                    	$("#registerError").text("Please enter alphabets.");
                        $("#registerError").show();
                    	return false;
                    }
               });


               $('#password').on("blur", function(){
                   var password = $('#password').val();
                   var confirmPwd = $('#confirmPassword').val();
                   if(confirmPwd?.length > 0) {
                        if(password != confirmPwd) {
                           $("#confirmPasswordError").text("Please enter same as password");
                           $("#confirmPasswordError").show();
                        }
                   }
               });

               $('#password').on("focus", function(){
                     $('#input-error-password').hide();
               });

                $('#email').on('focus',function(){
                  $('#input-error-email').hide();
                  $('#server-validation-message').hide();
               });

                $('#phoneNumber').on('focus',function(){
                  $('#input-error-phone_number').hide();
               });
               
               
               $('#confirmPassword').on("blur", function(){
                   var password = $('#password').val();
                   var confirmPwd = $('#confirmPassword').val();
                   if(confirmPwd != password) {
                        $("#confirmPasswordError").text("Confirm Password is not matching with Password.");
                        $("#confirmPasswordError").show();
                   }
               });

               jQuery('#fullName').on("blur", function(e){
                 $("#registerError").hide();
                 var fullNameValue = e.target.value;
                 if(fullNameValue.length === 0) {
                    $("#registerError").text("Full Name can't be empty.");
                    $("#registerError").show();
                 } else if(fullNameValue.length < 3) {
                    $("#registerError").text("Full Name should be minimum 3 characters");
                    $("#registerError").show();
                 } else if (fullNameValue.length > 2) {
                    $("#registerError").hide();
                 }
               });

               jQuery('#userName').on("blur", function(e){
                 $("#userNameError").hide();
                 var userNameValue = e.target.value;
                 if(userNameValue.length === 0) {
                    $("#userNameError").text("Username can't be empty.");
                    $("#userNameError").show();
                 } else if(userNameValue.length < 3) {
                    $("#userNameError").text("Username should be minimum 3 characters");
                    $("#userNameError").show();
                 } else if (userNameValue.length > 2) {
                    $("#userNameError").hide();
                 }
               });
                
                  let phonecode=$("#phoneNumber").val();
                  sessionStorage.setItem('phone-code',phonecode); 
                  
                  $('#email').keypress(function( e ) {
                     if(e.which === 32) 
                        return false;
                  });


               jQuery('#phoneNumber').keyup( function(e) {
                     var phoneinputvalue = (e.target.value).toLowerCase();
                     sessionStorage.setItem('phone',phoneinputvalue);
                     $('#phoneNumber').val(phoneinputvalue);
                     var mobileNumberValue = (e.target.value);
                     var removeLeadingZero = mobileNumberValue.toString().replace(/^0+/, '');
                     $('#phoneNumber').val(removeLeadingZero);
                     var pattern = new RegExp("[6789]{1}[0-9]{9}");
                     if (mobileNumberValue.length >= 1 && mobileNumberValue.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
                              $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();
                     }else if (!(pattern.test(mobileNumberValue)) && mobileNumberValue.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
                              $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();
                     } else if (mobileNumberValue.length === 0 && sessionStorage.getItem('selectedCountryCode') === "91") {
                              $("#phoneNumberError").text("Phone Number can't be empty.");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();        
                     }else if(sessionStorage.getItem('phone-verify-message')){
                              $('#phoneotp-verify').hide();
                     }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length > 4){
                              $("#input-error-phone_number").hide();
                              $("#phoneNumberError").hide();
                     }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length <= 3){
                              $("#phoneNumberError").text("Mobile Number is Invalid");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();                     
                     }else if(sessionStorage.getItem('selectedCountryCode') === "91"){
                              $('#phoneotp-verify').show();
                              $("#phoneNumberError").hide(); 
                     }else{
                              $("#phoneNumberError").hide(); 
                     }
               });

               jQuery(document).ready(function($){
                  $("#phoneNumber").on("paste",function(){
                     $('#phoneotp-verify').hide();
                     var mobileNumberValue=$(this);
                     setTimeout(function(){
                     var pattern = new RegExp("[6789]{1}[0-9]{9}");
                     if (pattern.test(mobileNumberValue) === false) {
                                 $('#phoneotp-verify').hide();
                     }else if (mobileNumberValue.length === 0) {
                              $("#phoneNumberError").text("Phone Number can't be empty.");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();        
                     }else if(sessionStorage.getItem('phone-verify-message')){
                              $('#phoneotp-verify').hide();
                     }else if(sessionStorage.getItem('selectedCountryCode') === "91"){
                              $('#phoneotp-verify').show();
                     }
                     },1);

                  });
                  
               });



               if(sessionStorage.getItem('selectedCountryCode') === "91"){
                  $('#phoneNumber').attr("maxlength","10")
               }else{
                  $('#phoneNumber').attr("maxlength","13")
               }

               
             jQuery('#phoneNumber').keypress(function(e){
                   var mobileNumberValue = e.target.value;
                   if(e.which != 8 && e.which != 0 && e.which < 48 || e.which > 57) {
                        e.preventDefault();
                   }
               });             

               jQuery('#email').on("blur", function(e){
                     $("#emailError").hide();
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $("#emailError").text("Email can't be empty.");
                        $("#emailError").show();
                        $('#emailotp-verify').hide();
                        $('.email-verfiy-img').hide();
                     } else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,10})+$/.test(emailValue))) {
                        $("#emailError").text("Please enter valid email id");
                        $("#emailError").show();
                        $('.email-verfiy-img').hide();
                        $('#emailotp-verify').hide();
                     }else if(sessionStorage.getItem('email-verify-message')){
                        $('#emailotp-verify').hide();
                     }
                     else{
                        $('#emailotp-verify').show();
                     }
               });

               jQuery('.forgot-email-address').on("blur", function(e){
                     $("#emailError").hide();
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $("#emailError").text("Email can't be empty.");
                        $("#emailError").show();
                     } else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(emailValue))) {
                        $("#emailError").text("Please enter valid email id");
                        $("#emailError").show();
                     }
               });

               jQuery('.forgot-email-address').on("keyup", function(e){
                     $("#emailError").hide();
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $("#emailError").text("Email can't be empty.");
                        $("#emailError").show();
                     } else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(emailValue))) {
                        $("#emailError").text("Please enter valid email id");
                        $("#emailError").show();
                     }
               });



                     jQuery('#email').on("keyup", function(e){
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $('#emailotp-verify').hide();
                     }else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,10})+$/.test(emailValue))) {
                        $('#emailotp-verify').hide();
                     }
                     else {
                        sessionStorage.setItem('email',emailValue);  
                        $('#email').val(emailValue);
                        $('#emailotp-verify').show();
                        $('.email-verfiy-img').hide();
                     }
               });

               jQuery('#password').on("blur", function(e) {
                     $("#passwordError").hide();
                     var passwordValue = e.target.value;
                     if(passwordValue.length === 0) {
                        $("#passwordError").text("Password can't be empty.");
                        $("#passwordError").show();
                     } else if (!(/^(?:(?=.*\d)(?=.*[a-z])(?=.*[A-Z])).{6,20}$/.test(passwordValue))) {
                        $("#passwordError").text("Password must include at least one uppercase letter, lowercase letter, number, special character and should be between 6-20 characters.");
                        $("#passwordError").show();
                     }
               });

                
               jQuery('#confirmPassword').on("blur", function(e) {
                     $("#confirmPasswordError").hide();
                     var confirmPwdValue = e.target.value;
                     if(confirmPwdValue.length === 0) {
                        $("#confirmPasswordError").text("Confirm Password can't be empty.");
                        $("#confirmPasswordError").show();
                     } else if (!(/^(?:(?=.*\d)(?=.*[a-z])(?=.*[A-Z])).{6,20}$/.test(confirmPwdValue))) {
                        $("#confirmPasswordError").text("Password must include at least one uppercase letter, lowercase letter, number, special character and should be between 6-20 characters.");
                        $("#confirmPasswordError").show();
                     }
               });

               jQuery('#fullName, #userName, #email, #password').keyup(function(e) {
                   $(this).closest('.nsws-input-field').children('.floating-label+span').hide();
               });

               jQuery('#phoneNumber').keyup(function(e) {
                   $(this).closest('.nsws-input-field').children('.floating-label+span').hide();
                   $(this).closest('.nsws-input-field').children('.floating-label+#input-error-phone_number').hide();
               });

               jQuery('#agreementCheck').change(function() {
                  var checkState = $('#agreementCheck').prop("checked");
                  $('#registerBtn').prop("disabled", !$("#agreementCheck").prop("checked"));
               });


               $('.pwd-hide-icon-login').hide();
               jQuery('.pwd-view-icon-login, .pwd-hide-icon-login').click(function() {
                  if('password' == $('#password').attr('type')){
                     $('#password').prop('type', 'text');
                     $('.pwd-hide-icon-login').show();
                     $('.pwd-view-icon-login').hide();
                  } else {
                     $('#password').prop('type', 'password');
                     $('.pwd-view-icon-login').show();
                     $('.pwd-hide-icon-login').hide();
                  }
               });
                              
               $('.pwd-hide-icon').hide();
               jQuery('.pwd-view-icon, .pwd-hide-icon').click(function() {
                  if('password' == $('#password').attr('type')){
                     $('#password').prop('type', 'text');
                     $('.pwd-hide-icon').show();
                     $('.pwd-view-icon').hide();
                  } else {
                     $('#password').prop('type', 'password');
                     $('.pwd-view-icon').show();
                     $('.pwd-hide-icon').hide();
                  }
               });

               $('.cnf-pwd-hide-icon').hide();
               jQuery('.cnf-pwd-view-icon, .cnf-pwd-hide-icon').click(function() {
                  if('password' == $('#confirmPassword').attr('type')){
                     $('#confirmPassword').prop('type', 'text');
                     $('.cnf-pwd-hide-icon').show();
                     $('.cnf-pwd-view-icon').hide();
                  } else {
                     $('#confirmPassword').prop('type', 'password');
                     $('.cnf-pwd-view-icon').show();
                     $('.cnf-pwd-hide-icon').hide();
                  }
               });
                     
               $('.pwd-hide-icon.update-pwd').hide();
               jQuery('.pwd-view-icon.update-pwd, .pwd-hide-icon.update-pwd').click(function() {
                  if('password' == $('#password-new').attr('type')){
                     $('#password-new').prop('type', 'text');
                     $('.pwd-hide-icon.update-pwd').show();
                     $('.pwd-view-icon.update-pwd').hide();
                  } else {
                     $('#password-new').prop('type', 'password');
                     $('.pwd-view-icon.update-pwd').show();
                     $('.pwd-hide-icon.update-pwd').hide();
                  }
               });

                    $('.cnf-pwd-hide-icon.update-cnf').hide();
               jQuery('.cnf-pwd-view-icon.update-cnf, .cnf-pwd-hide-icon.update-cnf').click(function() {
                  if('password' == $('#password-confirm').attr('type')){
                     $('#password-confirm').prop('type', 'text');
                     $('.cnf-pwd-hide-icon.update-cnf').show();
                     $('.cnf-pwd-view-icon.update-cnf').hide();
                  } else {
                     $('#password-confirm').prop('type', 'password');
                     $('.cnf-pwd-view-icon.update-cnf').show();
                     $('.cnf-pwd-hide-icon.update-cnf').hide();
                  }
               });

               jQuery('.pan-btn').click(function(){
               $('#username').remove();
               $('#password').remove();
               $("#passwordError").hide();
               });

               jQuery('#userPanNumber').change(function(e){
                     $("#userPanError").hide();
                     var panValue = (e.target.value);
                     if(panValue.length === 0) {
                        $("#userPanError").text("Pan Number Can't Be Empty");
                         $('.signin-pan-btn').prop('disabled', true);
                        $("#userPanError").show();
                     } else if (!(/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/.test(panValue))) {
                        $("#userPanError").text("Entered PAN is invalid");
                         $('.signin-pan-btn').prop('disabled', true);
                        $("#userPanError").show();
                     } else if(panValue.length===10){
                        $('.signin-pan-btn').prop('disabled', false);
                        $("#userPanError").hide();
                     }
               });


               $('#phoneNumber').on('input', function(event) {
                  var s = $('#phoneNumber').val().toString();
                  var x = s.replace(/[^\d+]/gi, '');
                  $('#phoneNumber').val(x);
               })

             $('#otp-action').hide();
               setTimeout(function(){
                  $('#otp-action').show();
                  $('.resend-pan-otp').hide();
               },60000);

               if($('.otp-verify-phone').text().slice(1,3)==="91"){ 
                        $("#m-code").show();
                        $('.email-otp-notification').text('We have sent you an verification code in your Email and Mobile number you need to enter code to verify');
                     } else {
                        $("#m-code").hide();
                        $('.email-otp-notification').text('We ve sent you an verification code on your email you need to enter code to verify.');
                     }  
               var errortext=$('.server-message ').text().trim();
               if(errortext === 'You should receive an email shortly with further instructions.'){
                     $('.server-message').text('You should receive an email shortly with instructions on resetting your password.');
                     $('.error-icon-user-timeout').hide();
               }
               if(errortext === 'Cannot update with the previous password.'){
                     $(".server-message").attr("id","loginErrorMessage");
                     $('.error-icon').hide();
               }
               if(errortext === 'Action expired. Please continue with login now.'){
                     $(".server-message").attr("id","loginErrorMessage");
                     $('.error-icon').hide();
               } 
               if(errortext === 'Your login attempt timed out.Please relogin.'){
                  $(".server-message").attr("id","loginErrorMessage");
                  $('.error-icon').hide();
               }
               if(errortext === 'You need to change your password.'){
                  $(".server-message").attr("id","loginErrorMessage");
                  $('.error-icon').hide();
               } 
               if(errortext === 'Two different roles are assigned to this user. Please check.'){
                  $(".server-message").attr("id","loginErrorMessage");
                  $('.error-icon').hide();
               } 

            var errortextsignup=$('#server-validation-message').text().trim();
            if(errortextsignup === 'Action expired. Please continue with login now.'){
               $('.server-message').hide();
               $('.error-icon').hide();
               $('.error-icon-user-timeout').hide();
            }
               
            const url = new URLSearchParams(window.location.search);
            const keys = Object.fromEntries(url.entries());   
            if(keys.client_id === 'ministry-portal-prod'){
                  $('.signup-text-btn').hide(); 
            }else if(keys.client_id === 'ministry-portal-ppe-stage'){
                  $('.signup-text-btn').hide(); 
            }else if(keys.client_id === 'ministry-portal-uat'){
                  $('.signup-text-btn').hide(); 
            }

                     const testimonialUrl = (origin) => {
                           switch (origin) {
                               case "https://sso-uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in/testimonial`;
                              case "https://uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in/testimonial`;
                              case "https://qa-nsws.investindia.gov.in":
                                 return `https://qa-nsws.investindia.gov.in/testimonial`;
                              case "https://dev-nsws.investindia.gov.in":
                                 return `https://dev-nsws.investindia.gov.in/testimonial`;
                              case "https://mpf-nsws.investindia.gov.in":
                                 return `https://mpf-nsws.investindia.gov.in/testimonial`;
                              case "https://www.ppe.nsws.gov.in":
                                 return `https://www.ppe.nsws.gov.in/testimonial`;
                              case "https://www.demo.nsws.gov.in":
                                 return `https://www.demo.nsws.gov.in/testimonial`;
                              case "https://www.nsws.gov.in":
                                 return `https://www.nsws.gov.in/testimonial`;
                              default:
                                 return `https://qa-nsws.investindia.gov.in/testimonial`;
                           }
                     };

                     const testimonialUrlImage = (origin) => {
                           switch (origin) {
                               case "https://sso-uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in`;
                              case "https://uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in`;
                              case "https://qa-nsws.investindia.gov.in":
                                 return `https://qa-nsws.investindia.gov.in`;
                              case "https://dev-nsws.investindia.gov.in":
                                 return `https://dev-nsws.investindia.gov.in`;
                              case "https://mpf-nsws.investindia.gov.in":
                                 return `https://mpf-nsws.investindia.gov.in`;
                              case "https://www.ppe.nsws.gov.in":
                                 return `https://www.ppe.nsws.gov.in`;
                              case "https://www.demo.nsws.gov.in":
                                 return `https://www.demo.nsws.gov.in`;
                              case "https://www.nsws.gov.in":
                                 return `https://www.nsws.gov.in`;
                              default:
                                 return `https://qa-nsws.investindia.gov.in`;
                           }
                     };
                        
                     $.get(testimonialUrl(origin), function( data ) {
                          var html="";
                          for(var i=0; i<data.length; i++)
                           {        
                                     if(i==0){

                                        html+= ' <div class="carousel-item active" data-bs-interval="5000"> '  + 
                                     

                                   ' <div class="d-block w-100">'
                                        +
                                       '<div class="nsws-testimonial-block">'
                                         + 
                                          '<div class="nsws-testimonial-img">'
                                          + 
                                          '<img class="director-image"  src= '+testimonialUrlImage(origin) +data[i].image +' alt="" />'
                                          +
                                        '  </div>'
                                          + 
                                         ' <div class="nsws-testimonial-content">'
                                          + 
                                          '<span class="right-description">'+data[i].quote +'</span>'
                                          +
                                          '<span class="right-1st-description">' +data[i].name+'</span>' 
                                          +
                                          '<span class="right-2nd-description">'+data[i].designation + '</span>'
                                        + 
                                        ' </div>'
                                        + 
                                        ' </div>'
                                        + 
                                        ' </div>'
                                        + 
                                        '</div>'
                                         }
                                         else{
                                          html+= ' <div class="carousel-item" data-bs-interval="5000"> '  + 
                                     

                                     ' <div class="d-block w-100">'
                                          + 
                                         '<div class="nsws-testimonial-block">'
                                           + 
                                            '<div class="nsws-testimonial-img">'
                                            + 
                                            '<img class="director-image" src= '+testimonialUrlImage(origin) +data[i].image +' alt="" />'
                                            +
                                          '  </div>'
                                            + 
                                           ' <div class="nsws-testimonial-content">'
                                            + 
                                            '<span class="right-description">'+data[i].quote +'</span>'
                                            +
                                            '<span class="right-1st-description">' +data[i].name+'</span>' 
                                            +
                                            '<span class="right-2nd-description">'+data[i].designation + '</span>'
                                          + 
                                          ' </div>'
                                          + 
                                          ' </div>'
                                          + 
                                          ' </div>'
                                          + 
                                          '</div>'
                                         }
                                       }
                                       $( ".carousel-inner" ).html(html);
                                    });
                                       

               jQuery("#email").focusout(function(){
                 var userEmail = $('#email').val().toString().toLowerCase();
                 $("#userName").val(userEmail);
               });
            if(origin === 'https://sso-uat-nsws.investindia.gov.in') {
               $("#backToLoginRedirection").attr("href", "https://uat-nsws.investindia.gov.in/portal/login");
            } else {
               $("#backToLoginRedirection").attr("href", "/portal/login")
            }
            jQuery("#password").focusout(function(){
                 var enteredPassword = $('#password').val();
                 $("#confirmPassword").val(enteredPassword);
               });

               $("#backToLoginPanFlow").attr("href", testimonialUrlImage(origin)+ "/portal/login");   
            

             var browserName = (function(agent) {
                  switch (true) {
                     case agent.indexOf("edge") > -1:
                        return "MS Edge";
                     case agent.indexOf("edg/") > -1:
                        return "Edge ( chromium based)";
                     case agent.indexOf("opr") > -1 && !!window.opr:
                        return "Opera";
                     case agent.indexOf("chrome") > -1 && !!window.chrome:
                        return "Chrome";
                     case agent.indexOf("trident") > -1:
                        return "MS IE";
                     case agent.indexOf("firefox") > -1:
                        return "Mozilla Firefox";
                     case agent.indexOf("safari") > -1:
                        return "Safari";
                     default:
                        return "other";
                  }
               })(window.navigator.userAgent.toLowerCase());

               if (browserName === 'Edge ( chromium based)') {
                  $('#username').attr('autocomplete', 'new-email');
                  $('#password').attr('autocomplete', 'new-password');
               }
               else {
                  $('#username').attr('autocomplete', 'off');
                  $('#password').attr('autocomplete', 'off');
               }
               
               var title =$('.title').text();
               var signuptitle=$('.signup-title').text();
               var forgotpasswordtitle=$('.forgotpassword-title').text();
               if(title === 'Sign In to madhyam'){
                  $('.title').text('Sign In to National Single Window System');
               } 
               if(signuptitle === 'Sign Up'){
                  $('.title').text('Sign Up to National Single Window System');
               }
               if(forgotpasswordtitle === 'Forgot Password?'){
                  $('.title').text('Forgot Password | National Single Window System');
               }



 
      $('#email-otp-action').hide();
      let validationmessage = $('#server-validation-message').text().trim();
      let emailvalidationmessage = $('#input-error-email-otp').text().trim();
      if (validationmessage === 'E_OTP_SEND' || emailvalidationmessage === 'Entered Email OTP is wrong, Please Enter Valid OTP Again.') {
         setTimeout(function() {
            $('#email-otp-action').show();
            $('.resend-email-otp').hide();
            $('.email-otp-verify').hide();
            $('.email-otp-resend').show();
            if(validationmessage === "Edit-email"){
            $('.email-otp-verify').show();
            $('#emailotp-editemail').hide(); 
            }else {
            $('#emailotp-editemail').show();
            }
                  $(function(){
         if(sessionStorage.getItem('emailseconds')){
         jQuery('#seconds').text(sessionStorage.getItem('emailseconds'));
            timeLeft=sessionStorage.getItem('emailseconds');
         }else{
         jQuery('#seconds').text(63);
         timeLeft = 63;
         }
         function countdown() {
	      timeLeft--;
         if(document.getElementById("seconds")){
	      document.getElementById("seconds").innerHTML = String( timeLeft );
         }
      };
	      if (timeLeft > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });
            if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
            }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }

            $('.email-otp-resend-text-btn').click(function() {
                  $('.input-otp-email-verify').slideDown();
                  $('.input-otp-email-verify').show();
                  $('#email').hide();
                  $('.register-btn').hide();
                  $('#phonenumber-field').hide();
                  $('#setpassword-field').hide();
                  $('.signupformclear').hide();
                  sessionStorage.removeItem("emailseconds");
                  $(this).hide();
                  $('#server-validation-message').hide();
                  $('#input-error-password').hide();
                  $('#email-otp').html(emailfieldvalue);
            })

         }, 60000);
      }



      let emailerrormessage = $('#input-error-email').text().trim();
      let validationmessagephone = $('#server-validation-message-phone').text().trim();

      if (validationmessage === 'E_OTP_SEND') {
         $('.input-otp-email-verify').slideUp();
         $('.input-otp-email-verify').show();
         $('#email').hide();
         $('.register-btn').hide();
         $('#phonenumber-field').hide();
         $('#setpassword-field').hide();
         $(this).hide();
         $('#emailotp-editemail').show();
         $('#server-validation-message').hide();
         $('#input-error-password').hide();
         $('.signupformclear').hide();
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         $('.registerbtn-container').hide();
         sessionStorage.removeItem("emailseconds");
         let emailfieldvalue = $('#email').val();
         $('#email-otp').html(emailfieldvalue);
         if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
            $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }
         let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         let mobileNumber =$('#phoneNumber').val();
         if(phonevalidationmessage === 'p-verified') {
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') === 'p-verified' && sessionStorage.getItem('selectedCountryCode') !== "91"){
               $('#phoneotp-verify').hide();
         }else if(mobileNumber.length >= 1 && mobileNumber.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(!(pattern.test(mobileNumber)) && mobileNumber.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') !== 'p-verified' && sessionStorage.getItem('selectedCountryCode') === "91" && mobileNumber){
               $('#phoneotp-verify').show();
         }

      }else if (emailerrormessage === 'Your Email is not verified. Please verify your email.'&& sessionStorage.getItem('email')){
         $('#emailotp-verify').show();
          $('.server-message').hide();
      }else if (emailvalidationmessage === 'Entered Email OTP is wrong, Please Enter Valid OTP Again.') {
         $('.input-otp-email-verify').slideUp();
         $('.input-otp-email-verify').show();
         $('#email').hide();
         $('.register-btn').hide();
         $('#phonenumber-field').hide();
         $('#setpassword-field').hide();
         $(this).hide();
         $('#emailotp-editemail').show();
         $('#server-validation-message').hide();
         $('.signupformclear').hide();
         $('.registerbtn-container').hide();
         let emailfieldvalue = $('#email').val();
         $('#email-otp').html(emailfieldvalue);
         $('#server-validation-message-verified').hide();
         $('#input-error-password').hide();
         if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }

      } else if (emailvalidationmessage == 'e-verified') {
         $('#server-validation-message-verified').hide();
         $('#input-error-password').hide();
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         $('.registerbtn-container').show();
         let emailverifymessage = $('#server-validation-message-verified').text().trim();  
         sessionStorage.setItem('email-verify-message',emailverifymessage);
         if(sessionStorage.getItem('phone') && sessionStorage.getItem('phone').length > 2  ) {
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }else if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }
         
         let emailfieldvalue = $('#email').val();
         sessionStorage.setItem('email',emailfieldvalue);
         let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         let mobileNumber =$('#phoneNumber').val();
         if(phonevalidationmessage === 'p-verified') {
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') === 'p-verified' && sessionStorage.getItem('selectedCountryCode') !== "91"){
               $('#phoneotp-verify').hide();
         }else if(mobileNumber.length >= 1 && mobileNumber.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(!(pattern.test(mobileNumber)) && mobileNumber.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') !== 'p-verified' && sessionStorage.getItem('selectedCountryCode') === "91" && mobileNumber){
               $('#phoneotp-verify').show();
         }
      } else if (emailerrormessage === 'Email already exists.') {
         $('#input-error-password').hide();
      }

      $('#emailotp-editemail').click(function() {
         validationmessage = "Edit-email";
         $('.input-otp-email-verify').slideDown();
         $('.input-otp-email-verify').hide();
         $('#email').show();
         $('#phonenumber-field').show();
         $('#setpassword-field').show();
         $('.register-btn').show();
         $('.signupformclear').show();
         $(this).hide();
         $('#emailotp-verify').show();
         $('#server-validation-message-verified-phone').hide();
         $('#input-error-password').hide();
         $('.registerbtn-container').show();
         sessionStorage.removeItem("emailseconds");
         if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }
         let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         let mobileNumber =$('#phoneNumber').val();
         if(phonevalidationmessage === 'p-verified') {
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') === 'p-verified' && sessionStorage.getItem('selectedCountryCode') !== "91"){
               $('#phoneotp-verify').hide();
         }else if(mobileNumber.length >= 1 && mobileNumber.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(!(pattern.test(mobileNumber)) && mobileNumber.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') !== 'p-verified' && sessionStorage.getItem('selectedCountryCode') === "91" && mobileNumber){
               $('#phoneotp-verify').show();
         }
      })

      $('#phone-otp-action').hide();
      let phoneerroemessage=$('#input-error-phone_number').text().trim();
      let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
      if (validationmessagephone === 'OTP send' || phonevalidationmessage === 'Entered Mobile OTP is wrong, Please Enter Valid OTP Again.') {
         setTimeout(function() {
            $('#phone-otp-action').show();
            $('.resend-phone-otp').hide();
            $('.phone-otp-verify').hide();
            $('.phone-otp-resend').show();
            if(validationmessagephone === "Edit-phone"){
            $('.phone-otp-verify').show();
            $('#phoneotp-editphone').hide();
            }else {
            $('#phoneotp-editphone').show();
            }
         $(function(){
         if(sessionStorage.getItem('phoneseconds')){
         jQuery('#phoneseconds').text(sessionStorage.getItem('phoneseconds'));
            timeLeftphone=sessionStorage.getItem('phoneseconds');
         }else{
         jQuery('#phoneseconds').text(63);
         timeLeftphone = 63;
         }
         function countdown() {
	      timeLeftphone--;

         if(document.getElementById("phoneseconds")){
	      document.getElementById("phoneseconds").innerHTML = String( timeLeftphone );
         }
      };
	      if (timeLeftphone > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });
            $('.phone-otp-resend-text-btn').click(function() {
                  $('.input-otp-phone-verify').slideDown();
                  $('.input-otp-phone-verify').show();
                  $('#phoneNumber').hide();
                  $('.register-btn').hide();
                  $('.signupformclear').hide();
                  $('#phonenumber-field').hide();
                  $('#setpassword-field').hide();
                  sessionStorage.removeItem("phoneseconds");
                  $(this).hide();
                  $('#server-validation-message').hide();
                  $('#input-error-password').hide();
            })
         }, 60000);
      }

      if (validationmessagephone === 'OTP send') {    
         $('.input-otp-phone-verify').slideUp();
         $('.input-otp-phone-verify').show();
         $('#phoneNumber').hide();
         $('.register-btn').hide();
         $('#setpassword-field').hide();
         $(this).hide();
         $('#phoneotp-editphone').show();
         $('#server-validation-message').hide();
         $('#server-validation-message-phone').hide();
         $('#input-error-password').hide();
         $('.signupformclear').hide();
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         $('#email').val(sessionStorage.getItem('email')); 
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         $('.iti__flag-container').hide();

         if(emailvalidationmessage === 'e-verified') {
              $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') === 'e-verified' && sessionStorage.getItem('email')){
             $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') != 'e-verified' && sessionStorage.getItem('email') ){
             $('#emailotp-verify').show();  
         }

      }else if(sessionStorage.getItem('phone') && phoneerroemessage === 'Your Phone number is not verified. Please verify your Phone number.'){
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         
         var mobileNumberValue = $('#phoneNumber').val();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         if(!pattern.test(mobileNumberValue) && mobileNumberValue.length >= 1 && mobileNumberValue.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91" && phoneerroemessage === 'Your Phone number is not verified. Please verify your Phone number.'){
            $("#input-error-phone_number").text("Mobile Number should be of exact 10 digits");
            $("#input-error-phone_number").show();
            $('#phoneotp-verify').hide();
         }else if (!(pattern.test(mobileNumberValue)) && mobileNumberValue.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91" &&  phoneerroemessage === 'Your Phone number is not verified. Please verify your Phone number.') {
            $("#input-error-phone_number").text("Mobile Number should start from 6,7,8, and 9 Only");
            $("#input-error-phone_number").show();
            $('#phoneotp-verify').hide();
         }else{
            $('#phoneotp-verify').show();
         }
      }
       else if (phonevalidationmessage === 'Entered Mobile OTP is wrong, Please Enter Valid OTP Again.') {
         $('.input-otp-phone-verify').slideUp();
         $('.input-otp-phone-verify').show();
         $('#phoneNumber').hide();
         $('.register-btn').hide();
         $('#setpassword-field').hide();
         $('.signupformclear').hide();
         $(this).hide();
         $('#phoneotp-editphone').show();
         $('#server-validation-message-phone').hide();
         $('#server-validation-message-verified-phone').hide();
         $('#input-error-password').hide();
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         $('#email').val(sessionStorage.getItem('email'));
         $('.iti__flag-container').hide();
         
         if(sessionStorage.getItem('email-verify-message') != 'e-verified' && sessionStorage.getItem('email') ){
             $('#emailotp-verify').show();  
         }


      } else if (phonevalidationmessage === 'p-verified') {
         $('#server-validation-message-verified-phone').hide();
         $('#email').val(sessionStorage.getItem('email'));
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         let phoneverifymessage = $('#server-validation-message-verified-phone').text().trim();  
         sessionStorage.setItem('phone-verify-message',phoneverifymessage);
         if(emailvalidationmessage === 'e-verified') {
              $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') === 'e-verified' && sessionStorage.getItem('email')){
             $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') != 'e-verified' && sessionStorage.getItem('email') ){
             $('#emailotp-verify').show();  
         }

      }

      var selectedCountryCode=$("#phoneNumber").intlTelInput("getSelectedCountryData").dialCode;
      $('#phoneotp-editphone').click(function() {
         validationmessagephone = "Edit-phone";
         $('.input-otp-phone-verify').slideDown();
         $('.input-otp-phone-verify').hide();
         $('#phoneNumber').show();
         $('#setpassword-field').show();
         $('.register-btn').show();
         $(this).hide();
         $('.signupformclear').show();
         $('#phoneotp-verify').show();
         $('.iti__flag-container').show();
         $('#email').val(sessionStorage.getItem('email'));
         sessionStorage.removeItem("phoneseconds");
         if(sessionStorage.getItem('phone')){
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }else{
         $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }
      })
                


        if(sessionStorage.getItem('email-verify-message')){
            $('#server-validation-message-verified').val(sessionStorage.getItem('email-verify-message'));
            $('#email').val(sessionStorage.getItem('email'));
            $("#email").prop('readonly',true);
            $('.email-verfiy-img').show();
         }
         else{
            $("#email").prop('readonly',false);
         }

         if(sessionStorage.getItem('phone-verify-message')){
             $('#server-validation-message-verified-phone').val(sessionStorage.getItem('phone-verify-message'));
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
             $('.phone-verfiy-img').show();
             $('#phoneNumber').prop('readonly', true);
         }else{
             $('#phoneNumber').prop('readonly', false);
         }

       $('.resetform').click(function(){
          sessionStorage.clear();
          location.reload();
       }) 
      
      $('.signup-text-btn').click(function(){
          sessionStorage.clear();
          location.reload();
       }) 
     

       var signuptitle = $('.signup-title').text();
       if(signuptitle === 'Sign Up'){
          $('.error-icon-user-timeout').hide();
          $('.error-icon').hide();
          $('.server-message').hide();
       } 

         });  

         var videobg = document.getElementById("video-speed");
         videobg.playbackRate = 0.5;      


      </script>
   </head>
   
   <body>
      <!-- Google Tag Manager (noscript) -->
      <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KRBMWNL"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
      <!-- End Google Tag Manager (noscript) -->
      <div class="access-management">
         <div class="access-container-content">
            <div class="background-flag">
               <video id="video-speed" loop muted autoPlay width="100%">
                 <source src="/auth/resources/egfby/login/sws/video/flag2.mp4" type="video/mp4"/>
               </video>
             </div>
             <div class="nsws-inner-container">
            <a href="/" class="logo-link">
               <img class="nsws-logo" src="/auth/resources/egfby/login/sws/images/nswslogo.png" alt="logo" width="150" height="40">
            </a>
            <div class="inner-content">
               <header class="">
                  <!-- <h1 id="kc-page-title" class="signin-title">        Authentication Redirect
</h1> -->
               </header>
               <div id="kc-content">
                  <div id="kc-content-wrapper">
        <script>window.onload = function() {document.forms[0].submit()};</script>
        <p>Redirecting, please wait.</p>
        <form name="saml-post-binding" method="post" action="https://ssoinvestodisha.odisha.gov.in/realms/goswift-dev/protocol/saml">
                <input type="hidden" name="SAMLRequest" value="PHNhbWxwOkF1dGhuUmVxdWVzdCB4bWxuczpzYW1scD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOnByb3RvY29sIiB4bWxucz0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgeG1sbnM6c2FtbD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgQXNzZXJ0aW9uQ29uc3VtZXJTZXJ2aWNlVVJMPSJodHRwczovL2Rldi1uc3dzLmludmVzdGluZGlhLmdvdi5pbi9hdXRoL3JlYWxtcy9tYWRoeWFtL2Jyb2tlci9vZGlzaGEvZW5kcG9pbnQiIEF0dHJpYnV0ZUNvbnN1bWluZ1NlcnZpY2VJbmRleD0iMCIgRGVzdGluYXRpb249Imh0dHBzOi8vc3NvaW52ZXN0b2Rpc2hhLm9kaXNoYS5nb3YuaW4vcmVhbG1zL2dvc3dpZnQtZGV2L3Byb3RvY29sL3NhbWwiIEZvcmNlQXV0aG49ImZhbHNlIiBJRD0iSURfN2E5NTgxYzUtMGU1ZC00NmU0LWI1MjQtYjg1MTU1YzAyOGIyIiBJc3N1ZUluc3RhbnQ9IjIwMjQtMDEtMjNUMTA6MTY6MTguMzMyWiIgUHJvdG9jb2xCaW5kaW5nPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YmluZGluZ3M6SFRUUC1QT1NUIiBWZXJzaW9uPSIyLjAiPjxzYW1sOklzc3Vlcj5odHRwczovL2Rldi1uc3dzLmludmVzdGluZGlhLmdvdi5pbi9hdXRoL3JlYWxtcy9tYWRoeWFtPC9zYW1sOklzc3Vlcj48ZHNpZzpTaWduYXR1cmUgeG1sbnM6ZHNpZz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI+PGRzaWc6U2lnbmVkSW5mbz48ZHNpZzpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8+PGRzaWc6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkc2lnOlJlZmVyZW5jZSBVUkk9IiNJRF83YTk1ODFjNS0wZTVkLTQ2ZTQtYjUyNC1iODUxNTVjMDI4YjIiPjxkc2lnOlRyYW5zZm9ybXM+PGRzaWc6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz48ZHNpZzpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzEwL3htbC1leGMtYzE0biMiLz48L2RzaWc6VHJhbnNmb3Jtcz48ZHNpZzpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHNpZzpEaWdlc3RWYWx1ZT53dTdWcmpLdHNCYVB1bVZWbjVGd3Zob2xtUEJ2UkMwTW9ZOGNrN01vOWxrPTwvZHNpZzpEaWdlc3RWYWx1ZT48L2RzaWc6UmVmZXJlbmNlPjwvZHNpZzpTaWduZWRJbmZvPjxkc2lnOlNpZ25hdHVyZVZhbHVlPkw3VXIza2NBbWNRRjJlQjFBODMxY1dvelUvbkRuWTArbmF2OUgzVG9yNGduRCtXajl6VTg0eTQyWHJRYUNkajlsanFPRHlQQUFHVzRUUWRrT0lYcnN1VkRvcU04R29xNllwNGsyZjdyenc2NGtRUVgvWm9MOThSYWduUGZEc01PdTQ4MjNPelpVQ3daSlY1SWt4akowOGFZUkFhZlZWVG91c1NEanhkeldQM2NoSGdZZVdUbDNlV3FWUVVnNDFjZDMzbHlUTkNuTmpKTUxFUmNvcGdpQUJqUVVXc21UTUx6T1ljQjIzSThIT3FSMEtvZ2V3ZUR4V2Y4K3I2M2F1TlVKTUUxNDJ2RHpMNTI5d1p5dncyM2RNRTVsNXYxUXdVRFpHWnltbTZ0bGRGcjJJMHFEazZvWTVtQmpvM2Zmc3k1V3RkNE4wcGlWeGNmL3FZMThGaGpRQT09PC9kc2lnOlNpZ25hdHVyZVZhbHVlPjxkc2lnOktleUluZm8+PGRzaWc6S2V5TmFtZT5JdmdIeWZDTjhFako2dnFYZ0xEM1VfaTlhOVhnTU83X0FNZWZla21RZXdNPC9kc2lnOktleU5hbWU+PGRzaWc6WDUwOURhdGE+PGRzaWc6WDUwOUNlcnRpZmljYXRlPk1JSUNuVENDQVlVQ0JnRjVha29MS1RBTkJna3Foa2lHOXcwQkFRc0ZBREFTTVJBd0RnWURWUVFEREFkdFlXUm9lV0Z0TUI0WERUSXhNRFV4TkRBNU5UQXdPRm9YRFRNeE1EVXhOREE1TlRFME9Gb3dFakVRTUE0R0ExVUVBd3dIYldGa2FIbGhiVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFMM0xxWkZsZVBWTFpYUUtKZ3o3SUFqTkhsS0YzMzNZNnZod09lU2xlK1UvSTFkeTJLNVhLYmtjWjI4Mmk1YzUzU2hEY0ZTWVhOcnJKcDFUNStCR1kwb1psZkt5cmlOblQ2cmgzVXUvV2dqdi9RZE9LUUZjVVF2RTZnbmo0R1hSY2tZMFhZamc3L3RLbTA0SkV3Q2NZRU1JSzIzOGU0bCtocTNvb2pNOFUzcHVnV2RUV1pQQ1NPQURHcXZYbFBXZjgvNHcydEgrUmpKY1RKZmxDNnl3dm5BYWNXcHRkOEMxRmtIY2E3bEQ0NW5vV29yS1dQM3VKOU4zcTBxcUhTVWg0eUlSVmJZQ01ydmJDZkQvY2p5SkRTbzRMNEhxY0tZRDRBQjJlZ0RhOWVWRWV5c0ZNZW9ES0xVTmNEYXVCQ0NIbFRoSHF6d0pXVnc0aGNWNTNMdlNHMzBDQXdFQUFUQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFUTXBHWmNyN0dDeDZMZmRrNFFIYmdwUFpSaElUR2g0Tk1MTFk3K1JMYUlLSTcxNmhMVTVNVnpIWmFWeTIyZnZFeFM5SHlvU1pvcnZRNzhIR1N2Yk8yU2l4RXBaMDRScUxweWN5NjRob0V3QTlYM0pFYWozUzJjYzM1OFdPYUpmbXFmRHpSUlk3QUtFejN0ZDFrQXBwZThXd2FxMHBOWEp5eFBMK0pqZXRDb3BFdWprdWhUTXR3R2JBZWJwSVVZVFhSWmsxaTgzL2hvSENGNGlzRTFqNHIwMkc0RzhUbDUwcmtuQkk4U2J6MXZFRzBkV2NvbjE3WXhMNUNZRC9FS3VSYXo2MFRyc1JSNUl2NFF6Zk5QWTRjOWgvVGVMQ25zQnljeU5wZ2RCZFJBQ1NET1ozSjAzL2N5T3NFY2x6eVlGR3B6RVR4N1BiZUNQWVZ4Z001end4K1E9PTwvZHNpZzpYNTA5Q2VydGlmaWNhdGU+PC9kc2lnOlg1MDlEYXRhPjwvZHNpZzpLZXlJbmZvPjwvZHNpZzpTaWduYXR1cmU+PHNhbWxwOk5hbWVJRFBvbGljeSBBbGxvd0NyZWF0ZT0idHJ1ZSIgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDpwZXJzaXN0ZW50Ii8+PC9zYW1scDpBdXRoblJlcXVlc3Q+"/>
                <input type="hidden" name="RelayState" value="dSFABIGaocPudNfy5JDprJmjJYaDizOhaPgwrWRXMZk.FhB5_f-vEU4.ZIsiufjsSc--o4hQgyBZRQ"/>

            <noscript>
                <p>JavaScript is disabled. We strongly recommend to enable it. Click the button below to continue. </p>
                <input type="submit" value="Continue"/>
            </noscript>
        </form>
                  </div>
               </div>
            </div>
      </div>

<script type="text/javascript">
   
    </script>
   </body>
</html>

-----------------------------------------------------------
Time: 23-01-2024 03:49:42 PM For RequestMethod: Investorid
InputOutput: [strUniqueId]:- D48225DB-3125-438B-AB59-6580099F1737
-----------------------------------------------------------
Time: 23-01-2024 03:49:42 PM For RequestMethod: InputRequestToSAMLAPI
InputOutput: [InputJsonData]:- {"pan":"BSQPJ1955A","cin":"U67190TN2014PTC055555","entityType":"3","email":"demotest@test.com"}
-----------------------------------------------------------
Time: 23-01-2024 03:49:43 PM For RequestMethod: GetResponseFromSAMLAPI
InputOutput: [ResponseStatusCode]:- OK
-----------------------------------------------------------
Time: 23-01-2024 03:49:43 PM For RequestMethod: GetResponseFromSAMLAPI
InputOutput: [ResponseContent]:- <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv='Cache-Control' content="max-age: 31536000, no-cache, no-store, must-revalidate">
      <meta http-equiv='Pragma' content='no-cache'>
      <meta http-equiv='Expires' content='0'>
      <meta name="robots" content="noindex, nofollow">
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="preconnect" href="https://fonts.gstatic.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Khand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

      <!-- Google Tag Manager -->
      <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-KRBMWNL');</script>
      <!-- End Google Tag Manager -->

      <title class='title'>Sign In to National Single Window System</title>
      <link rel="icon" href="/auth/resources/egfby/login/sws/images/favicon.ico" />
      <link href="/auth/resources/egfby/login/sws/css/login1.css?v=1.05" rel="stylesheet" />
      <link href="/auth/resources/egfby/login/sws/css/global.css?v=1.05" rel="stylesheet" />

     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.8/css/intlTelInput.css" />
     
      <!-- JS -->
      <!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
       <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
       <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.8/js/intlTelInput-jquery.min.js"></script>
      <script type="text/javascript">
          if (top !== window) {
            top.location = window.location;
          }
      </script>
      <script>
         /*function backToLogin() {
            if (origin === 'https://sso-uat-nsws.investindia.gov.in') {
               window.location.href = 'https://uat-nsws.investindia.gov.in/portal/login'
            } else {
               window.location.href = origin + '/portal/login'
            }
         }*/

      </script>
      <script>
        jQuery(function(){
            jQuery('input[type="text"]').on("change", function(){
                this.value = jQuery.trim(this.value);
            });
         });
      </script>
      <script>
         jQuery(document).ready(function(){
               if(jQuery(this).find("span.server-message").length > 0){
                  var text = $(".server-message").html();
                  var match = text.split('<br>');
                  jQuery(".server-message").text(match[0]);
               }
              

         function handleCountryCode() {
            $('#phoneNumber').intlTelInput({
                autoHideDialCode: false,
                autoFocus:"OFF",
                autocomplete:"OFF",
                autoPlaceholder: "OFF",
                dropdownContainer: document.body,
                geoIpLookup: function(callback) {
                    $.get('https://ipinfo.io', function() {}, "jsonp").always(function(resp) {
                        var countryCode = (resp && resp.country) ? resp.country : "";
                        callback(countryCode);
                    });
                },
                formatOnDisplay: false,
                hiddenInput: "full_number",
                initialCountry: $("#countryName").val() || "auto",
                nationalMode: true,
                placeholderNumberType: "MOBILE",
                separateDialCode: true
               }).on("countrychange", function(e, countryData) {

                var getSelectedCountryData = $('.iti__selected-dial-code').intlTelInput("getSelectedCountryData");
                var selectedCountryCode=$("#phoneNumber").intlTelInput("getSelectedCountryData").dialCode;
                var countryData=$("#phoneNumber").intlTelInput("getSelectedCountryData");
                $('#phoneNumber').val('');
                $("#phoneNumberError").hide(); 
                $('#phoneotp-verify').hide();
                
               sessionStorage.setItem('selectedCountryCode',selectedCountryCode); 
              
               if(sessionStorage.getItem('selectedCountryCode') !== "91"){
                  $('#phoneNumber').attr("minlength","4")
                  $('#phoneNumber').attr("maxlength","13")
               }else{
                  $('#phoneNumber').attr("maxlength","10")
               }

               jQuery('#phoneNumber').on('input', function(event) {
                  var s = $('#phoneNumber').val().toString();
                  var mobileNumberValue = s.replace(/[^\d+]/gi, '');
                  $('#phoneNumber').val(mobileNumberValue);
                  sessionStorage.setItem('phone',mobileNumberValue);
                  var removeLeadingZero = mobileNumberValue.toString().replace(/^0+/, '');
                  var pattern = new RegExp("[6789]{1}[0-9]{9}");
                  if(pattern.test(mobileNumberValue) === false && mobileNumberValue.length >= 1 && mobileNumberValue.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91" ){
                        $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();
                  }else if(pattern.test(mobileNumberValue) === false  && mobileNumberValue.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91"){
                        $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();
                  }else if (mobileNumberValue.length === 0 && sessionStorage.getItem('selectedCountryCode') === "91") {
                        $("#phoneNumberError").text("Phone Number can't be empty.");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();   
                  }else if(sessionStorage.getItem('phone-verify-message')){
                        $('#phoneotp-verify').hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') === "91"){
                        $('#phoneotp-verify').show();
                        $("#phoneNumberError").hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length > 4){
                        $("#input-error-phone_number").hide();
                        $("#phoneNumberError").hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length <= 3){
                        $("#phoneNumberError").text("Mobile Number is Invalid");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length >= 3){
                        $("#phoneNumberError").hide();
                  }
               })

                jQuery("#phoneNumber").change(function(){
                  $("#countryName").val(countryData.iso2);
                   var userContact = "+" +selectedCountryCode;
                   if(userContact) {
                        $('#phoneNumberCopy').val(userContact);
                   }
                 });
            });


         };
      handleCountryCode()

      
      $(function(){
				for(var i=0;i<5;i++){
               $('#e-code').append('<input placeholder="OTP" class="input-element input-field otp email-otp-focus" name="e-code1" type="text"  maxLength="1"/>');
            }
      });

      $(function(){
         const inputs = document.querySelectorAll("#e-code input");
         inputs[0].focus();
         inputs.forEach((input, index) => {
         input.dataset.index = index;
         input.addEventListener("paste", handleOnPasteOtp);
         input.addEventListener("keyup", handleOtp);
          });

          function handleOnPasteOtp(e) {
               const data = e.clipboardData.getData("number");
               const value = data.split("");
               if (value.length == inputs.length) {
               inputs.forEach((input, index) => (input.value = value[index]));
               }
            }
            
            function handleOtp(e) {
               const input = e.target;
               let value = input.value;
               let otpValue=[];
               for(var i=0;i<5;i++){
               otpValue.push(document.getElementsByClassName("otp")[i].value);
               var filterotpValue =otpValue.toString().replace(/,/g, "");
                 $("#enteredEmailOtp").val(filterotpValue);
               }

               if(!isNaN(value)){
               input.value = "number";
               input.value = value ? value[0] : "";
               
               let fieldIndex = input.dataset.index;
           
               if (value.length > 0 && fieldIndex < inputs.length - 1) {
               if(value!=" ")
               input.nextElementSibling.focus();
               else{
                  input.value = "";
               }
               }

                if (e.key == "Backspace" && fieldIndex > 0) {
                input.previousElementSibling.focus();
             }
                if (fieldIndex == inputs.length - 1) {
                   submit();
                }
               }
               else{
                  input.value = "";
               }
               }
      });
            $(function(){
				for(var i=0;i<5;i++){
               $('#phone-code').append('<input placeholder="OTP"  class="input-element input-field otp" name="m-code1" type="text"  maxLength="1"/>');
            }
      });

      $(function(){
         const inputs = document.querySelectorAll("#phone-code input");
         inputs[0].focus();
         inputs.forEach((input, index) => {
         input.dataset.index = index;
         input.addEventListener("paste", handleOnPasteOtp);
         input.addEventListener("keyup", handleOtp);
          });

          function handleOnPasteOtp(e) {
               const data = e.clipboardData.getData("number");
               const value = data.split("");
               if (value.length == inputs.length) {
               inputs.forEach((input, index) => (input.value = value[index]));
               }
            }
            
            function handleOtp(e) {
               const input = e.target;
               let value = input.value;
               let otpValue=[];
               for(var i=0;i<5;i++){
               otpValue.push(document.getElementsByClassName("otp")[i].value);
               var filterotpValue =otpValue.toString().replace(/,/g, "");
                 $("#enteredEmailOtp").val(filterotpValue);
               }
               if(!isNaN(value)){
               input.value = "number";
               input.value = value ? value[0] : "";
               
               let fieldIndex = input.dataset.index;
               if (value.length > 0 && fieldIndex < inputs.length - 1) {
                 if(value!=" ")
               input.nextElementSibling.focus();
               else{
                  input.value = "";
               }
               }

                if (e.key == "Backspace" && fieldIndex > 0) {
                input.previousElementSibling.focus();
             }
                if (fieldIndex == inputs.length - 1) {
                   submit();
                }
               }
               else{
                  input.value = "";
               }
               }
      });

      $(function(){
            for(var i=0;i<5;i++){
               $('#m-code').append('<input placeholder="OTP"  class="input-element input-field otp-mobile otp-pan" name="m-code1" type="text"  maxLength="1"/>');
            }
      });
      
      $(function(){
         const inputs = document.querySelectorAll("#m-code input");
         inputs.forEach((input, index) => {
         input.dataset.index = index;
         input.addEventListener("paste", handleOnPasteOtp);
         input.addEventListener("keyup", handleOtp);
          });
          
          function handleOnPasteOtp(e) {
               const data = e.clipboardData.getData("number");
               const value = data.split("");
               if (value.length == inputs.length) {
               inputs.forEach((input, index) => (input.value = value[index]));
               }
            }


            function handleOtp(e) {
               const input = e.target;
               let value = input.value;

               let otpMobileValue=[];
               for(var i=0;i<5;i++){
               otpMobileValue.push(document.getElementsByClassName("otp-mobile")[i].value);
               var filterotpMobileValue =otpMobileValue.toString().replace(/,/g, "");
                 $("#enteredMobileOtp").val(filterotpMobileValue);
               }
               

               if(!isNaN(value)){
               input.value = "number";
               input.value = value ? value[0] : "";
               
               let fieldIndex = input.dataset.index;
               if (value.length > 0 && fieldIndex < inputs.length - 1) {
                  if(value!=" ")
               input.nextElementSibling.focus();
               else{
                  input.value = "";
               }
               }

                if (e.key == "Backspace" && fieldIndex > 0) {
                input.previousElementSibling.focus();
             }
                if (fieldIndex == inputs.length - 1) {
                   submit();
                }
               }
               else{
                  input.value = "";
               }
               }
      });



      $(function(){
         if(sessionStorage.getItem('emailseconds')){
         jQuery('#seconds').text(sessionStorage.getItem('emailseconds'));
            timeLeft=sessionStorage.getItem('emailseconds');
         }else{
         jQuery('#seconds').text(60);
         timeLeft = 60;
         }
         function countdown() {
         if(timeLeft > 0){
	      timeLeft--;
         if(document.getElementById("seconds")){
	      document.getElementById("seconds").innerHTML = String( timeLeft );
         }
         }else{
            $('.email-otp-resend').show();
            $('.resend-email-otp').hide();
            sessionStorage.removeItem('emailseconds');
         }
      };
	      if (timeLeft > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });
      
         $(function(){
         if(sessionStorage.getItem('phoneseconds')){
         jQuery('#phoneseconds').text(sessionStorage.getItem('phoneseconds'));
            timeLeftphone=sessionStorage.getItem('phoneseconds');
         }else{
         jQuery('#phoneseconds').text(60);
         timeLeftphone = 60;
         }
         function countdown() {
         if(timeLeftphone > 0){
	      timeLeftphone--;
            if(document.getElementById("phoneseconds")){
	         document.getElementById("phoneseconds").innerHTML = String( timeLeftphone );
         }
         }else{
            $('.phone-otp-resend').show();
            $('.resend-phone-otp').hide();
            sessionStorage.removeItem("phoneseconds");
         }
      };
	      if (timeLeftphone > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });


      $(function(){
         timeLefts = 60;
         function pancountdowns() {
	      timeLefts--;
	      document.getElementById("panseconds").innerHTML = String( timeLefts );
	      if (timeLefts > 0) {
		      setTimeout(pancountdowns, 1000);
      	   }
      };
            setTimeout(pancountdowns, 1000);
      });
      




               jQuery('#fullName').keypress(function(e) {
                    var regex = new RegExp("^[A-Za-z-.& ,+!@#$%\^*();\/]*$");
                    var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
                    if (regex.test(str)) {
                    	return true;
                    } else {
                    	e.preventDefault();
                    	$("#registerError").text("Please enter alphabets.");
                        $("#registerError").show();
                    	return false;
                    }
               });


               $('#password').on("blur", function(){
                   var password = $('#password').val();
                   var confirmPwd = $('#confirmPassword').val();
                   if(confirmPwd?.length > 0) {
                        if(password != confirmPwd) {
                           $("#confirmPasswordError").text("Please enter same as password");
                           $("#confirmPasswordError").show();
                        }
                   }
               });

               $('#password').on("focus", function(){
                     $('#input-error-password').hide();
               });

                $('#email').on('focus',function(){
                  $('#input-error-email').hide();
                  $('#server-validation-message').hide();
               });

                $('#phoneNumber').on('focus',function(){
                  $('#input-error-phone_number').hide();
               });
               
               
               $('#confirmPassword').on("blur", function(){
                   var password = $('#password').val();
                   var confirmPwd = $('#confirmPassword').val();
                   if(confirmPwd != password) {
                        $("#confirmPasswordError").text("Confirm Password is not matching with Password.");
                        $("#confirmPasswordError").show();
                   }
               });

               jQuery('#fullName').on("blur", function(e){
                 $("#registerError").hide();
                 var fullNameValue = e.target.value;
                 if(fullNameValue.length === 0) {
                    $("#registerError").text("Full Name can't be empty.");
                    $("#registerError").show();
                 } else if(fullNameValue.length < 3) {
                    $("#registerError").text("Full Name should be minimum 3 characters");
                    $("#registerError").show();
                 } else if (fullNameValue.length > 2) {
                    $("#registerError").hide();
                 }
               });

               jQuery('#userName').on("blur", function(e){
                 $("#userNameError").hide();
                 var userNameValue = e.target.value;
                 if(userNameValue.length === 0) {
                    $("#userNameError").text("Username can't be empty.");
                    $("#userNameError").show();
                 } else if(userNameValue.length < 3) {
                    $("#userNameError").text("Username should be minimum 3 characters");
                    $("#userNameError").show();
                 } else if (userNameValue.length > 2) {
                    $("#userNameError").hide();
                 }
               });
                
                  let phonecode=$("#phoneNumber").val();
                  sessionStorage.setItem('phone-code',phonecode); 
                  
                  $('#email').keypress(function( e ) {
                     if(e.which === 32) 
                        return false;
                  });


               jQuery('#phoneNumber').keyup( function(e) {
                     var phoneinputvalue = (e.target.value).toLowerCase();
                     sessionStorage.setItem('phone',phoneinputvalue);
                     $('#phoneNumber').val(phoneinputvalue);
                     var mobileNumberValue = (e.target.value);
                     var removeLeadingZero = mobileNumberValue.toString().replace(/^0+/, '');
                     $('#phoneNumber').val(removeLeadingZero);
                     var pattern = new RegExp("[6789]{1}[0-9]{9}");
                     if (mobileNumberValue.length >= 1 && mobileNumberValue.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
                              $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();
                     }else if (!(pattern.test(mobileNumberValue)) && mobileNumberValue.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
                              $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();
                     } else if (mobileNumberValue.length === 0 && sessionStorage.getItem('selectedCountryCode') === "91") {
                              $("#phoneNumberError").text("Phone Number can't be empty.");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();        
                     }else if(sessionStorage.getItem('phone-verify-message')){
                              $('#phoneotp-verify').hide();
                     }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length > 4){
                              $("#input-error-phone_number").hide();
                              $("#phoneNumberError").hide();
                     }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length <= 3){
                              $("#phoneNumberError").text("Mobile Number is Invalid");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();                     
                     }else if(sessionStorage.getItem('selectedCountryCode') === "91"){
                              $('#phoneotp-verify').show();
                              $("#phoneNumberError").hide(); 
                     }else{
                              $("#phoneNumberError").hide(); 
                     }
               });

               jQuery(document).ready(function($){
                  $("#phoneNumber").on("paste",function(){
                     $('#phoneotp-verify').hide();
                     var mobileNumberValue=$(this);
                     setTimeout(function(){
                     var pattern = new RegExp("[6789]{1}[0-9]{9}");
                     if (pattern.test(mobileNumberValue) === false) {
                                 $('#phoneotp-verify').hide();
                     }else if (mobileNumberValue.length === 0) {
                              $("#phoneNumberError").text("Phone Number can't be empty.");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();        
                     }else if(sessionStorage.getItem('phone-verify-message')){
                              $('#phoneotp-verify').hide();
                     }else if(sessionStorage.getItem('selectedCountryCode') === "91"){
                              $('#phoneotp-verify').show();
                     }
                     },1);

                  });
                  
               });



               if(sessionStorage.getItem('selectedCountryCode') === "91"){
                  $('#phoneNumber').attr("maxlength","10")
               }else{
                  $('#phoneNumber').attr("maxlength","13")
               }

               
             jQuery('#phoneNumber').keypress(function(e){
                   var mobileNumberValue = e.target.value;
                   if(e.which != 8 && e.which != 0 && e.which < 48 || e.which > 57) {
                        e.preventDefault();
                   }
               });             

               jQuery('#email').on("blur", function(e){
                     $("#emailError").hide();
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $("#emailError").text("Email can't be empty.");
                        $("#emailError").show();
                        $('#emailotp-verify').hide();
                        $('.email-verfiy-img').hide();
                     } else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,10})+$/.test(emailValue))) {
                        $("#emailError").text("Please enter valid email id");
                        $("#emailError").show();
                        $('.email-verfiy-img').hide();
                        $('#emailotp-verify').hide();
                     }else if(sessionStorage.getItem('email-verify-message')){
                        $('#emailotp-verify').hide();
                     }
                     else{
                        $('#emailotp-verify').show();
                     }
               });

               jQuery('.forgot-email-address').on("blur", function(e){
                     $("#emailError").hide();
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $("#emailError").text("Email can't be empty.");
                        $("#emailError").show();
                     } else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(emailValue))) {
                        $("#emailError").text("Please enter valid email id");
                        $("#emailError").show();
                     }
               });

               jQuery('.forgot-email-address').on("keyup", function(e){
                     $("#emailError").hide();
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $("#emailError").text("Email can't be empty.");
                        $("#emailError").show();
                     } else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(emailValue))) {
                        $("#emailError").text("Please enter valid email id");
                        $("#emailError").show();
                     }
               });



                     jQuery('#email').on("keyup", function(e){
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $('#emailotp-verify').hide();
                     }else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,10})+$/.test(emailValue))) {
                        $('#emailotp-verify').hide();
                     }
                     else {
                        sessionStorage.setItem('email',emailValue);  
                        $('#email').val(emailValue);
                        $('#emailotp-verify').show();
                        $('.email-verfiy-img').hide();
                     }
               });

               jQuery('#password').on("blur", function(e) {
                     $("#passwordError").hide();
                     var passwordValue = e.target.value;
                     if(passwordValue.length === 0) {
                        $("#passwordError").text("Password can't be empty.");
                        $("#passwordError").show();
                     } else if (!(/^(?:(?=.*\d)(?=.*[a-z])(?=.*[A-Z])).{6,20}$/.test(passwordValue))) {
                        $("#passwordError").text("Password must include at least one uppercase letter, lowercase letter, number, special character and should be between 6-20 characters.");
                        $("#passwordError").show();
                     }
               });

                
               jQuery('#confirmPassword').on("blur", function(e) {
                     $("#confirmPasswordError").hide();
                     var confirmPwdValue = e.target.value;
                     if(confirmPwdValue.length === 0) {
                        $("#confirmPasswordError").text("Confirm Password can't be empty.");
                        $("#confirmPasswordError").show();
                     } else if (!(/^(?:(?=.*\d)(?=.*[a-z])(?=.*[A-Z])).{6,20}$/.test(confirmPwdValue))) {
                        $("#confirmPasswordError").text("Password must include at least one uppercase letter, lowercase letter, number, special character and should be between 6-20 characters.");
                        $("#confirmPasswordError").show();
                     }
               });

               jQuery('#fullName, #userName, #email, #password').keyup(function(e) {
                   $(this).closest('.nsws-input-field').children('.floating-label+span').hide();
               });

               jQuery('#phoneNumber').keyup(function(e) {
                   $(this).closest('.nsws-input-field').children('.floating-label+span').hide();
                   $(this).closest('.nsws-input-field').children('.floating-label+#input-error-phone_number').hide();
               });

               jQuery('#agreementCheck').change(function() {
                  var checkState = $('#agreementCheck').prop("checked");
                  $('#registerBtn').prop("disabled", !$("#agreementCheck").prop("checked"));
               });


               $('.pwd-hide-icon-login').hide();
               jQuery('.pwd-view-icon-login, .pwd-hide-icon-login').click(function() {
                  if('password' == $('#password').attr('type')){
                     $('#password').prop('type', 'text');
                     $('.pwd-hide-icon-login').show();
                     $('.pwd-view-icon-login').hide();
                  } else {
                     $('#password').prop('type', 'password');
                     $('.pwd-view-icon-login').show();
                     $('.pwd-hide-icon-login').hide();
                  }
               });
                              
               $('.pwd-hide-icon').hide();
               jQuery('.pwd-view-icon, .pwd-hide-icon').click(function() {
                  if('password' == $('#password').attr('type')){
                     $('#password').prop('type', 'text');
                     $('.pwd-hide-icon').show();
                     $('.pwd-view-icon').hide();
                  } else {
                     $('#password').prop('type', 'password');
                     $('.pwd-view-icon').show();
                     $('.pwd-hide-icon').hide();
                  }
               });

               $('.cnf-pwd-hide-icon').hide();
               jQuery('.cnf-pwd-view-icon, .cnf-pwd-hide-icon').click(function() {
                  if('password' == $('#confirmPassword').attr('type')){
                     $('#confirmPassword').prop('type', 'text');
                     $('.cnf-pwd-hide-icon').show();
                     $('.cnf-pwd-view-icon').hide();
                  } else {
                     $('#confirmPassword').prop('type', 'password');
                     $('.cnf-pwd-view-icon').show();
                     $('.cnf-pwd-hide-icon').hide();
                  }
               });
                     
               $('.pwd-hide-icon.update-pwd').hide();
               jQuery('.pwd-view-icon.update-pwd, .pwd-hide-icon.update-pwd').click(function() {
                  if('password' == $('#password-new').attr('type')){
                     $('#password-new').prop('type', 'text');
                     $('.pwd-hide-icon.update-pwd').show();
                     $('.pwd-view-icon.update-pwd').hide();
                  } else {
                     $('#password-new').prop('type', 'password');
                     $('.pwd-view-icon.update-pwd').show();
                     $('.pwd-hide-icon.update-pwd').hide();
                  }
               });

                    $('.cnf-pwd-hide-icon.update-cnf').hide();
               jQuery('.cnf-pwd-view-icon.update-cnf, .cnf-pwd-hide-icon.update-cnf').click(function() {
                  if('password' == $('#password-confirm').attr('type')){
                     $('#password-confirm').prop('type', 'text');
                     $('.cnf-pwd-hide-icon.update-cnf').show();
                     $('.cnf-pwd-view-icon.update-cnf').hide();
                  } else {
                     $('#password-confirm').prop('type', 'password');
                     $('.cnf-pwd-view-icon.update-cnf').show();
                     $('.cnf-pwd-hide-icon.update-cnf').hide();
                  }
               });

               jQuery('.pan-btn').click(function(){
               $('#username').remove();
               $('#password').remove();
               $("#passwordError").hide();
               });

               jQuery('#userPanNumber').change(function(e){
                     $("#userPanError").hide();
                     var panValue = (e.target.value);
                     if(panValue.length === 0) {
                        $("#userPanError").text("Pan Number Can't Be Empty");
                         $('.signin-pan-btn').prop('disabled', true);
                        $("#userPanError").show();
                     } else if (!(/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/.test(panValue))) {
                        $("#userPanError").text("Entered PAN is invalid");
                         $('.signin-pan-btn').prop('disabled', true);
                        $("#userPanError").show();
                     } else if(panValue.length===10){
                        $('.signin-pan-btn').prop('disabled', false);
                        $("#userPanError").hide();
                     }
               });


               $('#phoneNumber').on('input', function(event) {
                  var s = $('#phoneNumber').val().toString();
                  var x = s.replace(/[^\d+]/gi, '');
                  $('#phoneNumber').val(x);
               })

             $('#otp-action').hide();
               setTimeout(function(){
                  $('#otp-action').show();
                  $('.resend-pan-otp').hide();
               },60000);

               if($('.otp-verify-phone').text().slice(1,3)==="91"){ 
                        $("#m-code").show();
                        $('.email-otp-notification').text('We have sent you an verification code in your Email and Mobile number you need to enter code to verify');
                     } else {
                        $("#m-code").hide();
                        $('.email-otp-notification').text('We ve sent you an verification code on your email you need to enter code to verify.');
                     }  
               var errortext=$('.server-message ').text().trim();
               if(errortext === 'You should receive an email shortly with further instructions.'){
                     $('.server-message').text('You should receive an email shortly with instructions on resetting your password.');
                     $('.error-icon-user-timeout').hide();
               }
               if(errortext === 'Cannot update with the previous password.'){
                     $(".server-message").attr("id","loginErrorMessage");
                     $('.error-icon').hide();
               }
               if(errortext === 'Action expired. Please continue with login now.'){
                     $(".server-message").attr("id","loginErrorMessage");
                     $('.error-icon').hide();
               } 
               if(errortext === 'Your login attempt timed out.Please relogin.'){
                  $(".server-message").attr("id","loginErrorMessage");
                  $('.error-icon').hide();
               }
               if(errortext === 'You need to change your password.'){
                  $(".server-message").attr("id","loginErrorMessage");
                  $('.error-icon').hide();
               } 
               if(errortext === 'Two different roles are assigned to this user. Please check.'){
                  $(".server-message").attr("id","loginErrorMessage");
                  $('.error-icon').hide();
               } 

            var errortextsignup=$('#server-validation-message').text().trim();
            if(errortextsignup === 'Action expired. Please continue with login now.'){
               $('.server-message').hide();
               $('.error-icon').hide();
               $('.error-icon-user-timeout').hide();
            }
               
            const url = new URLSearchParams(window.location.search);
            const keys = Object.fromEntries(url.entries());   
            if(keys.client_id === 'ministry-portal-prod'){
                  $('.signup-text-btn').hide(); 
            }else if(keys.client_id === 'ministry-portal-ppe-stage'){
                  $('.signup-text-btn').hide(); 
            }else if(keys.client_id === 'ministry-portal-uat'){
                  $('.signup-text-btn').hide(); 
            }

                     const testimonialUrl = (origin) => {
                           switch (origin) {
                               case "https://sso-uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in/testimonial`;
                              case "https://uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in/testimonial`;
                              case "https://qa-nsws.investindia.gov.in":
                                 return `https://qa-nsws.investindia.gov.in/testimonial`;
                              case "https://dev-nsws.investindia.gov.in":
                                 return `https://dev-nsws.investindia.gov.in/testimonial`;
                              case "https://mpf-nsws.investindia.gov.in":
                                 return `https://mpf-nsws.investindia.gov.in/testimonial`;
                              case "https://www.ppe.nsws.gov.in":
                                 return `https://www.ppe.nsws.gov.in/testimonial`;
                              case "https://www.demo.nsws.gov.in":
                                 return `https://www.demo.nsws.gov.in/testimonial`;
                              case "https://www.nsws.gov.in":
                                 return `https://www.nsws.gov.in/testimonial`;
                              default:
                                 return `https://qa-nsws.investindia.gov.in/testimonial`;
                           }
                     };

                     const testimonialUrlImage = (origin) => {
                           switch (origin) {
                               case "https://sso-uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in`;
                              case "https://uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in`;
                              case "https://qa-nsws.investindia.gov.in":
                                 return `https://qa-nsws.investindia.gov.in`;
                              case "https://dev-nsws.investindia.gov.in":
                                 return `https://dev-nsws.investindia.gov.in`;
                              case "https://mpf-nsws.investindia.gov.in":
                                 return `https://mpf-nsws.investindia.gov.in`;
                              case "https://www.ppe.nsws.gov.in":
                                 return `https://www.ppe.nsws.gov.in`;
                              case "https://www.demo.nsws.gov.in":
                                 return `https://www.demo.nsws.gov.in`;
                              case "https://www.nsws.gov.in":
                                 return `https://www.nsws.gov.in`;
                              default:
                                 return `https://qa-nsws.investindia.gov.in`;
                           }
                     };
                        
                     $.get(testimonialUrl(origin), function( data ) {
                          var html="";
                          for(var i=0; i<data.length; i++)
                           {        
                                     if(i==0){

                                        html+= ' <div class="carousel-item active" data-bs-interval="5000"> '  + 
                                     

                                   ' <div class="d-block w-100">'
                                        +
                                       '<div class="nsws-testimonial-block">'
                                         + 
                                          '<div class="nsws-testimonial-img">'
                                          + 
                                          '<img class="director-image"  src= '+testimonialUrlImage(origin) +data[i].image +' alt="" />'
                                          +
                                        '  </div>'
                                          + 
                                         ' <div class="nsws-testimonial-content">'
                                          + 
                                          '<span class="right-description">'+data[i].quote +'</span>'
                                          +
                                          '<span class="right-1st-description">' +data[i].name+'</span>' 
                                          +
                                          '<span class="right-2nd-description">'+data[i].designation + '</span>'
                                        + 
                                        ' </div>'
                                        + 
                                        ' </div>'
                                        + 
                                        ' </div>'
                                        + 
                                        '</div>'
                                         }
                                         else{
                                          html+= ' <div class="carousel-item" data-bs-interval="5000"> '  + 
                                     

                                     ' <div class="d-block w-100">'
                                          + 
                                         '<div class="nsws-testimonial-block">'
                                           + 
                                            '<div class="nsws-testimonial-img">'
                                            + 
                                            '<img class="director-image" src= '+testimonialUrlImage(origin) +data[i].image +' alt="" />'
                                            +
                                          '  </div>'
                                            + 
                                           ' <div class="nsws-testimonial-content">'
                                            + 
                                            '<span class="right-description">'+data[i].quote +'</span>'
                                            +
                                            '<span class="right-1st-description">' +data[i].name+'</span>' 
                                            +
                                            '<span class="right-2nd-description">'+data[i].designation + '</span>'
                                          + 
                                          ' </div>'
                                          + 
                                          ' </div>'
                                          + 
                                          ' </div>'
                                          + 
                                          '</div>'
                                         }
                                       }
                                       $( ".carousel-inner" ).html(html);
                                    });
                                       

               jQuery("#email").focusout(function(){
                 var userEmail = $('#email').val().toString().toLowerCase();
                 $("#userName").val(userEmail);
               });
            if(origin === 'https://sso-uat-nsws.investindia.gov.in') {
               $("#backToLoginRedirection").attr("href", "https://uat-nsws.investindia.gov.in/portal/login");
            } else {
               $("#backToLoginRedirection").attr("href", "/portal/login")
            }
            jQuery("#password").focusout(function(){
                 var enteredPassword = $('#password').val();
                 $("#confirmPassword").val(enteredPassword);
               });

               $("#backToLoginPanFlow").attr("href", testimonialUrlImage(origin)+ "/portal/login");   
            

             var browserName = (function(agent) {
                  switch (true) {
                     case agent.indexOf("edge") > -1:
                        return "MS Edge";
                     case agent.indexOf("edg/") > -1:
                        return "Edge ( chromium based)";
                     case agent.indexOf("opr") > -1 && !!window.opr:
                        return "Opera";
                     case agent.indexOf("chrome") > -1 && !!window.chrome:
                        return "Chrome";
                     case agent.indexOf("trident") > -1:
                        return "MS IE";
                     case agent.indexOf("firefox") > -1:
                        return "Mozilla Firefox";
                     case agent.indexOf("safari") > -1:
                        return "Safari";
                     default:
                        return "other";
                  }
               })(window.navigator.userAgent.toLowerCase());

               if (browserName === 'Edge ( chromium based)') {
                  $('#username').attr('autocomplete', 'new-email');
                  $('#password').attr('autocomplete', 'new-password');
               }
               else {
                  $('#username').attr('autocomplete', 'off');
                  $('#password').attr('autocomplete', 'off');
               }
               
               var title =$('.title').text();
               var signuptitle=$('.signup-title').text();
               var forgotpasswordtitle=$('.forgotpassword-title').text();
               if(title === 'Sign In to madhyam'){
                  $('.title').text('Sign In to National Single Window System');
               } 
               if(signuptitle === 'Sign Up'){
                  $('.title').text('Sign Up to National Single Window System');
               }
               if(forgotpasswordtitle === 'Forgot Password?'){
                  $('.title').text('Forgot Password | National Single Window System');
               }



 
      $('#email-otp-action').hide();
      let validationmessage = $('#server-validation-message').text().trim();
      let emailvalidationmessage = $('#input-error-email-otp').text().trim();
      if (validationmessage === 'E_OTP_SEND' || emailvalidationmessage === 'Entered Email OTP is wrong, Please Enter Valid OTP Again.') {
         setTimeout(function() {
            $('#email-otp-action').show();
            $('.resend-email-otp').hide();
            $('.email-otp-verify').hide();
            $('.email-otp-resend').show();
            if(validationmessage === "Edit-email"){
            $('.email-otp-verify').show();
            $('#emailotp-editemail').hide(); 
            }else {
            $('#emailotp-editemail').show();
            }
                  $(function(){
         if(sessionStorage.getItem('emailseconds')){
         jQuery('#seconds').text(sessionStorage.getItem('emailseconds'));
            timeLeft=sessionStorage.getItem('emailseconds');
         }else{
         jQuery('#seconds').text(63);
         timeLeft = 63;
         }
         function countdown() {
	      timeLeft--;
         if(document.getElementById("seconds")){
	      document.getElementById("seconds").innerHTML = String( timeLeft );
         }
      };
	      if (timeLeft > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });
            if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
            }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }

            $('.email-otp-resend-text-btn').click(function() {
                  $('.input-otp-email-verify').slideDown();
                  $('.input-otp-email-verify').show();
                  $('#email').hide();
                  $('.register-btn').hide();
                  $('#phonenumber-field').hide();
                  $('#setpassword-field').hide();
                  $('.signupformclear').hide();
                  sessionStorage.removeItem("emailseconds");
                  $(this).hide();
                  $('#server-validation-message').hide();
                  $('#input-error-password').hide();
                  $('#email-otp').html(emailfieldvalue);
            })

         }, 60000);
      }



      let emailerrormessage = $('#input-error-email').text().trim();
      let validationmessagephone = $('#server-validation-message-phone').text().trim();

      if (validationmessage === 'E_OTP_SEND') {
         $('.input-otp-email-verify').slideUp();
         $('.input-otp-email-verify').show();
         $('#email').hide();
         $('.register-btn').hide();
         $('#phonenumber-field').hide();
         $('#setpassword-field').hide();
         $(this).hide();
         $('#emailotp-editemail').show();
         $('#server-validation-message').hide();
         $('#input-error-password').hide();
         $('.signupformclear').hide();
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         $('.registerbtn-container').hide();
         sessionStorage.removeItem("emailseconds");
         let emailfieldvalue = $('#email').val();
         $('#email-otp').html(emailfieldvalue);
         if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
            $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }
         let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         let mobileNumber =$('#phoneNumber').val();
         if(phonevalidationmessage === 'p-verified') {
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') === 'p-verified' && sessionStorage.getItem('selectedCountryCode') !== "91"){
               $('#phoneotp-verify').hide();
         }else if(mobileNumber.length >= 1 && mobileNumber.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(!(pattern.test(mobileNumber)) && mobileNumber.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') !== 'p-verified' && sessionStorage.getItem('selectedCountryCode') === "91" && mobileNumber){
               $('#phoneotp-verify').show();
         }

      }else if (emailerrormessage === 'Your Email is not verified. Please verify your email.'&& sessionStorage.getItem('email')){
         $('#emailotp-verify').show();
          $('.server-message').hide();
      }else if (emailvalidationmessage === 'Entered Email OTP is wrong, Please Enter Valid OTP Again.') {
         $('.input-otp-email-verify').slideUp();
         $('.input-otp-email-verify').show();
         $('#email').hide();
         $('.register-btn').hide();
         $('#phonenumber-field').hide();
         $('#setpassword-field').hide();
         $(this).hide();
         $('#emailotp-editemail').show();
         $('#server-validation-message').hide();
         $('.signupformclear').hide();
         $('.registerbtn-container').hide();
         let emailfieldvalue = $('#email').val();
         $('#email-otp').html(emailfieldvalue);
         $('#server-validation-message-verified').hide();
         $('#input-error-password').hide();
         if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }

      } else if (emailvalidationmessage == 'e-verified') {
         $('#server-validation-message-verified').hide();
         $('#input-error-password').hide();
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         $('.registerbtn-container').show();
         let emailverifymessage = $('#server-validation-message-verified').text().trim();  
         sessionStorage.setItem('email-verify-message',emailverifymessage);
         if(sessionStorage.getItem('phone') && sessionStorage.getItem('phone').length > 2  ) {
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }else if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }
         
         let emailfieldvalue = $('#email').val();
         sessionStorage.setItem('email',emailfieldvalue);
         let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         let mobileNumber =$('#phoneNumber').val();
         if(phonevalidationmessage === 'p-verified') {
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') === 'p-verified' && sessionStorage.getItem('selectedCountryCode') !== "91"){
               $('#phoneotp-verify').hide();
         }else if(mobileNumber.length >= 1 && mobileNumber.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(!(pattern.test(mobileNumber)) && mobileNumber.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') !== 'p-verified' && sessionStorage.getItem('selectedCountryCode') === "91" && mobileNumber){
               $('#phoneotp-verify').show();
         }
      } else if (emailerrormessage === 'Email already exists.') {
         $('#input-error-password').hide();
      }

      $('#emailotp-editemail').click(function() {
         validationmessage = "Edit-email";
         $('.input-otp-email-verify').slideDown();
         $('.input-otp-email-verify').hide();
         $('#email').show();
         $('#phonenumber-field').show();
         $('#setpassword-field').show();
         $('.register-btn').show();
         $('.signupformclear').show();
         $(this).hide();
         $('#emailotp-verify').show();
         $('#server-validation-message-verified-phone').hide();
         $('#input-error-password').hide();
         $('.registerbtn-container').show();
         sessionStorage.removeItem("emailseconds");
         if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }
         let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         let mobileNumber =$('#phoneNumber').val();
         if(phonevalidationmessage === 'p-verified') {
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') === 'p-verified' && sessionStorage.getItem('selectedCountryCode') !== "91"){
               $('#phoneotp-verify').hide();
         }else if(mobileNumber.length >= 1 && mobileNumber.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(!(pattern.test(mobileNumber)) && mobileNumber.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') !== 'p-verified' && sessionStorage.getItem('selectedCountryCode') === "91" && mobileNumber){
               $('#phoneotp-verify').show();
         }
      })

      $('#phone-otp-action').hide();
      let phoneerroemessage=$('#input-error-phone_number').text().trim();
      let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
      if (validationmessagephone === 'OTP send' || phonevalidationmessage === 'Entered Mobile OTP is wrong, Please Enter Valid OTP Again.') {
         setTimeout(function() {
            $('#phone-otp-action').show();
            $('.resend-phone-otp').hide();
            $('.phone-otp-verify').hide();
            $('.phone-otp-resend').show();
            if(validationmessagephone === "Edit-phone"){
            $('.phone-otp-verify').show();
            $('#phoneotp-editphone').hide();
            }else {
            $('#phoneotp-editphone').show();
            }
         $(function(){
         if(sessionStorage.getItem('phoneseconds')){
         jQuery('#phoneseconds').text(sessionStorage.getItem('phoneseconds'));
            timeLeftphone=sessionStorage.getItem('phoneseconds');
         }else{
         jQuery('#phoneseconds').text(63);
         timeLeftphone = 63;
         }
         function countdown() {
	      timeLeftphone--;

         if(document.getElementById("phoneseconds")){
	      document.getElementById("phoneseconds").innerHTML = String( timeLeftphone );
         }
      };
	      if (timeLeftphone > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });
            $('.phone-otp-resend-text-btn').click(function() {
                  $('.input-otp-phone-verify').slideDown();
                  $('.input-otp-phone-verify').show();
                  $('#phoneNumber').hide();
                  $('.register-btn').hide();
                  $('.signupformclear').hide();
                  $('#phonenumber-field').hide();
                  $('#setpassword-field').hide();
                  sessionStorage.removeItem("phoneseconds");
                  $(this).hide();
                  $('#server-validation-message').hide();
                  $('#input-error-password').hide();
            })
         }, 60000);
      }

      if (validationmessagephone === 'OTP send') {    
         $('.input-otp-phone-verify').slideUp();
         $('.input-otp-phone-verify').show();
         $('#phoneNumber').hide();
         $('.register-btn').hide();
         $('#setpassword-field').hide();
         $(this).hide();
         $('#phoneotp-editphone').show();
         $('#server-validation-message').hide();
         $('#server-validation-message-phone').hide();
         $('#input-error-password').hide();
         $('.signupformclear').hide();
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         $('#email').val(sessionStorage.getItem('email')); 
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         $('.iti__flag-container').hide();

         if(emailvalidationmessage === 'e-verified') {
              $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') === 'e-verified' && sessionStorage.getItem('email')){
             $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') != 'e-verified' && sessionStorage.getItem('email') ){
             $('#emailotp-verify').show();  
         }

      }else if(sessionStorage.getItem('phone') && phoneerroemessage === 'Your Phone number is not verified. Please verify your Phone number.'){
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         
         var mobileNumberValue = $('#phoneNumber').val();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         if(!pattern.test(mobileNumberValue) && mobileNumberValue.length >= 1 && mobileNumberValue.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91" && phoneerroemessage === 'Your Phone number is not verified. Please verify your Phone number.'){
            $("#input-error-phone_number").text("Mobile Number should be of exact 10 digits");
            $("#input-error-phone_number").show();
            $('#phoneotp-verify').hide();
         }else if (!(pattern.test(mobileNumberValue)) && mobileNumberValue.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91" &&  phoneerroemessage === 'Your Phone number is not verified. Please verify your Phone number.') {
            $("#input-error-phone_number").text("Mobile Number should start from 6,7,8, and 9 Only");
            $("#input-error-phone_number").show();
            $('#phoneotp-verify').hide();
         }else{
            $('#phoneotp-verify').show();
         }
      }
       else if (phonevalidationmessage === 'Entered Mobile OTP is wrong, Please Enter Valid OTP Again.') {
         $('.input-otp-phone-verify').slideUp();
         $('.input-otp-phone-verify').show();
         $('#phoneNumber').hide();
         $('.register-btn').hide();
         $('#setpassword-field').hide();
         $('.signupformclear').hide();
         $(this).hide();
         $('#phoneotp-editphone').show();
         $('#server-validation-message-phone').hide();
         $('#server-validation-message-verified-phone').hide();
         $('#input-error-password').hide();
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         $('#email').val(sessionStorage.getItem('email'));
         $('.iti__flag-container').hide();
         
         if(sessionStorage.getItem('email-verify-message') != 'e-verified' && sessionStorage.getItem('email') ){
             $('#emailotp-verify').show();  
         }


      } else if (phonevalidationmessage === 'p-verified') {
         $('#server-validation-message-verified-phone').hide();
         $('#email').val(sessionStorage.getItem('email'));
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         let phoneverifymessage = $('#server-validation-message-verified-phone').text().trim();  
         sessionStorage.setItem('phone-verify-message',phoneverifymessage);
         if(emailvalidationmessage === 'e-verified') {
              $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') === 'e-verified' && sessionStorage.getItem('email')){
             $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') != 'e-verified' && sessionStorage.getItem('email') ){
             $('#emailotp-verify').show();  
         }

      }

      var selectedCountryCode=$("#phoneNumber").intlTelInput("getSelectedCountryData").dialCode;
      $('#phoneotp-editphone').click(function() {
         validationmessagephone = "Edit-phone";
         $('.input-otp-phone-verify').slideDown();
         $('.input-otp-phone-verify').hide();
         $('#phoneNumber').show();
         $('#setpassword-field').show();
         $('.register-btn').show();
         $(this).hide();
         $('.signupformclear').show();
         $('#phoneotp-verify').show();
         $('.iti__flag-container').show();
         $('#email').val(sessionStorage.getItem('email'));
         sessionStorage.removeItem("phoneseconds");
         if(sessionStorage.getItem('phone')){
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }else{
         $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }
      })
                


        if(sessionStorage.getItem('email-verify-message')){
            $('#server-validation-message-verified').val(sessionStorage.getItem('email-verify-message'));
            $('#email').val(sessionStorage.getItem('email'));
            $("#email").prop('readonly',true);
            $('.email-verfiy-img').show();
         }
         else{
            $("#email").prop('readonly',false);
         }

         if(sessionStorage.getItem('phone-verify-message')){
             $('#server-validation-message-verified-phone').val(sessionStorage.getItem('phone-verify-message'));
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
             $('.phone-verfiy-img').show();
             $('#phoneNumber').prop('readonly', true);
         }else{
             $('#phoneNumber').prop('readonly', false);
         }

       $('.resetform').click(function(){
          sessionStorage.clear();
          location.reload();
       }) 
      
      $('.signup-text-btn').click(function(){
          sessionStorage.clear();
          location.reload();
       }) 
     

       var signuptitle = $('.signup-title').text();
       if(signuptitle === 'Sign Up'){
          $('.error-icon-user-timeout').hide();
          $('.error-icon').hide();
          $('.server-message').hide();
       } 

         });  

         var videobg = document.getElementById("video-speed");
         videobg.playbackRate = 0.5;      


      </script>
   </head>
   
   <body>
      <!-- Google Tag Manager (noscript) -->
      <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KRBMWNL"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
      <!-- End Google Tag Manager (noscript) -->
      <div class="access-management">
         <div class="access-container-content">
            <div class="background-flag">
               <video id="video-speed" loop muted autoPlay width="100%">
                 <source src="/auth/resources/egfby/login/sws/video/flag2.mp4" type="video/mp4"/>
               </video>
             </div>
             <div class="nsws-inner-container">
            <a href="/" class="logo-link">
               <img class="nsws-logo" src="/auth/resources/egfby/login/sws/images/nswslogo.png" alt="logo" width="150" height="40">
            </a>
            <div class="inner-content">
               <header class="">
                  <!-- <h1 id="kc-page-title" class="signin-title">        Authentication Redirect
</h1> -->
               </header>
               <div id="kc-content">
                  <div id="kc-content-wrapper">
        <script>window.onload = function() {document.forms[0].submit()};</script>
        <p>Redirecting, please wait.</p>
        <form name="saml-post-binding" method="post" action="https://ssoinvestodisha.odisha.gov.in/realms/goswift-dev/protocol/saml">
                <input type="hidden" name="SAMLRequest" value="PHNhbWxwOkF1dGhuUmVxdWVzdCB4bWxuczpzYW1scD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOnByb3RvY29sIiB4bWxucz0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgeG1sbnM6c2FtbD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgQXNzZXJ0aW9uQ29uc3VtZXJTZXJ2aWNlVVJMPSJodHRwczovL2Rldi1uc3dzLmludmVzdGluZGlhLmdvdi5pbi9hdXRoL3JlYWxtcy9tYWRoeWFtL2Jyb2tlci9vZGlzaGEvZW5kcG9pbnQiIEF0dHJpYnV0ZUNvbnN1bWluZ1NlcnZpY2VJbmRleD0iMCIgRGVzdGluYXRpb249Imh0dHBzOi8vc3NvaW52ZXN0b2Rpc2hhLm9kaXNoYS5nb3YuaW4vcmVhbG1zL2dvc3dpZnQtZGV2L3Byb3RvY29sL3NhbWwiIEZvcmNlQXV0aG49ImZhbHNlIiBJRD0iSURfYjdiNmJiZWMtZjI1NS00YTkwLTgzYzktZjgzZTFkMWM2ODRmIiBJc3N1ZUluc3RhbnQ9IjIwMjQtMDEtMjNUMTA6MTk6NDMuMDMwWiIgUHJvdG9jb2xCaW5kaW5nPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YmluZGluZ3M6SFRUUC1QT1NUIiBWZXJzaW9uPSIyLjAiPjxzYW1sOklzc3Vlcj5odHRwczovL2Rldi1uc3dzLmludmVzdGluZGlhLmdvdi5pbi9hdXRoL3JlYWxtcy9tYWRoeWFtPC9zYW1sOklzc3Vlcj48ZHNpZzpTaWduYXR1cmUgeG1sbnM6ZHNpZz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI+PGRzaWc6U2lnbmVkSW5mbz48ZHNpZzpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8+PGRzaWc6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkc2lnOlJlZmVyZW5jZSBVUkk9IiNJRF9iN2I2YmJlYy1mMjU1LTRhOTAtODNjOS1mODNlMWQxYzY4NGYiPjxkc2lnOlRyYW5zZm9ybXM+PGRzaWc6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz48ZHNpZzpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzEwL3htbC1leGMtYzE0biMiLz48L2RzaWc6VHJhbnNmb3Jtcz48ZHNpZzpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHNpZzpEaWdlc3RWYWx1ZT4xSjRlMGhnMk9rWmJCaEg3YVVXWHMxNkRGdmY1d25EZGRtTlFMLzVPUzJnPTwvZHNpZzpEaWdlc3RWYWx1ZT48L2RzaWc6UmVmZXJlbmNlPjwvZHNpZzpTaWduZWRJbmZvPjxkc2lnOlNpZ25hdHVyZVZhbHVlPk5takZTNDN0cjBFOUZCRU95OE9wdVlQcVIycFExQVZTYnZhRFpGM2R4cXhzekdPS1BhV2swZklUbWdmQUYyTVc2dm9Wd01MMnQ2UGdDN1hOQVk1dktXQzhJV3h1YjdmbCs5dlRGS3g2V0NTVk9BRy81dmlkOG5IcE9ZK1E1NVdmZmR5OFMxTjc5ZGN2MFVBYlczL3I4TzdmNU91V2FVVG1FbzYxSm1YSWFoVVFVQ2lnYy96VWNsYUZmcC9GMldDaTRDMFJYMnFEckQxMUNmbXRSSHRSRkx5cWtMMUZvdHJGaW5UMUZ5UjltSFJXTnBHU1d0Nzdvb1BaZ01pYlZFOEpEenE1b3hNdHphTkd6YUN0aStIdjFsRlVpeUhBZjJ2dGlreERUZmdNbUU5Wm40Z0cxYWh1VUNzYU1PTFBybnNDSjdVSGNzb0YwbjZ3WVQ5cmFpaXM1dz09PC9kc2lnOlNpZ25hdHVyZVZhbHVlPjxkc2lnOktleUluZm8+PGRzaWc6S2V5TmFtZT5JdmdIeWZDTjhFako2dnFYZ0xEM1VfaTlhOVhnTU83X0FNZWZla21RZXdNPC9kc2lnOktleU5hbWU+PGRzaWc6WDUwOURhdGE+PGRzaWc6WDUwOUNlcnRpZmljYXRlPk1JSUNuVENDQVlVQ0JnRjVha29MS1RBTkJna3Foa2lHOXcwQkFRc0ZBREFTTVJBd0RnWURWUVFEREFkdFlXUm9lV0Z0TUI0WERUSXhNRFV4TkRBNU5UQXdPRm9YRFRNeE1EVXhOREE1TlRFME9Gb3dFakVRTUE0R0ExVUVBd3dIYldGa2FIbGhiVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFMM0xxWkZsZVBWTFpYUUtKZ3o3SUFqTkhsS0YzMzNZNnZod09lU2xlK1UvSTFkeTJLNVhLYmtjWjI4Mmk1YzUzU2hEY0ZTWVhOcnJKcDFUNStCR1kwb1psZkt5cmlOblQ2cmgzVXUvV2dqdi9RZE9LUUZjVVF2RTZnbmo0R1hSY2tZMFhZamc3L3RLbTA0SkV3Q2NZRU1JSzIzOGU0bCtocTNvb2pNOFUzcHVnV2RUV1pQQ1NPQURHcXZYbFBXZjgvNHcydEgrUmpKY1RKZmxDNnl3dm5BYWNXcHRkOEMxRmtIY2E3bEQ0NW5vV29yS1dQM3VKOU4zcTBxcUhTVWg0eUlSVmJZQ01ydmJDZkQvY2p5SkRTbzRMNEhxY0tZRDRBQjJlZ0RhOWVWRWV5c0ZNZW9ES0xVTmNEYXVCQ0NIbFRoSHF6d0pXVnc0aGNWNTNMdlNHMzBDQXdFQUFUQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFUTXBHWmNyN0dDeDZMZmRrNFFIYmdwUFpSaElUR2g0Tk1MTFk3K1JMYUlLSTcxNmhMVTVNVnpIWmFWeTIyZnZFeFM5SHlvU1pvcnZRNzhIR1N2Yk8yU2l4RXBaMDRScUxweWN5NjRob0V3QTlYM0pFYWozUzJjYzM1OFdPYUpmbXFmRHpSUlk3QUtFejN0ZDFrQXBwZThXd2FxMHBOWEp5eFBMK0pqZXRDb3BFdWprdWhUTXR3R2JBZWJwSVVZVFhSWmsxaTgzL2hvSENGNGlzRTFqNHIwMkc0RzhUbDUwcmtuQkk4U2J6MXZFRzBkV2NvbjE3WXhMNUNZRC9FS3VSYXo2MFRyc1JSNUl2NFF6Zk5QWTRjOWgvVGVMQ25zQnljeU5wZ2RCZFJBQ1NET1ozSjAzL2N5T3NFY2x6eVlGR3B6RVR4N1BiZUNQWVZ4Z001end4K1E9PTwvZHNpZzpYNTA5Q2VydGlmaWNhdGU+PC9kc2lnOlg1MDlEYXRhPjwvZHNpZzpLZXlJbmZvPjwvZHNpZzpTaWduYXR1cmU+PHNhbWxwOk5hbWVJRFBvbGljeSBBbGxvd0NyZWF0ZT0idHJ1ZSIgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDpwZXJzaXN0ZW50Ii8+PC9zYW1scDpBdXRoblJlcXVlc3Q+"/>
                <input type="hidden" name="RelayState" value="4qwPF4lqnQJjx9vn52tQ-a8lnidCE-qy6ocuM82qCcE.cS6Wz_30cm0.ZIsiufjsSc--o4hQgyBZRQ"/>

            <noscript>
                <p>JavaScript is disabled. We strongly recommend to enable it. Click the button below to continue. </p>
                <input type="submit" value="Continue"/>
            </noscript>
        </form>
                  </div>
               </div>
            </div>
      </div>

<script type="text/javascript">
   
    </script>
   </body>
</html>

-----------------------------------------------------------
Time: 23-01-2024 03:50:02 PM For RequestMethod: Investorid
InputOutput: [strUniqueId]:- D48225DB-3125-438B-AB59-6580099F1737
-----------------------------------------------------------
Time: 23-01-2024 03:50:02 PM For RequestMethod: InputRequestToSAMLAPI
InputOutput: [InputJsonData]:- {"pan":"BSQPJ1955A","cin":"U67190TN2014PTC055555","entityType":"3","email":"demotest@test.com"}
-----------------------------------------------------------
Time: 23-01-2024 03:50:02 PM For RequestMethod: GetResponseFromSAMLAPI
InputOutput: [ResponseStatusCode]:- OK
-----------------------------------------------------------
Time: 23-01-2024 03:50:02 PM For RequestMethod: GetResponseFromSAMLAPI
InputOutput: [ResponseContent]:- <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv='Cache-Control' content="max-age: 31536000, no-cache, no-store, must-revalidate">
      <meta http-equiv='Pragma' content='no-cache'>
      <meta http-equiv='Expires' content='0'>
      <meta name="robots" content="noindex, nofollow">
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="preconnect" href="https://fonts.gstatic.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Khand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

      <!-- Google Tag Manager -->
      <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-KRBMWNL');</script>
      <!-- End Google Tag Manager -->

      <title class='title'>Sign In to National Single Window System</title>
      <link rel="icon" href="/auth/resources/egfby/login/sws/images/favicon.ico" />
      <link href="/auth/resources/egfby/login/sws/css/login1.css?v=1.05" rel="stylesheet" />
      <link href="/auth/resources/egfby/login/sws/css/global.css?v=1.05" rel="stylesheet" />

     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.8/css/intlTelInput.css" />
     
      <!-- JS -->
      <!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
       <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
       <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.8/js/intlTelInput-jquery.min.js"></script>
      <script type="text/javascript">
          if (top !== window) {
            top.location = window.location;
          }
      </script>
      <script>
         /*function backToLogin() {
            if (origin === 'https://sso-uat-nsws.investindia.gov.in') {
               window.location.href = 'https://uat-nsws.investindia.gov.in/portal/login'
            } else {
               window.location.href = origin + '/portal/login'
            }
         }*/

      </script>
      <script>
        jQuery(function(){
            jQuery('input[type="text"]').on("change", function(){
                this.value = jQuery.trim(this.value);
            });
         });
      </script>
      <script>
         jQuery(document).ready(function(){
               if(jQuery(this).find("span.server-message").length > 0){
                  var text = $(".server-message").html();
                  var match = text.split('<br>');
                  jQuery(".server-message").text(match[0]);
               }
              

         function handleCountryCode() {
            $('#phoneNumber').intlTelInput({
                autoHideDialCode: false,
                autoFocus:"OFF",
                autocomplete:"OFF",
                autoPlaceholder: "OFF",
                dropdownContainer: document.body,
                geoIpLookup: function(callback) {
                    $.get('https://ipinfo.io', function() {}, "jsonp").always(function(resp) {
                        var countryCode = (resp && resp.country) ? resp.country : "";
                        callback(countryCode);
                    });
                },
                formatOnDisplay: false,
                hiddenInput: "full_number",
                initialCountry: $("#countryName").val() || "auto",
                nationalMode: true,
                placeholderNumberType: "MOBILE",
                separateDialCode: true
               }).on("countrychange", function(e, countryData) {

                var getSelectedCountryData = $('.iti__selected-dial-code').intlTelInput("getSelectedCountryData");
                var selectedCountryCode=$("#phoneNumber").intlTelInput("getSelectedCountryData").dialCode;
                var countryData=$("#phoneNumber").intlTelInput("getSelectedCountryData");
                $('#phoneNumber').val('');
                $("#phoneNumberError").hide(); 
                $('#phoneotp-verify').hide();
                
               sessionStorage.setItem('selectedCountryCode',selectedCountryCode); 
              
               if(sessionStorage.getItem('selectedCountryCode') !== "91"){
                  $('#phoneNumber').attr("minlength","4")
                  $('#phoneNumber').attr("maxlength","13")
               }else{
                  $('#phoneNumber').attr("maxlength","10")
               }

               jQuery('#phoneNumber').on('input', function(event) {
                  var s = $('#phoneNumber').val().toString();
                  var mobileNumberValue = s.replace(/[^\d+]/gi, '');
                  $('#phoneNumber').val(mobileNumberValue);
                  sessionStorage.setItem('phone',mobileNumberValue);
                  var removeLeadingZero = mobileNumberValue.toString().replace(/^0+/, '');
                  var pattern = new RegExp("[6789]{1}[0-9]{9}");
                  if(pattern.test(mobileNumberValue) === false && mobileNumberValue.length >= 1 && mobileNumberValue.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91" ){
                        $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();
                  }else if(pattern.test(mobileNumberValue) === false  && mobileNumberValue.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91"){
                        $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();
                  }else if (mobileNumberValue.length === 0 && sessionStorage.getItem('selectedCountryCode') === "91") {
                        $("#phoneNumberError").text("Phone Number can't be empty.");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();   
                  }else if(sessionStorage.getItem('phone-verify-message')){
                        $('#phoneotp-verify').hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') === "91"){
                        $('#phoneotp-verify').show();
                        $("#phoneNumberError").hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length > 4){
                        $("#input-error-phone_number").hide();
                        $("#phoneNumberError").hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length <= 3){
                        $("#phoneNumberError").text("Mobile Number is Invalid");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length >= 3){
                        $("#phoneNumberError").hide();
                  }
               })

                jQuery("#phoneNumber").change(function(){
                  $("#countryName").val(countryData.iso2);
                   var userContact = "+" +selectedCountryCode;
                   if(userContact) {
                        $('#phoneNumberCopy').val(userContact);
                   }
                 });
            });


         };
      handleCountryCode()

      
      $(function(){
				for(var i=0;i<5;i++){
               $('#e-code').append('<input placeholder="OTP" class="input-element input-field otp email-otp-focus" name="e-code1" type="text"  maxLength="1"/>');
            }
      });

      $(function(){
         const inputs = document.querySelectorAll("#e-code input");
         inputs[0].focus();
         inputs.forEach((input, index) => {
         input.dataset.index = index;
         input.addEventListener("paste", handleOnPasteOtp);
         input.addEventListener("keyup", handleOtp);
          });

          function handleOnPasteOtp(e) {
               const data = e.clipboardData.getData("number");
               const value = data.split("");
               if (value.length == inputs.length) {
               inputs.forEach((input, index) => (input.value = value[index]));
               }
            }
            
            function handleOtp(e) {
               const input = e.target;
               let value = input.value;
               let otpValue=[];
               for(var i=0;i<5;i++){
               otpValue.push(document.getElementsByClassName("otp")[i].value);
               var filterotpValue =otpValue.toString().replace(/,/g, "");
                 $("#enteredEmailOtp").val(filterotpValue);
               }

               if(!isNaN(value)){
               input.value = "number";
               input.value = value ? value[0] : "";
               
               let fieldIndex = input.dataset.index;
           
               if (value.length > 0 && fieldIndex < inputs.length - 1) {
               if(value!=" ")
               input.nextElementSibling.focus();
               else{
                  input.value = "";
               }
               }

                if (e.key == "Backspace" && fieldIndex > 0) {
                input.previousElementSibling.focus();
             }
                if (fieldIndex == inputs.length - 1) {
                   submit();
                }
               }
               else{
                  input.value = "";
               }
               }
      });
            $(function(){
				for(var i=0;i<5;i++){
               $('#phone-code').append('<input placeholder="OTP"  class="input-element input-field otp" name="m-code1" type="text"  maxLength="1"/>');
            }
      });

      $(function(){
         const inputs = document.querySelectorAll("#phone-code input");
         inputs[0].focus();
         inputs.forEach((input, index) => {
         input.dataset.index = index;
         input.addEventListener("paste", handleOnPasteOtp);
         input.addEventListener("keyup", handleOtp);
          });

          function handleOnPasteOtp(e) {
               const data = e.clipboardData.getData("number");
               const value = data.split("");
               if (value.length == inputs.length) {
               inputs.forEach((input, index) => (input.value = value[index]));
               }
            }
            
            function handleOtp(e) {
               const input = e.target;
               let value = input.value;
               let otpValue=[];
               for(var i=0;i<5;i++){
               otpValue.push(document.getElementsByClassName("otp")[i].value);
               var filterotpValue =otpValue.toString().replace(/,/g, "");
                 $("#enteredEmailOtp").val(filterotpValue);
               }
               if(!isNaN(value)){
               input.value = "number";
               input.value = value ? value[0] : "";
               
               let fieldIndex = input.dataset.index;
               if (value.length > 0 && fieldIndex < inputs.length - 1) {
                 if(value!=" ")
               input.nextElementSibling.focus();
               else{
                  input.value = "";
               }
               }

                if (e.key == "Backspace" && fieldIndex > 0) {
                input.previousElementSibling.focus();
             }
                if (fieldIndex == inputs.length - 1) {
                   submit();
                }
               }
               else{
                  input.value = "";
               }
               }
      });

      $(function(){
            for(var i=0;i<5;i++){
               $('#m-code').append('<input placeholder="OTP"  class="input-element input-field otp-mobile otp-pan" name="m-code1" type="text"  maxLength="1"/>');
            }
      });
      
      $(function(){
         const inputs = document.querySelectorAll("#m-code input");
         inputs.forEach((input, index) => {
         input.dataset.index = index;
         input.addEventListener("paste", handleOnPasteOtp);
         input.addEventListener("keyup", handleOtp);
          });
          
          function handleOnPasteOtp(e) {
               const data = e.clipboardData.getData("number");
               const value = data.split("");
               if (value.length == inputs.length) {
               inputs.forEach((input, index) => (input.value = value[index]));
               }
            }


            function handleOtp(e) {
               const input = e.target;
               let value = input.value;

               let otpMobileValue=[];
               for(var i=0;i<5;i++){
               otpMobileValue.push(document.getElementsByClassName("otp-mobile")[i].value);
               var filterotpMobileValue =otpMobileValue.toString().replace(/,/g, "");
                 $("#enteredMobileOtp").val(filterotpMobileValue);
               }
               

               if(!isNaN(value)){
               input.value = "number";
               input.value = value ? value[0] : "";
               
               let fieldIndex = input.dataset.index;
               if (value.length > 0 && fieldIndex < inputs.length - 1) {
                  if(value!=" ")
               input.nextElementSibling.focus();
               else{
                  input.value = "";
               }
               }

                if (e.key == "Backspace" && fieldIndex > 0) {
                input.previousElementSibling.focus();
             }
                if (fieldIndex == inputs.length - 1) {
                   submit();
                }
               }
               else{
                  input.value = "";
               }
               }
      });



      $(function(){
         if(sessionStorage.getItem('emailseconds')){
         jQuery('#seconds').text(sessionStorage.getItem('emailseconds'));
            timeLeft=sessionStorage.getItem('emailseconds');
         }else{
         jQuery('#seconds').text(60);
         timeLeft = 60;
         }
         function countdown() {
         if(timeLeft > 0){
	      timeLeft--;
         if(document.getElementById("seconds")){
	      document.getElementById("seconds").innerHTML = String( timeLeft );
         }
         }else{
            $('.email-otp-resend').show();
            $('.resend-email-otp').hide();
            sessionStorage.removeItem('emailseconds');
         }
      };
	      if (timeLeft > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });
      
         $(function(){
         if(sessionStorage.getItem('phoneseconds')){
         jQuery('#phoneseconds').text(sessionStorage.getItem('phoneseconds'));
            timeLeftphone=sessionStorage.getItem('phoneseconds');
         }else{
         jQuery('#phoneseconds').text(60);
         timeLeftphone = 60;
         }
         function countdown() {
         if(timeLeftphone > 0){
	      timeLeftphone--;
            if(document.getElementById("phoneseconds")){
	         document.getElementById("phoneseconds").innerHTML = String( timeLeftphone );
         }
         }else{
            $('.phone-otp-resend').show();
            $('.resend-phone-otp').hide();
            sessionStorage.removeItem("phoneseconds");
         }
      };
	      if (timeLeftphone > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });


      $(function(){
         timeLefts = 60;
         function pancountdowns() {
	      timeLefts--;
	      document.getElementById("panseconds").innerHTML = String( timeLefts );
	      if (timeLefts > 0) {
		      setTimeout(pancountdowns, 1000);
      	   }
      };
            setTimeout(pancountdowns, 1000);
      });
      




               jQuery('#fullName').keypress(function(e) {
                    var regex = new RegExp("^[A-Za-z-.& ,+!@#$%\^*();\/]*$");
                    var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
                    if (regex.test(str)) {
                    	return true;
                    } else {
                    	e.preventDefault();
                    	$("#registerError").text("Please enter alphabets.");
                        $("#registerError").show();
                    	return false;
                    }
               });


               $('#password').on("blur", function(){
                   var password = $('#password').val();
                   var confirmPwd = $('#confirmPassword').val();
                   if(confirmPwd?.length > 0) {
                        if(password != confirmPwd) {
                           $("#confirmPasswordError").text("Please enter same as password");
                           $("#confirmPasswordError").show();
                        }
                   }
               });

               $('#password').on("focus", function(){
                     $('#input-error-password').hide();
               });

                $('#email').on('focus',function(){
                  $('#input-error-email').hide();
                  $('#server-validation-message').hide();
               });

                $('#phoneNumber').on('focus',function(){
                  $('#input-error-phone_number').hide();
               });
               
               
               $('#confirmPassword').on("blur", function(){
                   var password = $('#password').val();
                   var confirmPwd = $('#confirmPassword').val();
                   if(confirmPwd != password) {
                        $("#confirmPasswordError").text("Confirm Password is not matching with Password.");
                        $("#confirmPasswordError").show();
                   }
               });

               jQuery('#fullName').on("blur", function(e){
                 $("#registerError").hide();
                 var fullNameValue = e.target.value;
                 if(fullNameValue.length === 0) {
                    $("#registerError").text("Full Name can't be empty.");
                    $("#registerError").show();
                 } else if(fullNameValue.length < 3) {
                    $("#registerError").text("Full Name should be minimum 3 characters");
                    $("#registerError").show();
                 } else if (fullNameValue.length > 2) {
                    $("#registerError").hide();
                 }
               });

               jQuery('#userName').on("blur", function(e){
                 $("#userNameError").hide();
                 var userNameValue = e.target.value;
                 if(userNameValue.length === 0) {
                    $("#userNameError").text("Username can't be empty.");
                    $("#userNameError").show();
                 } else if(userNameValue.length < 3) {
                    $("#userNameError").text("Username should be minimum 3 characters");
                    $("#userNameError").show();
                 } else if (userNameValue.length > 2) {
                    $("#userNameError").hide();
                 }
               });
                
                  let phonecode=$("#phoneNumber").val();
                  sessionStorage.setItem('phone-code',phonecode); 
                  
                  $('#email').keypress(function( e ) {
                     if(e.which === 32) 
                        return false;
                  });


               jQuery('#phoneNumber').keyup( function(e) {
                     var phoneinputvalue = (e.target.value).toLowerCase();
                     sessionStorage.setItem('phone',phoneinputvalue);
                     $('#phoneNumber').val(phoneinputvalue);
                     var mobileNumberValue = (e.target.value);
                     var removeLeadingZero = mobileNumberValue.toString().replace(/^0+/, '');
                     $('#phoneNumber').val(removeLeadingZero);
                     var pattern = new RegExp("[6789]{1}[0-9]{9}");
                     if (mobileNumberValue.length >= 1 && mobileNumberValue.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
                              $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();
                     }else if (!(pattern.test(mobileNumberValue)) && mobileNumberValue.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
                              $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();
                     } else if (mobileNumberValue.length === 0 && sessionStorage.getItem('selectedCountryCode') === "91") {
                              $("#phoneNumberError").text("Phone Number can't be empty.");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();        
                     }else if(sessionStorage.getItem('phone-verify-message')){
                              $('#phoneotp-verify').hide();
                     }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length > 4){
                              $("#input-error-phone_number").hide();
                              $("#phoneNumberError").hide();
                     }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length <= 3){
                              $("#phoneNumberError").text("Mobile Number is Invalid");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();                     
                     }else if(sessionStorage.getItem('selectedCountryCode') === "91"){
                              $('#phoneotp-verify').show();
                              $("#phoneNumberError").hide(); 
                     }else{
                              $("#phoneNumberError").hide(); 
                     }
               });

               jQuery(document).ready(function($){
                  $("#phoneNumber").on("paste",function(){
                     $('#phoneotp-verify').hide();
                     var mobileNumberValue=$(this);
                     setTimeout(function(){
                     var pattern = new RegExp("[6789]{1}[0-9]{9}");
                     if (pattern.test(mobileNumberValue) === false) {
                                 $('#phoneotp-verify').hide();
                     }else if (mobileNumberValue.length === 0) {
                              $("#phoneNumberError").text("Phone Number can't be empty.");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();        
                     }else if(sessionStorage.getItem('phone-verify-message')){
                              $('#phoneotp-verify').hide();
                     }else if(sessionStorage.getItem('selectedCountryCode') === "91"){
                              $('#phoneotp-verify').show();
                     }
                     },1);

                  });
                  
               });



               if(sessionStorage.getItem('selectedCountryCode') === "91"){
                  $('#phoneNumber').attr("maxlength","10")
               }else{
                  $('#phoneNumber').attr("maxlength","13")
               }

               
             jQuery('#phoneNumber').keypress(function(e){
                   var mobileNumberValue = e.target.value;
                   if(e.which != 8 && e.which != 0 && e.which < 48 || e.which > 57) {
                        e.preventDefault();
                   }
               });             

               jQuery('#email').on("blur", function(e){
                     $("#emailError").hide();
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $("#emailError").text("Email can't be empty.");
                        $("#emailError").show();
                        $('#emailotp-verify').hide();
                        $('.email-verfiy-img').hide();
                     } else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,10})+$/.test(emailValue))) {
                        $("#emailError").text("Please enter valid email id");
                        $("#emailError").show();
                        $('.email-verfiy-img').hide();
                        $('#emailotp-verify').hide();
                     }else if(sessionStorage.getItem('email-verify-message')){
                        $('#emailotp-verify').hide();
                     }
                     else{
                        $('#emailotp-verify').show();
                     }
               });

               jQuery('.forgot-email-address').on("blur", function(e){
                     $("#emailError").hide();
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $("#emailError").text("Email can't be empty.");
                        $("#emailError").show();
                     } else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(emailValue))) {
                        $("#emailError").text("Please enter valid email id");
                        $("#emailError").show();
                     }
               });

               jQuery('.forgot-email-address').on("keyup", function(e){
                     $("#emailError").hide();
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $("#emailError").text("Email can't be empty.");
                        $("#emailError").show();
                     } else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(emailValue))) {
                        $("#emailError").text("Please enter valid email id");
                        $("#emailError").show();
                     }
               });



                     jQuery('#email').on("keyup", function(e){
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $('#emailotp-verify').hide();
                     }else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,10})+$/.test(emailValue))) {
                        $('#emailotp-verify').hide();
                     }
                     else {
                        sessionStorage.setItem('email',emailValue);  
                        $('#email').val(emailValue);
                        $('#emailotp-verify').show();
                        $('.email-verfiy-img').hide();
                     }
               });

               jQuery('#password').on("blur", function(e) {
                     $("#passwordError").hide();
                     var passwordValue = e.target.value;
                     if(passwordValue.length === 0) {
                        $("#passwordError").text("Password can't be empty.");
                        $("#passwordError").show();
                     } else if (!(/^(?:(?=.*\d)(?=.*[a-z])(?=.*[A-Z])).{6,20}$/.test(passwordValue))) {
                        $("#passwordError").text("Password must include at least one uppercase letter, lowercase letter, number, special character and should be between 6-20 characters.");
                        $("#passwordError").show();
                     }
               });

                
               jQuery('#confirmPassword').on("blur", function(e) {
                     $("#confirmPasswordError").hide();
                     var confirmPwdValue = e.target.value;
                     if(confirmPwdValue.length === 0) {
                        $("#confirmPasswordError").text("Confirm Password can't be empty.");
                        $("#confirmPasswordError").show();
                     } else if (!(/^(?:(?=.*\d)(?=.*[a-z])(?=.*[A-Z])).{6,20}$/.test(confirmPwdValue))) {
                        $("#confirmPasswordError").text("Password must include at least one uppercase letter, lowercase letter, number, special character and should be between 6-20 characters.");
                        $("#confirmPasswordError").show();
                     }
               });

               jQuery('#fullName, #userName, #email, #password').keyup(function(e) {
                   $(this).closest('.nsws-input-field').children('.floating-label+span').hide();
               });

               jQuery('#phoneNumber').keyup(function(e) {
                   $(this).closest('.nsws-input-field').children('.floating-label+span').hide();
                   $(this).closest('.nsws-input-field').children('.floating-label+#input-error-phone_number').hide();
               });

               jQuery('#agreementCheck').change(function() {
                  var checkState = $('#agreementCheck').prop("checked");
                  $('#registerBtn').prop("disabled", !$("#agreementCheck").prop("checked"));
               });


               $('.pwd-hide-icon-login').hide();
               jQuery('.pwd-view-icon-login, .pwd-hide-icon-login').click(function() {
                  if('password' == $('#password').attr('type')){
                     $('#password').prop('type', 'text');
                     $('.pwd-hide-icon-login').show();
                     $('.pwd-view-icon-login').hide();
                  } else {
                     $('#password').prop('type', 'password');
                     $('.pwd-view-icon-login').show();
                     $('.pwd-hide-icon-login').hide();
                  }
               });
                              
               $('.pwd-hide-icon').hide();
               jQuery('.pwd-view-icon, .pwd-hide-icon').click(function() {
                  if('password' == $('#password').attr('type')){
                     $('#password').prop('type', 'text');
                     $('.pwd-hide-icon').show();
                     $('.pwd-view-icon').hide();
                  } else {
                     $('#password').prop('type', 'password');
                     $('.pwd-view-icon').show();
                     $('.pwd-hide-icon').hide();
                  }
               });

               $('.cnf-pwd-hide-icon').hide();
               jQuery('.cnf-pwd-view-icon, .cnf-pwd-hide-icon').click(function() {
                  if('password' == $('#confirmPassword').attr('type')){
                     $('#confirmPassword').prop('type', 'text');
                     $('.cnf-pwd-hide-icon').show();
                     $('.cnf-pwd-view-icon').hide();
                  } else {
                     $('#confirmPassword').prop('type', 'password');
                     $('.cnf-pwd-view-icon').show();
                     $('.cnf-pwd-hide-icon').hide();
                  }
               });
                     
               $('.pwd-hide-icon.update-pwd').hide();
               jQuery('.pwd-view-icon.update-pwd, .pwd-hide-icon.update-pwd').click(function() {
                  if('password' == $('#password-new').attr('type')){
                     $('#password-new').prop('type', 'text');
                     $('.pwd-hide-icon.update-pwd').show();
                     $('.pwd-view-icon.update-pwd').hide();
                  } else {
                     $('#password-new').prop('type', 'password');
                     $('.pwd-view-icon.update-pwd').show();
                     $('.pwd-hide-icon.update-pwd').hide();
                  }
               });

                    $('.cnf-pwd-hide-icon.update-cnf').hide();
               jQuery('.cnf-pwd-view-icon.update-cnf, .cnf-pwd-hide-icon.update-cnf').click(function() {
                  if('password' == $('#password-confirm').attr('type')){
                     $('#password-confirm').prop('type', 'text');
                     $('.cnf-pwd-hide-icon.update-cnf').show();
                     $('.cnf-pwd-view-icon.update-cnf').hide();
                  } else {
                     $('#password-confirm').prop('type', 'password');
                     $('.cnf-pwd-view-icon.update-cnf').show();
                     $('.cnf-pwd-hide-icon.update-cnf').hide();
                  }
               });

               jQuery('.pan-btn').click(function(){
               $('#username').remove();
               $('#password').remove();
               $("#passwordError").hide();
               });

               jQuery('#userPanNumber').change(function(e){
                     $("#userPanError").hide();
                     var panValue = (e.target.value);
                     if(panValue.length === 0) {
                        $("#userPanError").text("Pan Number Can't Be Empty");
                         $('.signin-pan-btn').prop('disabled', true);
                        $("#userPanError").show();
                     } else if (!(/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/.test(panValue))) {
                        $("#userPanError").text("Entered PAN is invalid");
                         $('.signin-pan-btn').prop('disabled', true);
                        $("#userPanError").show();
                     } else if(panValue.length===10){
                        $('.signin-pan-btn').prop('disabled', false);
                        $("#userPanError").hide();
                     }
               });


               $('#phoneNumber').on('input', function(event) {
                  var s = $('#phoneNumber').val().toString();
                  var x = s.replace(/[^\d+]/gi, '');
                  $('#phoneNumber').val(x);
               })

             $('#otp-action').hide();
               setTimeout(function(){
                  $('#otp-action').show();
                  $('.resend-pan-otp').hide();
               },60000);

               if($('.otp-verify-phone').text().slice(1,3)==="91"){ 
                        $("#m-code").show();
                        $('.email-otp-notification').text('We have sent you an verification code in your Email and Mobile number you need to enter code to verify');
                     } else {
                        $("#m-code").hide();
                        $('.email-otp-notification').text('We ve sent you an verification code on your email you need to enter code to verify.');
                     }  
               var errortext=$('.server-message ').text().trim();
               if(errortext === 'You should receive an email shortly with further instructions.'){
                     $('.server-message').text('You should receive an email shortly with instructions on resetting your password.');
                     $('.error-icon-user-timeout').hide();
               }
               if(errortext === 'Cannot update with the previous password.'){
                     $(".server-message").attr("id","loginErrorMessage");
                     $('.error-icon').hide();
               }
               if(errortext === 'Action expired. Please continue with login now.'){
                     $(".server-message").attr("id","loginErrorMessage");
                     $('.error-icon').hide();
               } 
               if(errortext === 'Your login attempt timed out.Please relogin.'){
                  $(".server-message").attr("id","loginErrorMessage");
                  $('.error-icon').hide();
               }
               if(errortext === 'You need to change your password.'){
                  $(".server-message").attr("id","loginErrorMessage");
                  $('.error-icon').hide();
               } 
               if(errortext === 'Two different roles are assigned to this user. Please check.'){
                  $(".server-message").attr("id","loginErrorMessage");
                  $('.error-icon').hide();
               } 

            var errortextsignup=$('#server-validation-message').text().trim();
            if(errortextsignup === 'Action expired. Please continue with login now.'){
               $('.server-message').hide();
               $('.error-icon').hide();
               $('.error-icon-user-timeout').hide();
            }
               
            const url = new URLSearchParams(window.location.search);
            const keys = Object.fromEntries(url.entries());   
            if(keys.client_id === 'ministry-portal-prod'){
                  $('.signup-text-btn').hide(); 
            }else if(keys.client_id === 'ministry-portal-ppe-stage'){
                  $('.signup-text-btn').hide(); 
            }else if(keys.client_id === 'ministry-portal-uat'){
                  $('.signup-text-btn').hide(); 
            }

                     const testimonialUrl = (origin) => {
                           switch (origin) {
                               case "https://sso-uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in/testimonial`;
                              case "https://uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in/testimonial`;
                              case "https://qa-nsws.investindia.gov.in":
                                 return `https://qa-nsws.investindia.gov.in/testimonial`;
                              case "https://dev-nsws.investindia.gov.in":
                                 return `https://dev-nsws.investindia.gov.in/testimonial`;
                              case "https://mpf-nsws.investindia.gov.in":
                                 return `https://mpf-nsws.investindia.gov.in/testimonial`;
                              case "https://www.ppe.nsws.gov.in":
                                 return `https://www.ppe.nsws.gov.in/testimonial`;
                              case "https://www.demo.nsws.gov.in":
                                 return `https://www.demo.nsws.gov.in/testimonial`;
                              case "https://www.nsws.gov.in":
                                 return `https://www.nsws.gov.in/testimonial`;
                              default:
                                 return `https://qa-nsws.investindia.gov.in/testimonial`;
                           }
                     };

                     const testimonialUrlImage = (origin) => {
                           switch (origin) {
                               case "https://sso-uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in`;
                              case "https://uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in`;
                              case "https://qa-nsws.investindia.gov.in":
                                 return `https://qa-nsws.investindia.gov.in`;
                              case "https://dev-nsws.investindia.gov.in":
                                 return `https://dev-nsws.investindia.gov.in`;
                              case "https://mpf-nsws.investindia.gov.in":
                                 return `https://mpf-nsws.investindia.gov.in`;
                              case "https://www.ppe.nsws.gov.in":
                                 return `https://www.ppe.nsws.gov.in`;
                              case "https://www.demo.nsws.gov.in":
                                 return `https://www.demo.nsws.gov.in`;
                              case "https://www.nsws.gov.in":
                                 return `https://www.nsws.gov.in`;
                              default:
                                 return `https://qa-nsws.investindia.gov.in`;
                           }
                     };
                        
                     $.get(testimonialUrl(origin), function( data ) {
                          var html="";
                          for(var i=0; i<data.length; i++)
                           {        
                                     if(i==0){

                                        html+= ' <div class="carousel-item active" data-bs-interval="5000"> '  + 
                                     

                                   ' <div class="d-block w-100">'
                                        +
                                       '<div class="nsws-testimonial-block">'
                                         + 
                                          '<div class="nsws-testimonial-img">'
                                          + 
                                          '<img class="director-image"  src= '+testimonialUrlImage(origin) +data[i].image +' alt="" />'
                                          +
                                        '  </div>'
                                          + 
                                         ' <div class="nsws-testimonial-content">'
                                          + 
                                          '<span class="right-description">'+data[i].quote +'</span>'
                                          +
                                          '<span class="right-1st-description">' +data[i].name+'</span>' 
                                          +
                                          '<span class="right-2nd-description">'+data[i].designation + '</span>'
                                        + 
                                        ' </div>'
                                        + 
                                        ' </div>'
                                        + 
                                        ' </div>'
                                        + 
                                        '</div>'
                                         }
                                         else{
                                          html+= ' <div class="carousel-item" data-bs-interval="5000"> '  + 
                                     

                                     ' <div class="d-block w-100">'
                                          + 
                                         '<div class="nsws-testimonial-block">'
                                           + 
                                            '<div class="nsws-testimonial-img">'
                                            + 
                                            '<img class="director-image" src= '+testimonialUrlImage(origin) +data[i].image +' alt="" />'
                                            +
                                          '  </div>'
                                            + 
                                           ' <div class="nsws-testimonial-content">'
                                            + 
                                            '<span class="right-description">'+data[i].quote +'</span>'
                                            +
                                            '<span class="right-1st-description">' +data[i].name+'</span>' 
                                            +
                                            '<span class="right-2nd-description">'+data[i].designation + '</span>'
                                          + 
                                          ' </div>'
                                          + 
                                          ' </div>'
                                          + 
                                          ' </div>'
                                          + 
                                          '</div>'
                                         }
                                       }
                                       $( ".carousel-inner" ).html(html);
                                    });
                                       

               jQuery("#email").focusout(function(){
                 var userEmail = $('#email').val().toString().toLowerCase();
                 $("#userName").val(userEmail);
               });
            if(origin === 'https://sso-uat-nsws.investindia.gov.in') {
               $("#backToLoginRedirection").attr("href", "https://uat-nsws.investindia.gov.in/portal/login");
            } else {
               $("#backToLoginRedirection").attr("href", "/portal/login")
            }
            jQuery("#password").focusout(function(){
                 var enteredPassword = $('#password').val();
                 $("#confirmPassword").val(enteredPassword);
               });

               $("#backToLoginPanFlow").attr("href", testimonialUrlImage(origin)+ "/portal/login");   
            

             var browserName = (function(agent) {
                  switch (true) {
                     case agent.indexOf("edge") > -1:
                        return "MS Edge";
                     case agent.indexOf("edg/") > -1:
                        return "Edge ( chromium based)";
                     case agent.indexOf("opr") > -1 && !!window.opr:
                        return "Opera";
                     case agent.indexOf("chrome") > -1 && !!window.chrome:
                        return "Chrome";
                     case agent.indexOf("trident") > -1:
                        return "MS IE";
                     case agent.indexOf("firefox") > -1:
                        return "Mozilla Firefox";
                     case agent.indexOf("safari") > -1:
                        return "Safari";
                     default:
                        return "other";
                  }
               })(window.navigator.userAgent.toLowerCase());

               if (browserName === 'Edge ( chromium based)') {
                  $('#username').attr('autocomplete', 'new-email');
                  $('#password').attr('autocomplete', 'new-password');
               }
               else {
                  $('#username').attr('autocomplete', 'off');
                  $('#password').attr('autocomplete', 'off');
               }
               
               var title =$('.title').text();
               var signuptitle=$('.signup-title').text();
               var forgotpasswordtitle=$('.forgotpassword-title').text();
               if(title === 'Sign In to madhyam'){
                  $('.title').text('Sign In to National Single Window System');
               } 
               if(signuptitle === 'Sign Up'){
                  $('.title').text('Sign Up to National Single Window System');
               }
               if(forgotpasswordtitle === 'Forgot Password?'){
                  $('.title').text('Forgot Password | National Single Window System');
               }



 
      $('#email-otp-action').hide();
      let validationmessage = $('#server-validation-message').text().trim();
      let emailvalidationmessage = $('#input-error-email-otp').text().trim();
      if (validationmessage === 'E_OTP_SEND' || emailvalidationmessage === 'Entered Email OTP is wrong, Please Enter Valid OTP Again.') {
         setTimeout(function() {
            $('#email-otp-action').show();
            $('.resend-email-otp').hide();
            $('.email-otp-verify').hide();
            $('.email-otp-resend').show();
            if(validationmessage === "Edit-email"){
            $('.email-otp-verify').show();
            $('#emailotp-editemail').hide(); 
            }else {
            $('#emailotp-editemail').show();
            }
                  $(function(){
         if(sessionStorage.getItem('emailseconds')){
         jQuery('#seconds').text(sessionStorage.getItem('emailseconds'));
            timeLeft=sessionStorage.getItem('emailseconds');
         }else{
         jQuery('#seconds').text(63);
         timeLeft = 63;
         }
         function countdown() {
	      timeLeft--;
         if(document.getElementById("seconds")){
	      document.getElementById("seconds").innerHTML = String( timeLeft );
         }
      };
	      if (timeLeft > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });
            if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
            }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }

            $('.email-otp-resend-text-btn').click(function() {
                  $('.input-otp-email-verify').slideDown();
                  $('.input-otp-email-verify').show();
                  $('#email').hide();
                  $('.register-btn').hide();
                  $('#phonenumber-field').hide();
                  $('#setpassword-field').hide();
                  $('.signupformclear').hide();
                  sessionStorage.removeItem("emailseconds");
                  $(this).hide();
                  $('#server-validation-message').hide();
                  $('#input-error-password').hide();
                  $('#email-otp').html(emailfieldvalue);
            })

         }, 60000);
      }



      let emailerrormessage = $('#input-error-email').text().trim();
      let validationmessagephone = $('#server-validation-message-phone').text().trim();

      if (validationmessage === 'E_OTP_SEND') {
         $('.input-otp-email-verify').slideUp();
         $('.input-otp-email-verify').show();
         $('#email').hide();
         $('.register-btn').hide();
         $('#phonenumber-field').hide();
         $('#setpassword-field').hide();
         $(this).hide();
         $('#emailotp-editemail').show();
         $('#server-validation-message').hide();
         $('#input-error-password').hide();
         $('.signupformclear').hide();
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         $('.registerbtn-container').hide();
         sessionStorage.removeItem("emailseconds");
         let emailfieldvalue = $('#email').val();
         $('#email-otp').html(emailfieldvalue);
         if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
            $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }
         let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         let mobileNumber =$('#phoneNumber').val();
         if(phonevalidationmessage === 'p-verified') {
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') === 'p-verified' && sessionStorage.getItem('selectedCountryCode') !== "91"){
               $('#phoneotp-verify').hide();
         }else if(mobileNumber.length >= 1 && mobileNumber.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(!(pattern.test(mobileNumber)) && mobileNumber.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') !== 'p-verified' && sessionStorage.getItem('selectedCountryCode') === "91" && mobileNumber){
               $('#phoneotp-verify').show();
         }

      }else if (emailerrormessage === 'Your Email is not verified. Please verify your email.'&& sessionStorage.getItem('email')){
         $('#emailotp-verify').show();
          $('.server-message').hide();
      }else if (emailvalidationmessage === 'Entered Email OTP is wrong, Please Enter Valid OTP Again.') {
         $('.input-otp-email-verify').slideUp();
         $('.input-otp-email-verify').show();
         $('#email').hide();
         $('.register-btn').hide();
         $('#phonenumber-field').hide();
         $('#setpassword-field').hide();
         $(this).hide();
         $('#emailotp-editemail').show();
         $('#server-validation-message').hide();
         $('.signupformclear').hide();
         $('.registerbtn-container').hide();
         let emailfieldvalue = $('#email').val();
         $('#email-otp').html(emailfieldvalue);
         $('#server-validation-message-verified').hide();
         $('#input-error-password').hide();
         if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }

      } else if (emailvalidationmessage == 'e-verified') {
         $('#server-validation-message-verified').hide();
         $('#input-error-password').hide();
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         $('.registerbtn-container').show();
         let emailverifymessage = $('#server-validation-message-verified').text().trim();  
         sessionStorage.setItem('email-verify-message',emailverifymessage);
         if(sessionStorage.getItem('phone') && sessionStorage.getItem('phone').length > 2  ) {
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }else if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }
         
         let emailfieldvalue = $('#email').val();
         sessionStorage.setItem('email',emailfieldvalue);
         let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         let mobileNumber =$('#phoneNumber').val();
         if(phonevalidationmessage === 'p-verified') {
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') === 'p-verified' && sessionStorage.getItem('selectedCountryCode') !== "91"){
               $('#phoneotp-verify').hide();
         }else if(mobileNumber.length >= 1 && mobileNumber.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(!(pattern.test(mobileNumber)) && mobileNumber.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') !== 'p-verified' && sessionStorage.getItem('selectedCountryCode') === "91" && mobileNumber){
               $('#phoneotp-verify').show();
         }
      } else if (emailerrormessage === 'Email already exists.') {
         $('#input-error-password').hide();
      }

      $('#emailotp-editemail').click(function() {
         validationmessage = "Edit-email";
         $('.input-otp-email-verify').slideDown();
         $('.input-otp-email-verify').hide();
         $('#email').show();
         $('#phonenumber-field').show();
         $('#setpassword-field').show();
         $('.register-btn').show();
         $('.signupformclear').show();
         $(this).hide();
         $('#emailotp-verify').show();
         $('#server-validation-message-verified-phone').hide();
         $('#input-error-password').hide();
         $('.registerbtn-container').show();
         sessionStorage.removeItem("emailseconds");
         if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }
         let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         let mobileNumber =$('#phoneNumber').val();
         if(phonevalidationmessage === 'p-verified') {
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') === 'p-verified' && sessionStorage.getItem('selectedCountryCode') !== "91"){
               $('#phoneotp-verify').hide();
         }else if(mobileNumber.length >= 1 && mobileNumber.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(!(pattern.test(mobileNumber)) && mobileNumber.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') !== 'p-verified' && sessionStorage.getItem('selectedCountryCode') === "91" && mobileNumber){
               $('#phoneotp-verify').show();
         }
      })

      $('#phone-otp-action').hide();
      let phoneerroemessage=$('#input-error-phone_number').text().trim();
      let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
      if (validationmessagephone === 'OTP send' || phonevalidationmessage === 'Entered Mobile OTP is wrong, Please Enter Valid OTP Again.') {
         setTimeout(function() {
            $('#phone-otp-action').show();
            $('.resend-phone-otp').hide();
            $('.phone-otp-verify').hide();
            $('.phone-otp-resend').show();
            if(validationmessagephone === "Edit-phone"){
            $('.phone-otp-verify').show();
            $('#phoneotp-editphone').hide();
            }else {
            $('#phoneotp-editphone').show();
            }
         $(function(){
         if(sessionStorage.getItem('phoneseconds')){
         jQuery('#phoneseconds').text(sessionStorage.getItem('phoneseconds'));
            timeLeftphone=sessionStorage.getItem('phoneseconds');
         }else{
         jQuery('#phoneseconds').text(63);
         timeLeftphone = 63;
         }
         function countdown() {
	      timeLeftphone--;

         if(document.getElementById("phoneseconds")){
	      document.getElementById("phoneseconds").innerHTML = String( timeLeftphone );
         }
      };
	      if (timeLeftphone > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });
            $('.phone-otp-resend-text-btn').click(function() {
                  $('.input-otp-phone-verify').slideDown();
                  $('.input-otp-phone-verify').show();
                  $('#phoneNumber').hide();
                  $('.register-btn').hide();
                  $('.signupformclear').hide();
                  $('#phonenumber-field').hide();
                  $('#setpassword-field').hide();
                  sessionStorage.removeItem("phoneseconds");
                  $(this).hide();
                  $('#server-validation-message').hide();
                  $('#input-error-password').hide();
            })
         }, 60000);
      }

      if (validationmessagephone === 'OTP send') {    
         $('.input-otp-phone-verify').slideUp();
         $('.input-otp-phone-verify').show();
         $('#phoneNumber').hide();
         $('.register-btn').hide();
         $('#setpassword-field').hide();
         $(this).hide();
         $('#phoneotp-editphone').show();
         $('#server-validation-message').hide();
         $('#server-validation-message-phone').hide();
         $('#input-error-password').hide();
         $('.signupformclear').hide();
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         $('#email').val(sessionStorage.getItem('email')); 
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         $('.iti__flag-container').hide();

         if(emailvalidationmessage === 'e-verified') {
              $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') === 'e-verified' && sessionStorage.getItem('email')){
             $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') != 'e-verified' && sessionStorage.getItem('email') ){
             $('#emailotp-verify').show();  
         }

      }else if(sessionStorage.getItem('phone') && phoneerroemessage === 'Your Phone number is not verified. Please verify your Phone number.'){
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         
         var mobileNumberValue = $('#phoneNumber').val();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         if(!pattern.test(mobileNumberValue) && mobileNumberValue.length >= 1 && mobileNumberValue.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91" && phoneerroemessage === 'Your Phone number is not verified. Please verify your Phone number.'){
            $("#input-error-phone_number").text("Mobile Number should be of exact 10 digits");
            $("#input-error-phone_number").show();
            $('#phoneotp-verify').hide();
         }else if (!(pattern.test(mobileNumberValue)) && mobileNumberValue.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91" &&  phoneerroemessage === 'Your Phone number is not verified. Please verify your Phone number.') {
            $("#input-error-phone_number").text("Mobile Number should start from 6,7,8, and 9 Only");
            $("#input-error-phone_number").show();
            $('#phoneotp-verify').hide();
         }else{
            $('#phoneotp-verify').show();
         }
      }
       else if (phonevalidationmessage === 'Entered Mobile OTP is wrong, Please Enter Valid OTP Again.') {
         $('.input-otp-phone-verify').slideUp();
         $('.input-otp-phone-verify').show();
         $('#phoneNumber').hide();
         $('.register-btn').hide();
         $('#setpassword-field').hide();
         $('.signupformclear').hide();
         $(this).hide();
         $('#phoneotp-editphone').show();
         $('#server-validation-message-phone').hide();
         $('#server-validation-message-verified-phone').hide();
         $('#input-error-password').hide();
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         $('#email').val(sessionStorage.getItem('email'));
         $('.iti__flag-container').hide();
         
         if(sessionStorage.getItem('email-verify-message') != 'e-verified' && sessionStorage.getItem('email') ){
             $('#emailotp-verify').show();  
         }


      } else if (phonevalidationmessage === 'p-verified') {
         $('#server-validation-message-verified-phone').hide();
         $('#email').val(sessionStorage.getItem('email'));
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         let phoneverifymessage = $('#server-validation-message-verified-phone').text().trim();  
         sessionStorage.setItem('phone-verify-message',phoneverifymessage);
         if(emailvalidationmessage === 'e-verified') {
              $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') === 'e-verified' && sessionStorage.getItem('email')){
             $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') != 'e-verified' && sessionStorage.getItem('email') ){
             $('#emailotp-verify').show();  
         }

      }

      var selectedCountryCode=$("#phoneNumber").intlTelInput("getSelectedCountryData").dialCode;
      $('#phoneotp-editphone').click(function() {
         validationmessagephone = "Edit-phone";
         $('.input-otp-phone-verify').slideDown();
         $('.input-otp-phone-verify').hide();
         $('#phoneNumber').show();
         $('#setpassword-field').show();
         $('.register-btn').show();
         $(this).hide();
         $('.signupformclear').show();
         $('#phoneotp-verify').show();
         $('.iti__flag-container').show();
         $('#email').val(sessionStorage.getItem('email'));
         sessionStorage.removeItem("phoneseconds");
         if(sessionStorage.getItem('phone')){
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }else{
         $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }
      })
                


        if(sessionStorage.getItem('email-verify-message')){
            $('#server-validation-message-verified').val(sessionStorage.getItem('email-verify-message'));
            $('#email').val(sessionStorage.getItem('email'));
            $("#email").prop('readonly',true);
            $('.email-verfiy-img').show();
         }
         else{
            $("#email").prop('readonly',false);
         }

         if(sessionStorage.getItem('phone-verify-message')){
             $('#server-validation-message-verified-phone').val(sessionStorage.getItem('phone-verify-message'));
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
             $('.phone-verfiy-img').show();
             $('#phoneNumber').prop('readonly', true);
         }else{
             $('#phoneNumber').prop('readonly', false);
         }

       $('.resetform').click(function(){
          sessionStorage.clear();
          location.reload();
       }) 
      
      $('.signup-text-btn').click(function(){
          sessionStorage.clear();
          location.reload();
       }) 
     

       var signuptitle = $('.signup-title').text();
       if(signuptitle === 'Sign Up'){
          $('.error-icon-user-timeout').hide();
          $('.error-icon').hide();
          $('.server-message').hide();
       } 

         });  

         var videobg = document.getElementById("video-speed");
         videobg.playbackRate = 0.5;      


      </script>
   </head>
   
   <body>
      <!-- Google Tag Manager (noscript) -->
      <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KRBMWNL"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
      <!-- End Google Tag Manager (noscript) -->
      <div class="access-management">
         <div class="access-container-content">
            <div class="background-flag">
               <video id="video-speed" loop muted autoPlay width="100%">
                 <source src="/auth/resources/egfby/login/sws/video/flag2.mp4" type="video/mp4"/>
               </video>
             </div>
             <div class="nsws-inner-container">
            <a href="/" class="logo-link">
               <img class="nsws-logo" src="/auth/resources/egfby/login/sws/images/nswslogo.png" alt="logo" width="150" height="40">
            </a>
            <div class="inner-content">
               <header class="">
                  <!-- <h1 id="kc-page-title" class="signin-title">        Authentication Redirect
</h1> -->
               </header>
               <div id="kc-content">
                  <div id="kc-content-wrapper">
        <script>window.onload = function() {document.forms[0].submit()};</script>
        <p>Redirecting, please wait.</p>
        <form name="saml-post-binding" method="post" action="https://ssoinvestodisha.odisha.gov.in/realms/goswift-dev/protocol/saml">
                <input type="hidden" name="SAMLRequest" value="PHNhbWxwOkF1dGhuUmVxdWVzdCB4bWxuczpzYW1scD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOnByb3RvY29sIiB4bWxucz0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgeG1sbnM6c2FtbD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgQXNzZXJ0aW9uQ29uc3VtZXJTZXJ2aWNlVVJMPSJodHRwczovL2Rldi1uc3dzLmludmVzdGluZGlhLmdvdi5pbi9hdXRoL3JlYWxtcy9tYWRoeWFtL2Jyb2tlci9vZGlzaGEvZW5kcG9pbnQiIEF0dHJpYnV0ZUNvbnN1bWluZ1NlcnZpY2VJbmRleD0iMCIgRGVzdGluYXRpb249Imh0dHBzOi8vc3NvaW52ZXN0b2Rpc2hhLm9kaXNoYS5nb3YuaW4vcmVhbG1zL2dvc3dpZnQtZGV2L3Byb3RvY29sL3NhbWwiIEZvcmNlQXV0aG49ImZhbHNlIiBJRD0iSURfNWUxZWUyZDQtY2I4Ni00YTQ2LWFkMGYtMDkxMmFjYTFiMDI4IiBJc3N1ZUluc3RhbnQ9IjIwMjQtMDEtMjNUMTA6MjA6MDIuNTgyWiIgUHJvdG9jb2xCaW5kaW5nPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YmluZGluZ3M6SFRUUC1QT1NUIiBWZXJzaW9uPSIyLjAiPjxzYW1sOklzc3Vlcj5odHRwczovL2Rldi1uc3dzLmludmVzdGluZGlhLmdvdi5pbi9hdXRoL3JlYWxtcy9tYWRoeWFtPC9zYW1sOklzc3Vlcj48ZHNpZzpTaWduYXR1cmUgeG1sbnM6ZHNpZz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI+PGRzaWc6U2lnbmVkSW5mbz48ZHNpZzpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8+PGRzaWc6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkc2lnOlJlZmVyZW5jZSBVUkk9IiNJRF81ZTFlZTJkNC1jYjg2LTRhNDYtYWQwZi0wOTEyYWNhMWIwMjgiPjxkc2lnOlRyYW5zZm9ybXM+PGRzaWc6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz48ZHNpZzpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzEwL3htbC1leGMtYzE0biMiLz48L2RzaWc6VHJhbnNmb3Jtcz48ZHNpZzpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHNpZzpEaWdlc3RWYWx1ZT45b0dQQUNKY01FaU93cTRRWG1GbWpmZU1KNURiWmFnUnpvR3dianBuS2ZNPTwvZHNpZzpEaWdlc3RWYWx1ZT48L2RzaWc6UmVmZXJlbmNlPjwvZHNpZzpTaWduZWRJbmZvPjxkc2lnOlNpZ25hdHVyZVZhbHVlPnRoNG5OUnhkRXh6cHIrc2kwejJZWTN4VEpGUHc4QmdlQUQwdStDYnNkSHpiU0s3MTkvZE9FcGVlZlJ1THl0RHBTQWg0QXpYQ0ZEdTVFVWpsMEZDYThsMExIN0Z1ZmFWODg5Y0drSXh0d0tnL3d4QVRtWFFmQ3lxWU1ZOUhMeURWcXNOaGtvQitGbzJqeVM4Y2xZZnlzZFNZK2RqRFJLUkFhTHBnZCtBMkdiSHk2ZUNFWFAwRW5SWlZRZUUwSHZNWFQ1Y2NqOGMwU3dQZVh3SkNVY3IxK256NENaYU82ci9sV212S0t2Um04Tk1tWXB3YTBRWWd4QUNNQUQ2UzVwZ1REbmNqK1M3cTJJWTBsU0JaNUN2a1hCSW1JR2hwa29rdEpQYWwvbUI2N3J5RktRcXlxWXRkazhwTlAxLzZrUGg5eHZoZncyZGN2cVp6ckJSdkJQbkthQT09PC9kc2lnOlNpZ25hdHVyZVZhbHVlPjxkc2lnOktleUluZm8+PGRzaWc6S2V5TmFtZT5JdmdIeWZDTjhFako2dnFYZ0xEM1VfaTlhOVhnTU83X0FNZWZla21RZXdNPC9kc2lnOktleU5hbWU+PGRzaWc6WDUwOURhdGE+PGRzaWc6WDUwOUNlcnRpZmljYXRlPk1JSUNuVENDQVlVQ0JnRjVha29MS1RBTkJna3Foa2lHOXcwQkFRc0ZBREFTTVJBd0RnWURWUVFEREFkdFlXUm9lV0Z0TUI0WERUSXhNRFV4TkRBNU5UQXdPRm9YRFRNeE1EVXhOREE1TlRFME9Gb3dFakVRTUE0R0ExVUVBd3dIYldGa2FIbGhiVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFMM0xxWkZsZVBWTFpYUUtKZ3o3SUFqTkhsS0YzMzNZNnZod09lU2xlK1UvSTFkeTJLNVhLYmtjWjI4Mmk1YzUzU2hEY0ZTWVhOcnJKcDFUNStCR1kwb1psZkt5cmlOblQ2cmgzVXUvV2dqdi9RZE9LUUZjVVF2RTZnbmo0R1hSY2tZMFhZamc3L3RLbTA0SkV3Q2NZRU1JSzIzOGU0bCtocTNvb2pNOFUzcHVnV2RUV1pQQ1NPQURHcXZYbFBXZjgvNHcydEgrUmpKY1RKZmxDNnl3dm5BYWNXcHRkOEMxRmtIY2E3bEQ0NW5vV29yS1dQM3VKOU4zcTBxcUhTVWg0eUlSVmJZQ01ydmJDZkQvY2p5SkRTbzRMNEhxY0tZRDRBQjJlZ0RhOWVWRWV5c0ZNZW9ES0xVTmNEYXVCQ0NIbFRoSHF6d0pXVnc0aGNWNTNMdlNHMzBDQXdFQUFUQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFUTXBHWmNyN0dDeDZMZmRrNFFIYmdwUFpSaElUR2g0Tk1MTFk3K1JMYUlLSTcxNmhMVTVNVnpIWmFWeTIyZnZFeFM5SHlvU1pvcnZRNzhIR1N2Yk8yU2l4RXBaMDRScUxweWN5NjRob0V3QTlYM0pFYWozUzJjYzM1OFdPYUpmbXFmRHpSUlk3QUtFejN0ZDFrQXBwZThXd2FxMHBOWEp5eFBMK0pqZXRDb3BFdWprdWhUTXR3R2JBZWJwSVVZVFhSWmsxaTgzL2hvSENGNGlzRTFqNHIwMkc0RzhUbDUwcmtuQkk4U2J6MXZFRzBkV2NvbjE3WXhMNUNZRC9FS3VSYXo2MFRyc1JSNUl2NFF6Zk5QWTRjOWgvVGVMQ25zQnljeU5wZ2RCZFJBQ1NET1ozSjAzL2N5T3NFY2x6eVlGR3B6RVR4N1BiZUNQWVZ4Z001end4K1E9PTwvZHNpZzpYNTA5Q2VydGlmaWNhdGU+PC9kc2lnOlg1MDlEYXRhPjwvZHNpZzpLZXlJbmZvPjwvZHNpZzpTaWduYXR1cmU+PHNhbWxwOk5hbWVJRFBvbGljeSBBbGxvd0NyZWF0ZT0idHJ1ZSIgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDpwZXJzaXN0ZW50Ii8+PC9zYW1scDpBdXRoblJlcXVlc3Q+"/>
                <input type="hidden" name="RelayState" value="9ssmSr8vQGc1CaqVnlyO0cFSEmWwerMJso8Dk38H-3k.Jjj-UDrgmKQ.ZIsiufjsSc--o4hQgyBZRQ"/>

            <noscript>
                <p>JavaScript is disabled. We strongly recommend to enable it. Click the button below to continue. </p>
                <input type="submit" value="Continue"/>
            </noscript>
        </form>
                  </div>
               </div>
            </div>
      </div>

<script type="text/javascript">
   
    </script>
   </body>
</html>

-----------------------------------------------------------
Time: 23-01-2024 03:50:37 PM For RequestMethod: Investorid
InputOutput: [strUniqueId]:- D48225DB-3125-438B-AB59-6580099F1737
-----------------------------------------------------------
Time: 23-01-2024 03:50:37 PM For RequestMethod: InputRequestToSAMLAPI
InputOutput: [InputJsonData]:- {"pan":"BSQPJ1955A","cin":"U67190TN2014PTC055555","entityType":"3","email":"demotest@test.com"}
-----------------------------------------------------------
Time: 23-01-2024 03:50:38 PM For RequestMethod: GetResponseFromSAMLAPI
InputOutput: [ResponseStatusCode]:- OK
-----------------------------------------------------------
Time: 23-01-2024 03:50:38 PM For RequestMethod: GetResponseFromSAMLAPI
InputOutput: [ResponseContent]:- <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv='Cache-Control' content="max-age: 31536000, no-cache, no-store, must-revalidate">
      <meta http-equiv='Pragma' content='no-cache'>
      <meta http-equiv='Expires' content='0'>
      <meta name="robots" content="noindex, nofollow">
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="preconnect" href="https://fonts.gstatic.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Khand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

      <!-- Google Tag Manager -->
      <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-KRBMWNL');</script>
      <!-- End Google Tag Manager -->

      <title class='title'>Sign In to National Single Window System</title>
      <link rel="icon" href="/auth/resources/egfby/login/sws/images/favicon.ico" />
      <link href="/auth/resources/egfby/login/sws/css/login1.css?v=1.05" rel="stylesheet" />
      <link href="/auth/resources/egfby/login/sws/css/global.css?v=1.05" rel="stylesheet" />

     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.8/css/intlTelInput.css" />
     
      <!-- JS -->
      <!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
       <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
       <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.8/js/intlTelInput-jquery.min.js"></script>
      <script type="text/javascript">
          if (top !== window) {
            top.location = window.location;
          }
      </script>
      <script>
         /*function backToLogin() {
            if (origin === 'https://sso-uat-nsws.investindia.gov.in') {
               window.location.href = 'https://uat-nsws.investindia.gov.in/portal/login'
            } else {
               window.location.href = origin + '/portal/login'
            }
         }*/

      </script>
      <script>
        jQuery(function(){
            jQuery('input[type="text"]').on("change", function(){
                this.value = jQuery.trim(this.value);
            });
         });
      </script>
      <script>
         jQuery(document).ready(function(){
               if(jQuery(this).find("span.server-message").length > 0){
                  var text = $(".server-message").html();
                  var match = text.split('<br>');
                  jQuery(".server-message").text(match[0]);
               }
              

         function handleCountryCode() {
            $('#phoneNumber').intlTelInput({
                autoHideDialCode: false,
                autoFocus:"OFF",
                autocomplete:"OFF",
                autoPlaceholder: "OFF",
                dropdownContainer: document.body,
                geoIpLookup: function(callback) {
                    $.get('https://ipinfo.io', function() {}, "jsonp").always(function(resp) {
                        var countryCode = (resp && resp.country) ? resp.country : "";
                        callback(countryCode);
                    });
                },
                formatOnDisplay: false,
                hiddenInput: "full_number",
                initialCountry: $("#countryName").val() || "auto",
                nationalMode: true,
                placeholderNumberType: "MOBILE",
                separateDialCode: true
               }).on("countrychange", function(e, countryData) {

                var getSelectedCountryData = $('.iti__selected-dial-code').intlTelInput("getSelectedCountryData");
                var selectedCountryCode=$("#phoneNumber").intlTelInput("getSelectedCountryData").dialCode;
                var countryData=$("#phoneNumber").intlTelInput("getSelectedCountryData");
                $('#phoneNumber').val('');
                $("#phoneNumberError").hide(); 
                $('#phoneotp-verify').hide();
                
               sessionStorage.setItem('selectedCountryCode',selectedCountryCode); 
              
               if(sessionStorage.getItem('selectedCountryCode') !== "91"){
                  $('#phoneNumber').attr("minlength","4")
                  $('#phoneNumber').attr("maxlength","13")
               }else{
                  $('#phoneNumber').attr("maxlength","10")
               }

               jQuery('#phoneNumber').on('input', function(event) {
                  var s = $('#phoneNumber').val().toString();
                  var mobileNumberValue = s.replace(/[^\d+]/gi, '');
                  $('#phoneNumber').val(mobileNumberValue);
                  sessionStorage.setItem('phone',mobileNumberValue);
                  var removeLeadingZero = mobileNumberValue.toString().replace(/^0+/, '');
                  var pattern = new RegExp("[6789]{1}[0-9]{9}");
                  if(pattern.test(mobileNumberValue) === false && mobileNumberValue.length >= 1 && mobileNumberValue.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91" ){
                        $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();
                  }else if(pattern.test(mobileNumberValue) === false  && mobileNumberValue.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91"){
                        $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();
                  }else if (mobileNumberValue.length === 0 && sessionStorage.getItem('selectedCountryCode') === "91") {
                        $("#phoneNumberError").text("Phone Number can't be empty.");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();   
                  }else if(sessionStorage.getItem('phone-verify-message')){
                        $('#phoneotp-verify').hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') === "91"){
                        $('#phoneotp-verify').show();
                        $("#phoneNumberError").hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length > 4){
                        $("#input-error-phone_number").hide();
                        $("#phoneNumberError").hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length <= 3){
                        $("#phoneNumberError").text("Mobile Number is Invalid");
                        $("#phoneNumberError").show();
                        $('#phoneotp-verify').hide();
                  }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length >= 3){
                        $("#phoneNumberError").hide();
                  }
               })

                jQuery("#phoneNumber").change(function(){
                  $("#countryName").val(countryData.iso2);
                   var userContact = "+" +selectedCountryCode;
                   if(userContact) {
                        $('#phoneNumberCopy').val(userContact);
                   }
                 });
            });


         };
      handleCountryCode()

      
      $(function(){
				for(var i=0;i<5;i++){
               $('#e-code').append('<input placeholder="OTP" class="input-element input-field otp email-otp-focus" name="e-code1" type="text"  maxLength="1"/>');
            }
      });

      $(function(){
         const inputs = document.querySelectorAll("#e-code input");
         inputs[0].focus();
         inputs.forEach((input, index) => {
         input.dataset.index = index;
         input.addEventListener("paste", handleOnPasteOtp);
         input.addEventListener("keyup", handleOtp);
          });

          function handleOnPasteOtp(e) {
               const data = e.clipboardData.getData("number");
               const value = data.split("");
               if (value.length == inputs.length) {
               inputs.forEach((input, index) => (input.value = value[index]));
               }
            }
            
            function handleOtp(e) {
               const input = e.target;
               let value = input.value;
               let otpValue=[];
               for(var i=0;i<5;i++){
               otpValue.push(document.getElementsByClassName("otp")[i].value);
               var filterotpValue =otpValue.toString().replace(/,/g, "");
                 $("#enteredEmailOtp").val(filterotpValue);
               }

               if(!isNaN(value)){
               input.value = "number";
               input.value = value ? value[0] : "";
               
               let fieldIndex = input.dataset.index;
           
               if (value.length > 0 && fieldIndex < inputs.length - 1) {
               if(value!=" ")
               input.nextElementSibling.focus();
               else{
                  input.value = "";
               }
               }

                if (e.key == "Backspace" && fieldIndex > 0) {
                input.previousElementSibling.focus();
             }
                if (fieldIndex == inputs.length - 1) {
                   submit();
                }
               }
               else{
                  input.value = "";
               }
               }
      });
            $(function(){
				for(var i=0;i<5;i++){
               $('#phone-code').append('<input placeholder="OTP"  class="input-element input-field otp" name="m-code1" type="text"  maxLength="1"/>');
            }
      });

      $(function(){
         const inputs = document.querySelectorAll("#phone-code input");
         inputs[0].focus();
         inputs.forEach((input, index) => {
         input.dataset.index = index;
         input.addEventListener("paste", handleOnPasteOtp);
         input.addEventListener("keyup", handleOtp);
          });

          function handleOnPasteOtp(e) {
               const data = e.clipboardData.getData("number");
               const value = data.split("");
               if (value.length == inputs.length) {
               inputs.forEach((input, index) => (input.value = value[index]));
               }
            }
            
            function handleOtp(e) {
               const input = e.target;
               let value = input.value;
               let otpValue=[];
               for(var i=0;i<5;i++){
               otpValue.push(document.getElementsByClassName("otp")[i].value);
               var filterotpValue =otpValue.toString().replace(/,/g, "");
                 $("#enteredEmailOtp").val(filterotpValue);
               }
               if(!isNaN(value)){
               input.value = "number";
               input.value = value ? value[0] : "";
               
               let fieldIndex = input.dataset.index;
               if (value.length > 0 && fieldIndex < inputs.length - 1) {
                 if(value!=" ")
               input.nextElementSibling.focus();
               else{
                  input.value = "";
               }
               }

                if (e.key == "Backspace" && fieldIndex > 0) {
                input.previousElementSibling.focus();
             }
                if (fieldIndex == inputs.length - 1) {
                   submit();
                }
               }
               else{
                  input.value = "";
               }
               }
      });

      $(function(){
            for(var i=0;i<5;i++){
               $('#m-code').append('<input placeholder="OTP"  class="input-element input-field otp-mobile otp-pan" name="m-code1" type="text"  maxLength="1"/>');
            }
      });
      
      $(function(){
         const inputs = document.querySelectorAll("#m-code input");
         inputs.forEach((input, index) => {
         input.dataset.index = index;
         input.addEventListener("paste", handleOnPasteOtp);
         input.addEventListener("keyup", handleOtp);
          });
          
          function handleOnPasteOtp(e) {
               const data = e.clipboardData.getData("number");
               const value = data.split("");
               if (value.length == inputs.length) {
               inputs.forEach((input, index) => (input.value = value[index]));
               }
            }


            function handleOtp(e) {
               const input = e.target;
               let value = input.value;

               let otpMobileValue=[];
               for(var i=0;i<5;i++){
               otpMobileValue.push(document.getElementsByClassName("otp-mobile")[i].value);
               var filterotpMobileValue =otpMobileValue.toString().replace(/,/g, "");
                 $("#enteredMobileOtp").val(filterotpMobileValue);
               }
               

               if(!isNaN(value)){
               input.value = "number";
               input.value = value ? value[0] : "";
               
               let fieldIndex = input.dataset.index;
               if (value.length > 0 && fieldIndex < inputs.length - 1) {
                  if(value!=" ")
               input.nextElementSibling.focus();
               else{
                  input.value = "";
               }
               }

                if (e.key == "Backspace" && fieldIndex > 0) {
                input.previousElementSibling.focus();
             }
                if (fieldIndex == inputs.length - 1) {
                   submit();
                }
               }
               else{
                  input.value = "";
               }
               }
      });



      $(function(){
         if(sessionStorage.getItem('emailseconds')){
         jQuery('#seconds').text(sessionStorage.getItem('emailseconds'));
            timeLeft=sessionStorage.getItem('emailseconds');
         }else{
         jQuery('#seconds').text(60);
         timeLeft = 60;
         }
         function countdown() {
         if(timeLeft > 0){
	      timeLeft--;
         if(document.getElementById("seconds")){
	      document.getElementById("seconds").innerHTML = String( timeLeft );
         }
         }else{
            $('.email-otp-resend').show();
            $('.resend-email-otp').hide();
            sessionStorage.removeItem('emailseconds');
         }
      };
	      if (timeLeft > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });
      
         $(function(){
         if(sessionStorage.getItem('phoneseconds')){
         jQuery('#phoneseconds').text(sessionStorage.getItem('phoneseconds'));
            timeLeftphone=sessionStorage.getItem('phoneseconds');
         }else{
         jQuery('#phoneseconds').text(60);
         timeLeftphone = 60;
         }
         function countdown() {
         if(timeLeftphone > 0){
	      timeLeftphone--;
            if(document.getElementById("phoneseconds")){
	         document.getElementById("phoneseconds").innerHTML = String( timeLeftphone );
         }
         }else{
            $('.phone-otp-resend').show();
            $('.resend-phone-otp').hide();
            sessionStorage.removeItem("phoneseconds");
         }
      };
	      if (timeLeftphone > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });


      $(function(){
         timeLefts = 60;
         function pancountdowns() {
	      timeLefts--;
	      document.getElementById("panseconds").innerHTML = String( timeLefts );
	      if (timeLefts > 0) {
		      setTimeout(pancountdowns, 1000);
      	   }
      };
            setTimeout(pancountdowns, 1000);
      });
      




               jQuery('#fullName').keypress(function(e) {
                    var regex = new RegExp("^[A-Za-z-.& ,+!@#$%\^*();\/]*$");
                    var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
                    if (regex.test(str)) {
                    	return true;
                    } else {
                    	e.preventDefault();
                    	$("#registerError").text("Please enter alphabets.");
                        $("#registerError").show();
                    	return false;
                    }
               });


               $('#password').on("blur", function(){
                   var password = $('#password').val();
                   var confirmPwd = $('#confirmPassword').val();
                   if(confirmPwd?.length > 0) {
                        if(password != confirmPwd) {
                           $("#confirmPasswordError").text("Please enter same as password");
                           $("#confirmPasswordError").show();
                        }
                   }
               });

               $('#password').on("focus", function(){
                     $('#input-error-password').hide();
               });

                $('#email').on('focus',function(){
                  $('#input-error-email').hide();
                  $('#server-validation-message').hide();
               });

                $('#phoneNumber').on('focus',function(){
                  $('#input-error-phone_number').hide();
               });
               
               
               $('#confirmPassword').on("blur", function(){
                   var password = $('#password').val();
                   var confirmPwd = $('#confirmPassword').val();
                   if(confirmPwd != password) {
                        $("#confirmPasswordError").text("Confirm Password is not matching with Password.");
                        $("#confirmPasswordError").show();
                   }
               });

               jQuery('#fullName').on("blur", function(e){
                 $("#registerError").hide();
                 var fullNameValue = e.target.value;
                 if(fullNameValue.length === 0) {
                    $("#registerError").text("Full Name can't be empty.");
                    $("#registerError").show();
                 } else if(fullNameValue.length < 3) {
                    $("#registerError").text("Full Name should be minimum 3 characters");
                    $("#registerError").show();
                 } else if (fullNameValue.length > 2) {
                    $("#registerError").hide();
                 }
               });

               jQuery('#userName').on("blur", function(e){
                 $("#userNameError").hide();
                 var userNameValue = e.target.value;
                 if(userNameValue.length === 0) {
                    $("#userNameError").text("Username can't be empty.");
                    $("#userNameError").show();
                 } else if(userNameValue.length < 3) {
                    $("#userNameError").text("Username should be minimum 3 characters");
                    $("#userNameError").show();
                 } else if (userNameValue.length > 2) {
                    $("#userNameError").hide();
                 }
               });
                
                  let phonecode=$("#phoneNumber").val();
                  sessionStorage.setItem('phone-code',phonecode); 
                  
                  $('#email').keypress(function( e ) {
                     if(e.which === 32) 
                        return false;
                  });


               jQuery('#phoneNumber').keyup( function(e) {
                     var phoneinputvalue = (e.target.value).toLowerCase();
                     sessionStorage.setItem('phone',phoneinputvalue);
                     $('#phoneNumber').val(phoneinputvalue);
                     var mobileNumberValue = (e.target.value);
                     var removeLeadingZero = mobileNumberValue.toString().replace(/^0+/, '');
                     $('#phoneNumber').val(removeLeadingZero);
                     var pattern = new RegExp("[6789]{1}[0-9]{9}");
                     if (mobileNumberValue.length >= 1 && mobileNumberValue.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
                              $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();
                     }else if (!(pattern.test(mobileNumberValue)) && mobileNumberValue.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
                              $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();
                     } else if (mobileNumberValue.length === 0 && sessionStorage.getItem('selectedCountryCode') === "91") {
                              $("#phoneNumberError").text("Phone Number can't be empty.");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();        
                     }else if(sessionStorage.getItem('phone-verify-message')){
                              $('#phoneotp-verify').hide();
                     }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length > 4){
                              $("#input-error-phone_number").hide();
                              $("#phoneNumberError").hide();
                     }else if(sessionStorage.getItem('selectedCountryCode') !== "91" && mobileNumberValue.length <= 3){
                              $("#phoneNumberError").text("Mobile Number is Invalid");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();                     
                     }else if(sessionStorage.getItem('selectedCountryCode') === "91"){
                              $('#phoneotp-verify').show();
                              $("#phoneNumberError").hide(); 
                     }else{
                              $("#phoneNumberError").hide(); 
                     }
               });

               jQuery(document).ready(function($){
                  $("#phoneNumber").on("paste",function(){
                     $('#phoneotp-verify').hide();
                     var mobileNumberValue=$(this);
                     setTimeout(function(){
                     var pattern = new RegExp("[6789]{1}[0-9]{9}");
                     if (pattern.test(mobileNumberValue) === false) {
                                 $('#phoneotp-verify').hide();
                     }else if (mobileNumberValue.length === 0) {
                              $("#phoneNumberError").text("Phone Number can't be empty.");
                              $("#phoneNumberError").show();
                              $('#phoneotp-verify').hide();        
                     }else if(sessionStorage.getItem('phone-verify-message')){
                              $('#phoneotp-verify').hide();
                     }else if(sessionStorage.getItem('selectedCountryCode') === "91"){
                              $('#phoneotp-verify').show();
                     }
                     },1);

                  });
                  
               });



               if(sessionStorage.getItem('selectedCountryCode') === "91"){
                  $('#phoneNumber').attr("maxlength","10")
               }else{
                  $('#phoneNumber').attr("maxlength","13")
               }

               
             jQuery('#phoneNumber').keypress(function(e){
                   var mobileNumberValue = e.target.value;
                   if(e.which != 8 && e.which != 0 && e.which < 48 || e.which > 57) {
                        e.preventDefault();
                   }
               });             

               jQuery('#email').on("blur", function(e){
                     $("#emailError").hide();
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $("#emailError").text("Email can't be empty.");
                        $("#emailError").show();
                        $('#emailotp-verify').hide();
                        $('.email-verfiy-img').hide();
                     } else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,10})+$/.test(emailValue))) {
                        $("#emailError").text("Please enter valid email id");
                        $("#emailError").show();
                        $('.email-verfiy-img').hide();
                        $('#emailotp-verify').hide();
                     }else if(sessionStorage.getItem('email-verify-message')){
                        $('#emailotp-verify').hide();
                     }
                     else{
                        $('#emailotp-verify').show();
                     }
               });

               jQuery('.forgot-email-address').on("blur", function(e){
                     $("#emailError").hide();
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $("#emailError").text("Email can't be empty.");
                        $("#emailError").show();
                     } else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(emailValue))) {
                        $("#emailError").text("Please enter valid email id");
                        $("#emailError").show();
                     }
               });

               jQuery('.forgot-email-address').on("keyup", function(e){
                     $("#emailError").hide();
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $("#emailError").text("Email can't be empty.");
                        $("#emailError").show();
                     } else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(emailValue))) {
                        $("#emailError").text("Please enter valid email id");
                        $("#emailError").show();
                     }
               });



                     jQuery('#email').on("keyup", function(e){
                     var emailValue = (e.target.value).toLowerCase();
                     if(emailValue.length === 0) {
                        $('#emailotp-verify').hide();
                     }else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,10})+$/.test(emailValue))) {
                        $('#emailotp-verify').hide();
                     }
                     else {
                        sessionStorage.setItem('email',emailValue);  
                        $('#email').val(emailValue);
                        $('#emailotp-verify').show();
                        $('.email-verfiy-img').hide();
                     }
               });

               jQuery('#password').on("blur", function(e) {
                     $("#passwordError").hide();
                     var passwordValue = e.target.value;
                     if(passwordValue.length === 0) {
                        $("#passwordError").text("Password can't be empty.");
                        $("#passwordError").show();
                     } else if (!(/^(?:(?=.*\d)(?=.*[a-z])(?=.*[A-Z])).{6,20}$/.test(passwordValue))) {
                        $("#passwordError").text("Password must include at least one uppercase letter, lowercase letter, number, special character and should be between 6-20 characters.");
                        $("#passwordError").show();
                     }
               });

                
               jQuery('#confirmPassword').on("blur", function(e) {
                     $("#confirmPasswordError").hide();
                     var confirmPwdValue = e.target.value;
                     if(confirmPwdValue.length === 0) {
                        $("#confirmPasswordError").text("Confirm Password can't be empty.");
                        $("#confirmPasswordError").show();
                     } else if (!(/^(?:(?=.*\d)(?=.*[a-z])(?=.*[A-Z])).{6,20}$/.test(confirmPwdValue))) {
                        $("#confirmPasswordError").text("Password must include at least one uppercase letter, lowercase letter, number, special character and should be between 6-20 characters.");
                        $("#confirmPasswordError").show();
                     }
               });

               jQuery('#fullName, #userName, #email, #password').keyup(function(e) {
                   $(this).closest('.nsws-input-field').children('.floating-label+span').hide();
               });

               jQuery('#phoneNumber').keyup(function(e) {
                   $(this).closest('.nsws-input-field').children('.floating-label+span').hide();
                   $(this).closest('.nsws-input-field').children('.floating-label+#input-error-phone_number').hide();
               });

               jQuery('#agreementCheck').change(function() {
                  var checkState = $('#agreementCheck').prop("checked");
                  $('#registerBtn').prop("disabled", !$("#agreementCheck").prop("checked"));
               });


               $('.pwd-hide-icon-login').hide();
               jQuery('.pwd-view-icon-login, .pwd-hide-icon-login').click(function() {
                  if('password' == $('#password').attr('type')){
                     $('#password').prop('type', 'text');
                     $('.pwd-hide-icon-login').show();
                     $('.pwd-view-icon-login').hide();
                  } else {
                     $('#password').prop('type', 'password');
                     $('.pwd-view-icon-login').show();
                     $('.pwd-hide-icon-login').hide();
                  }
               });
                              
               $('.pwd-hide-icon').hide();
               jQuery('.pwd-view-icon, .pwd-hide-icon').click(function() {
                  if('password' == $('#password').attr('type')){
                     $('#password').prop('type', 'text');
                     $('.pwd-hide-icon').show();
                     $('.pwd-view-icon').hide();
                  } else {
                     $('#password').prop('type', 'password');
                     $('.pwd-view-icon').show();
                     $('.pwd-hide-icon').hide();
                  }
               });

               $('.cnf-pwd-hide-icon').hide();
               jQuery('.cnf-pwd-view-icon, .cnf-pwd-hide-icon').click(function() {
                  if('password' == $('#confirmPassword').attr('type')){
                     $('#confirmPassword').prop('type', 'text');
                     $('.cnf-pwd-hide-icon').show();
                     $('.cnf-pwd-view-icon').hide();
                  } else {
                     $('#confirmPassword').prop('type', 'password');
                     $('.cnf-pwd-view-icon').show();
                     $('.cnf-pwd-hide-icon').hide();
                  }
               });
                     
               $('.pwd-hide-icon.update-pwd').hide();
               jQuery('.pwd-view-icon.update-pwd, .pwd-hide-icon.update-pwd').click(function() {
                  if('password' == $('#password-new').attr('type')){
                     $('#password-new').prop('type', 'text');
                     $('.pwd-hide-icon.update-pwd').show();
                     $('.pwd-view-icon.update-pwd').hide();
                  } else {
                     $('#password-new').prop('type', 'password');
                     $('.pwd-view-icon.update-pwd').show();
                     $('.pwd-hide-icon.update-pwd').hide();
                  }
               });

                    $('.cnf-pwd-hide-icon.update-cnf').hide();
               jQuery('.cnf-pwd-view-icon.update-cnf, .cnf-pwd-hide-icon.update-cnf').click(function() {
                  if('password' == $('#password-confirm').attr('type')){
                     $('#password-confirm').prop('type', 'text');
                     $('.cnf-pwd-hide-icon.update-cnf').show();
                     $('.cnf-pwd-view-icon.update-cnf').hide();
                  } else {
                     $('#password-confirm').prop('type', 'password');
                     $('.cnf-pwd-view-icon.update-cnf').show();
                     $('.cnf-pwd-hide-icon.update-cnf').hide();
                  }
               });

               jQuery('.pan-btn').click(function(){
               $('#username').remove();
               $('#password').remove();
               $("#passwordError").hide();
               });

               jQuery('#userPanNumber').change(function(e){
                     $("#userPanError").hide();
                     var panValue = (e.target.value);
                     if(panValue.length === 0) {
                        $("#userPanError").text("Pan Number Can't Be Empty");
                         $('.signin-pan-btn').prop('disabled', true);
                        $("#userPanError").show();
                     } else if (!(/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/.test(panValue))) {
                        $("#userPanError").text("Entered PAN is invalid");
                         $('.signin-pan-btn').prop('disabled', true);
                        $("#userPanError").show();
                     } else if(panValue.length===10){
                        $('.signin-pan-btn').prop('disabled', false);
                        $("#userPanError").hide();
                     }
               });


               $('#phoneNumber').on('input', function(event) {
                  var s = $('#phoneNumber').val().toString();
                  var x = s.replace(/[^\d+]/gi, '');
                  $('#phoneNumber').val(x);
               })

             $('#otp-action').hide();
               setTimeout(function(){
                  $('#otp-action').show();
                  $('.resend-pan-otp').hide();
               },60000);

               if($('.otp-verify-phone').text().slice(1,3)==="91"){ 
                        $("#m-code").show();
                        $('.email-otp-notification').text('We have sent you an verification code in your Email and Mobile number you need to enter code to verify');
                     } else {
                        $("#m-code").hide();
                        $('.email-otp-notification').text('We ve sent you an verification code on your email you need to enter code to verify.');
                     }  
               var errortext=$('.server-message ').text().trim();
               if(errortext === 'You should receive an email shortly with further instructions.'){
                     $('.server-message').text('You should receive an email shortly with instructions on resetting your password.');
                     $('.error-icon-user-timeout').hide();
               }
               if(errortext === 'Cannot update with the previous password.'){
                     $(".server-message").attr("id","loginErrorMessage");
                     $('.error-icon').hide();
               }
               if(errortext === 'Action expired. Please continue with login now.'){
                     $(".server-message").attr("id","loginErrorMessage");
                     $('.error-icon').hide();
               } 
               if(errortext === 'Your login attempt timed out.Please relogin.'){
                  $(".server-message").attr("id","loginErrorMessage");
                  $('.error-icon').hide();
               }
               if(errortext === 'You need to change your password.'){
                  $(".server-message").attr("id","loginErrorMessage");
                  $('.error-icon').hide();
               } 
               if(errortext === 'Two different roles are assigned to this user. Please check.'){
                  $(".server-message").attr("id","loginErrorMessage");
                  $('.error-icon').hide();
               } 

            var errortextsignup=$('#server-validation-message').text().trim();
            if(errortextsignup === 'Action expired. Please continue with login now.'){
               $('.server-message').hide();
               $('.error-icon').hide();
               $('.error-icon-user-timeout').hide();
            }
               
            const url = new URLSearchParams(window.location.search);
            const keys = Object.fromEntries(url.entries());   
            if(keys.client_id === 'ministry-portal-prod'){
                  $('.signup-text-btn').hide(); 
            }else if(keys.client_id === 'ministry-portal-ppe-stage'){
                  $('.signup-text-btn').hide(); 
            }else if(keys.client_id === 'ministry-portal-uat'){
                  $('.signup-text-btn').hide(); 
            }

                     const testimonialUrl = (origin) => {
                           switch (origin) {
                               case "https://sso-uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in/testimonial`;
                              case "https://uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in/testimonial`;
                              case "https://qa-nsws.investindia.gov.in":
                                 return `https://qa-nsws.investindia.gov.in/testimonial`;
                              case "https://dev-nsws.investindia.gov.in":
                                 return `https://dev-nsws.investindia.gov.in/testimonial`;
                              case "https://mpf-nsws.investindia.gov.in":
                                 return `https://mpf-nsws.investindia.gov.in/testimonial`;
                              case "https://www.ppe.nsws.gov.in":
                                 return `https://www.ppe.nsws.gov.in/testimonial`;
                              case "https://www.demo.nsws.gov.in":
                                 return `https://www.demo.nsws.gov.in/testimonial`;
                              case "https://www.nsws.gov.in":
                                 return `https://www.nsws.gov.in/testimonial`;
                              default:
                                 return `https://qa-nsws.investindia.gov.in/testimonial`;
                           }
                     };

                     const testimonialUrlImage = (origin) => {
                           switch (origin) {
                               case "https://sso-uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in`;
                              case "https://uat-nsws.investindia.gov.in":
                                 return `https://uat-nsws.investindia.gov.in`;
                              case "https://qa-nsws.investindia.gov.in":
                                 return `https://qa-nsws.investindia.gov.in`;
                              case "https://dev-nsws.investindia.gov.in":
                                 return `https://dev-nsws.investindia.gov.in`;
                              case "https://mpf-nsws.investindia.gov.in":
                                 return `https://mpf-nsws.investindia.gov.in`;
                              case "https://www.ppe.nsws.gov.in":
                                 return `https://www.ppe.nsws.gov.in`;
                              case "https://www.demo.nsws.gov.in":
                                 return `https://www.demo.nsws.gov.in`;
                              case "https://www.nsws.gov.in":
                                 return `https://www.nsws.gov.in`;
                              default:
                                 return `https://qa-nsws.investindia.gov.in`;
                           }
                     };
                        
                     $.get(testimonialUrl(origin), function( data ) {
                          var html="";
                          for(var i=0; i<data.length; i++)
                           {        
                                     if(i==0){

                                        html+= ' <div class="carousel-item active" data-bs-interval="5000"> '  + 
                                     

                                   ' <div class="d-block w-100">'
                                        +
                                       '<div class="nsws-testimonial-block">'
                                         + 
                                          '<div class="nsws-testimonial-img">'
                                          + 
                                          '<img class="director-image"  src= '+testimonialUrlImage(origin) +data[i].image +' alt="" />'
                                          +
                                        '  </div>'
                                          + 
                                         ' <div class="nsws-testimonial-content">'
                                          + 
                                          '<span class="right-description">'+data[i].quote +'</span>'
                                          +
                                          '<span class="right-1st-description">' +data[i].name+'</span>' 
                                          +
                                          '<span class="right-2nd-description">'+data[i].designation + '</span>'
                                        + 
                                        ' </div>'
                                        + 
                                        ' </div>'
                                        + 
                                        ' </div>'
                                        + 
                                        '</div>'
                                         }
                                         else{
                                          html+= ' <div class="carousel-item" data-bs-interval="5000"> '  + 
                                     

                                     ' <div class="d-block w-100">'
                                          + 
                                         '<div class="nsws-testimonial-block">'
                                           + 
                                            '<div class="nsws-testimonial-img">'
                                            + 
                                            '<img class="director-image" src= '+testimonialUrlImage(origin) +data[i].image +' alt="" />'
                                            +
                                          '  </div>'
                                            + 
                                           ' <div class="nsws-testimonial-content">'
                                            + 
                                            '<span class="right-description">'+data[i].quote +'</span>'
                                            +
                                            '<span class="right-1st-description">' +data[i].name+'</span>' 
                                            +
                                            '<span class="right-2nd-description">'+data[i].designation + '</span>'
                                          + 
                                          ' </div>'
                                          + 
                                          ' </div>'
                                          + 
                                          ' </div>'
                                          + 
                                          '</div>'
                                         }
                                       }
                                       $( ".carousel-inner" ).html(html);
                                    });
                                       

               jQuery("#email").focusout(function(){
                 var userEmail = $('#email').val().toString().toLowerCase();
                 $("#userName").val(userEmail);
               });
            if(origin === 'https://sso-uat-nsws.investindia.gov.in') {
               $("#backToLoginRedirection").attr("href", "https://uat-nsws.investindia.gov.in/portal/login");
            } else {
               $("#backToLoginRedirection").attr("href", "/portal/login")
            }
            jQuery("#password").focusout(function(){
                 var enteredPassword = $('#password').val();
                 $("#confirmPassword").val(enteredPassword);
               });

               $("#backToLoginPanFlow").attr("href", testimonialUrlImage(origin)+ "/portal/login");   
            

             var browserName = (function(agent) {
                  switch (true) {
                     case agent.indexOf("edge") > -1:
                        return "MS Edge";
                     case agent.indexOf("edg/") > -1:
                        return "Edge ( chromium based)";
                     case agent.indexOf("opr") > -1 && !!window.opr:
                        return "Opera";
                     case agent.indexOf("chrome") > -1 && !!window.chrome:
                        return "Chrome";
                     case agent.indexOf("trident") > -1:
                        return "MS IE";
                     case agent.indexOf("firefox") > -1:
                        return "Mozilla Firefox";
                     case agent.indexOf("safari") > -1:
                        return "Safari";
                     default:
                        return "other";
                  }
               })(window.navigator.userAgent.toLowerCase());

               if (browserName === 'Edge ( chromium based)') {
                  $('#username').attr('autocomplete', 'new-email');
                  $('#password').attr('autocomplete', 'new-password');
               }
               else {
                  $('#username').attr('autocomplete', 'off');
                  $('#password').attr('autocomplete', 'off');
               }
               
               var title =$('.title').text();
               var signuptitle=$('.signup-title').text();
               var forgotpasswordtitle=$('.forgotpassword-title').text();
               if(title === 'Sign In to madhyam'){
                  $('.title').text('Sign In to National Single Window System');
               } 
               if(signuptitle === 'Sign Up'){
                  $('.title').text('Sign Up to National Single Window System');
               }
               if(forgotpasswordtitle === 'Forgot Password?'){
                  $('.title').text('Forgot Password | National Single Window System');
               }



 
      $('#email-otp-action').hide();
      let validationmessage = $('#server-validation-message').text().trim();
      let emailvalidationmessage = $('#input-error-email-otp').text().trim();
      if (validationmessage === 'E_OTP_SEND' || emailvalidationmessage === 'Entered Email OTP is wrong, Please Enter Valid OTP Again.') {
         setTimeout(function() {
            $('#email-otp-action').show();
            $('.resend-email-otp').hide();
            $('.email-otp-verify').hide();
            $('.email-otp-resend').show();
            if(validationmessage === "Edit-email"){
            $('.email-otp-verify').show();
            $('#emailotp-editemail').hide(); 
            }else {
            $('#emailotp-editemail').show();
            }
                  $(function(){
         if(sessionStorage.getItem('emailseconds')){
         jQuery('#seconds').text(sessionStorage.getItem('emailseconds'));
            timeLeft=sessionStorage.getItem('emailseconds');
         }else{
         jQuery('#seconds').text(63);
         timeLeft = 63;
         }
         function countdown() {
	      timeLeft--;
         if(document.getElementById("seconds")){
	      document.getElementById("seconds").innerHTML = String( timeLeft );
         }
      };
	      if (timeLeft > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });
            if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
            }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }

            $('.email-otp-resend-text-btn').click(function() {
                  $('.input-otp-email-verify').slideDown();
                  $('.input-otp-email-verify').show();
                  $('#email').hide();
                  $('.register-btn').hide();
                  $('#phonenumber-field').hide();
                  $('#setpassword-field').hide();
                  $('.signupformclear').hide();
                  sessionStorage.removeItem("emailseconds");
                  $(this).hide();
                  $('#server-validation-message').hide();
                  $('#input-error-password').hide();
                  $('#email-otp').html(emailfieldvalue);
            })

         }, 60000);
      }



      let emailerrormessage = $('#input-error-email').text().trim();
      let validationmessagephone = $('#server-validation-message-phone').text().trim();

      if (validationmessage === 'E_OTP_SEND') {
         $('.input-otp-email-verify').slideUp();
         $('.input-otp-email-verify').show();
         $('#email').hide();
         $('.register-btn').hide();
         $('#phonenumber-field').hide();
         $('#setpassword-field').hide();
         $(this).hide();
         $('#emailotp-editemail').show();
         $('#server-validation-message').hide();
         $('#input-error-password').hide();
         $('.signupformclear').hide();
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         $('.registerbtn-container').hide();
         sessionStorage.removeItem("emailseconds");
         let emailfieldvalue = $('#email').val();
         $('#email-otp').html(emailfieldvalue);
         if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
            $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }
         let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         let mobileNumber =$('#phoneNumber').val();
         if(phonevalidationmessage === 'p-verified') {
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') === 'p-verified' && sessionStorage.getItem('selectedCountryCode') !== "91"){
               $('#phoneotp-verify').hide();
         }else if(mobileNumber.length >= 1 && mobileNumber.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(!(pattern.test(mobileNumber)) && mobileNumber.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') !== 'p-verified' && sessionStorage.getItem('selectedCountryCode') === "91" && mobileNumber){
               $('#phoneotp-verify').show();
         }

      }else if (emailerrormessage === 'Your Email is not verified. Please verify your email.'&& sessionStorage.getItem('email')){
         $('#emailotp-verify').show();
          $('.server-message').hide();
      }else if (emailvalidationmessage === 'Entered Email OTP is wrong, Please Enter Valid OTP Again.') {
         $('.input-otp-email-verify').slideUp();
         $('.input-otp-email-verify').show();
         $('#email').hide();
         $('.register-btn').hide();
         $('#phonenumber-field').hide();
         $('#setpassword-field').hide();
         $(this).hide();
         $('#emailotp-editemail').show();
         $('#server-validation-message').hide();
         $('.signupformclear').hide();
         $('.registerbtn-container').hide();
         let emailfieldvalue = $('#email').val();
         $('#email-otp').html(emailfieldvalue);
         $('#server-validation-message-verified').hide();
         $('#input-error-password').hide();
         if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }

      } else if (emailvalidationmessage == 'e-verified') {
         $('#server-validation-message-verified').hide();
         $('#input-error-password').hide();
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         $('.registerbtn-container').show();
         let emailverifymessage = $('#server-validation-message-verified').text().trim();  
         sessionStorage.setItem('email-verify-message',emailverifymessage);
         if(sessionStorage.getItem('phone') && sessionStorage.getItem('phone').length > 2  ) {
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }else if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }
         
         let emailfieldvalue = $('#email').val();
         sessionStorage.setItem('email',emailfieldvalue);
         let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         let mobileNumber =$('#phoneNumber').val();
         if(phonevalidationmessage === 'p-verified') {
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') === 'p-verified' && sessionStorage.getItem('selectedCountryCode') !== "91"){
               $('#phoneotp-verify').hide();
         }else if(mobileNumber.length >= 1 && mobileNumber.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(!(pattern.test(mobileNumber)) && mobileNumber.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') !== 'p-verified' && sessionStorage.getItem('selectedCountryCode') === "91" && mobileNumber){
               $('#phoneotp-verify').show();
         }
      } else if (emailerrormessage === 'Email already exists.') {
         $('#input-error-password').hide();
      }

      $('#emailotp-editemail').click(function() {
         validationmessage = "Edit-email";
         $('.input-otp-email-verify').slideDown();
         $('.input-otp-email-verify').hide();
         $('#email').show();
         $('#phonenumber-field').show();
         $('#setpassword-field').show();
         $('.register-btn').show();
         $('.signupformclear').show();
         $(this).hide();
         $('#emailotp-verify').show();
         $('#server-validation-message-verified-phone').hide();
         $('#input-error-password').hide();
         $('.registerbtn-container').show();
         sessionStorage.removeItem("emailseconds");
         if($('#phoneNumber').val(sessionStorage.getItem('phone-code'))){
             $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }else{
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }
         let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         let mobileNumber =$('#phoneNumber').val();
         if(phonevalidationmessage === 'p-verified') {
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') === 'p-verified' && sessionStorage.getItem('selectedCountryCode') !== "91"){
               $('#phoneotp-verify').hide();
         }else if(mobileNumber.length >= 1 && mobileNumber.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should be of exact 10 digits");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(!(pattern.test(mobileNumber)) && mobileNumber.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91") {
               $("#phoneNumberError").text("Mobile Number should start from 6,7,8, and 9 Only");
               $("#phoneNumberError").show();
               $('#phoneotp-verify').hide();
         }else if(sessionStorage.getItem('phone-verify-message') !== 'p-verified' && sessionStorage.getItem('selectedCountryCode') === "91" && mobileNumber){
               $('#phoneotp-verify').show();
         }
      })

      $('#phone-otp-action').hide();
      let phoneerroemessage=$('#input-error-phone_number').text().trim();
      let phonevalidationmessage = $('#input-error-phone-otp').text().trim();
      if (validationmessagephone === 'OTP send' || phonevalidationmessage === 'Entered Mobile OTP is wrong, Please Enter Valid OTP Again.') {
         setTimeout(function() {
            $('#phone-otp-action').show();
            $('.resend-phone-otp').hide();
            $('.phone-otp-verify').hide();
            $('.phone-otp-resend').show();
            if(validationmessagephone === "Edit-phone"){
            $('.phone-otp-verify').show();
            $('#phoneotp-editphone').hide();
            }else {
            $('#phoneotp-editphone').show();
            }
         $(function(){
         if(sessionStorage.getItem('phoneseconds')){
         jQuery('#phoneseconds').text(sessionStorage.getItem('phoneseconds'));
            timeLeftphone=sessionStorage.getItem('phoneseconds');
         }else{
         jQuery('#phoneseconds').text(63);
         timeLeftphone = 63;
         }
         function countdown() {
	      timeLeftphone--;

         if(document.getElementById("phoneseconds")){
	      document.getElementById("phoneseconds").innerHTML = String( timeLeftphone );
         }
      };
	      if (timeLeftphone > 0) {
		      var timer=setInterval(countdown, 1000);
            }
            else{
               clearInterval(timer);
            }
      });
            $('.phone-otp-resend-text-btn').click(function() {
                  $('.input-otp-phone-verify').slideDown();
                  $('.input-otp-phone-verify').show();
                  $('#phoneNumber').hide();
                  $('.register-btn').hide();
                  $('.signupformclear').hide();
                  $('#phonenumber-field').hide();
                  $('#setpassword-field').hide();
                  sessionStorage.removeItem("phoneseconds");
                  $(this).hide();
                  $('#server-validation-message').hide();
                  $('#input-error-password').hide();
            })
         }, 60000);
      }

      if (validationmessagephone === 'OTP send') {    
         $('.input-otp-phone-verify').slideUp();
         $('.input-otp-phone-verify').show();
         $('#phoneNumber').hide();
         $('.register-btn').hide();
         $('#setpassword-field').hide();
         $(this).hide();
         $('#phoneotp-editphone').show();
         $('#server-validation-message').hide();
         $('#server-validation-message-phone').hide();
         $('#input-error-password').hide();
         $('.signupformclear').hide();
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         $('#email').val(sessionStorage.getItem('email')); 
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         $('.iti__flag-container').hide();

         if(emailvalidationmessage === 'e-verified') {
              $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') === 'e-verified' && sessionStorage.getItem('email')){
             $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') != 'e-verified' && sessionStorage.getItem('email') ){
             $('#emailotp-verify').show();  
         }

      }else if(sessionStorage.getItem('phone') && phoneerroemessage === 'Your Phone number is not verified. Please verify your Phone number.'){
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         
         var mobileNumberValue = $('#phoneNumber').val();
         var pattern = new RegExp("[6789]{1}[0-9]{9}");
         if(!pattern.test(mobileNumberValue) && mobileNumberValue.length >= 1 && mobileNumberValue.length < 10 && sessionStorage.getItem('selectedCountryCode') === "91" && phoneerroemessage === 'Your Phone number is not verified. Please verify your Phone number.'){
            $("#input-error-phone_number").text("Mobile Number should be of exact 10 digits");
            $("#input-error-phone_number").show();
            $('#phoneotp-verify').hide();
         }else if (!(pattern.test(mobileNumberValue)) && mobileNumberValue.length === 10 && sessionStorage.getItem('selectedCountryCode') === "91" &&  phoneerroemessage === 'Your Phone number is not verified. Please verify your Phone number.') {
            $("#input-error-phone_number").text("Mobile Number should start from 6,7,8, and 9 Only");
            $("#input-error-phone_number").show();
            $('#phoneotp-verify').hide();
         }else{
            $('#phoneotp-verify').show();
         }
      }
       else if (phonevalidationmessage === 'Entered Mobile OTP is wrong, Please Enter Valid OTP Again.') {
         $('.input-otp-phone-verify').slideUp();
         $('.input-otp-phone-verify').show();
         $('#phoneNumber').hide();
         $('.register-btn').hide();
         $('#setpassword-field').hide();
         $('.signupformclear').hide();
         $(this).hide();
         $('#phoneotp-editphone').show();
         $('#server-validation-message-phone').hide();
         $('#server-validation-message-verified-phone').hide();
         $('#input-error-password').hide();
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         $('#email').val(sessionStorage.getItem('email'));
         $('.iti__flag-container').hide();
         
         if(sessionStorage.getItem('email-verify-message') != 'e-verified' && sessionStorage.getItem('email') ){
             $('#emailotp-verify').show();  
         }


      } else if (phonevalidationmessage === 'p-verified') {
         $('#server-validation-message-verified-phone').hide();
         $('#email').val(sessionStorage.getItem('email'));
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         $('.server-message').hide();
         $('.error-icon').hide();
         $('.error-icon-user-timeout').hide();
         let phoneverifymessage = $('#server-validation-message-verified-phone').text().trim();  
         sessionStorage.setItem('phone-verify-message',phoneverifymessage);
         if(emailvalidationmessage === 'e-verified') {
              $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') === 'e-verified' && sessionStorage.getItem('email')){
             $('#emailotp-verify').hide();
         }else if(sessionStorage.getItem('email-verify-message') != 'e-verified' && sessionStorage.getItem('email') ){
             $('#emailotp-verify').show();  
         }

      }

      var selectedCountryCode=$("#phoneNumber").intlTelInput("getSelectedCountryData").dialCode;
      $('#phoneotp-editphone').click(function() {
         validationmessagephone = "Edit-phone";
         $('.input-otp-phone-verify').slideDown();
         $('.input-otp-phone-verify').hide();
         $('#phoneNumber').show();
         $('#setpassword-field').show();
         $('.register-btn').show();
         $(this).hide();
         $('.signupformclear').show();
         $('#phoneotp-verify').show();
         $('.iti__flag-container').show();
         $('#email').val(sessionStorage.getItem('email'));
         sessionStorage.removeItem("phoneseconds");
         if(sessionStorage.getItem('phone')){
         $('#phoneNumber').val(sessionStorage.getItem('phone'));
         }else{
         $('#phoneNumber').val(sessionStorage.getItem('phone-code'));
         }
      })
                


        if(sessionStorage.getItem('email-verify-message')){
            $('#server-validation-message-verified').val(sessionStorage.getItem('email-verify-message'));
            $('#email').val(sessionStorage.getItem('email'));
            $("#email").prop('readonly',true);
            $('.email-verfiy-img').show();
         }
         else{
            $("#email").prop('readonly',false);
         }

         if(sessionStorage.getItem('phone-verify-message')){
             $('#server-validation-message-verified-phone').val(sessionStorage.getItem('phone-verify-message'));
             $('#phoneNumber').val(sessionStorage.getItem('phone'));
             $('.phone-verfiy-img').show();
             $('#phoneNumber').prop('readonly', true);
         }else{
             $('#phoneNumber').prop('readonly', false);
         }

       $('.resetform').click(function(){
          sessionStorage.clear();
          location.reload();
       }) 
      
      $('.signup-text-btn').click(function(){
          sessionStorage.clear();
          location.reload();
       }) 
     

       var signuptitle = $('.signup-title').text();
       if(signuptitle === 'Sign Up'){
          $('.error-icon-user-timeout').hide();
          $('.error-icon').hide();
          $('.server-message').hide();
       } 

         });  

         var videobg = document.getElementById("video-speed");
         videobg.playbackRate = 0.5;      


      </script>
   </head>
   
   <body>
      <!-- Google Tag Manager (noscript) -->
      <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KRBMWNL"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
      <!-- End Google Tag Manager (noscript) -->
      <div class="access-management">
         <div class="access-container-content">
            <div class="background-flag">
               <video id="video-speed" loop muted autoPlay width="100%">
                 <source src="/auth/resources/egfby/login/sws/video/flag2.mp4" type="video/mp4"/>
               </video>
             </div>
             <div class="nsws-inner-container">
            <a href="/" class="logo-link">
               <img class="nsws-logo" src="/auth/resources/egfby/login/sws/images/nswslogo.png" alt="logo" width="150" height="40">
            </a>
            <div class="inner-content">
               <header class="">
                  <!-- <h1 id="kc-page-title" class="signin-title">        Authentication Redirect
</h1> -->
               </header>
               <div id="kc-content">
                  <div id="kc-content-wrapper">
        <script>window.onload = function() {document.forms[0].submit()};</script>
        <p>Redirecting, please wait.</p>
        <form name="saml-post-binding" method="post" action="https://ssoinvestodisha.odisha.gov.in/realms/goswift-dev/protocol/saml">
                <input type="hidden" name="SAMLRequest" value="PHNhbWxwOkF1dGhuUmVxdWVzdCB4bWxuczpzYW1scD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOnByb3RvY29sIiB4bWxucz0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgeG1sbnM6c2FtbD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgQXNzZXJ0aW9uQ29uc3VtZXJTZXJ2aWNlVVJMPSJodHRwczovL2Rldi1uc3dzLmludmVzdGluZGlhLmdvdi5pbi9hdXRoL3JlYWxtcy9tYWRoeWFtL2Jyb2tlci9vZGlzaGEvZW5kcG9pbnQiIEF0dHJpYnV0ZUNvbnN1bWluZ1NlcnZpY2VJbmRleD0iMCIgRGVzdGluYXRpb249Imh0dHBzOi8vc3NvaW52ZXN0b2Rpc2hhLm9kaXNoYS5nb3YuaW4vcmVhbG1zL2dvc3dpZnQtZGV2L3Byb3RvY29sL3NhbWwiIEZvcmNlQXV0aG49ImZhbHNlIiBJRD0iSURfNWQxZGFmNmUtMmVlMS00NmQ5LTljZTgtMzY3ODFkNGIyOTJiIiBJc3N1ZUluc3RhbnQ9IjIwMjQtMDEtMjNUMTA6MjA6MzcuODYxWiIgUHJvdG9jb2xCaW5kaW5nPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YmluZGluZ3M6SFRUUC1QT1NUIiBWZXJzaW9uPSIyLjAiPjxzYW1sOklzc3Vlcj5odHRwczovL2Rldi1uc3dzLmludmVzdGluZGlhLmdvdi5pbi9hdXRoL3JlYWxtcy9tYWRoeWFtPC9zYW1sOklzc3Vlcj48ZHNpZzpTaWduYXR1cmUgeG1sbnM6ZHNpZz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI+PGRzaWc6U2lnbmVkSW5mbz48ZHNpZzpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8+PGRzaWc6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkc2lnOlJlZmVyZW5jZSBVUkk9IiNJRF81ZDFkYWY2ZS0yZWUxLTQ2ZDktOWNlOC0zNjc4MWQ0YjI5MmIiPjxkc2lnOlRyYW5zZm9ybXM+PGRzaWc6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz48ZHNpZzpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzEwL3htbC1leGMtYzE0biMiLz48L2RzaWc6VHJhbnNmb3Jtcz48ZHNpZzpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHNpZzpEaWdlc3RWYWx1ZT4xTU00UXE2encrZVJBS1JYQWNueVF3WDBXVUZUSTVHQy9ldGxOVndmMWpNPTwvZHNpZzpEaWdlc3RWYWx1ZT48L2RzaWc6UmVmZXJlbmNlPjwvZHNpZzpTaWduZWRJbmZvPjxkc2lnOlNpZ25hdHVyZVZhbHVlPnVwSXdKTDFvZWpuOTNHRWR0WXpUZ3plY0IzdlE5WHBNOS9hSXczS3BBbzhBNVV6TWcrRHJCSEdkWWp1Wm56TGRFUzdlWHpGaGh1bFdZWFd1LzVoWHZxUEVmZkJMdU5uV2ZGcEVhSXpNYUJjMWZJNWcwdEJDKzFRM2NCWXJyeldHelZLSGVyeXhTdjBXQkNiVEVtcTV2UmVlTFJKMzZlMGFSSFVCUTdkcXoyS3EyS0tKM1QvSi82b0JYN095SzZ0SitBaWwrU3BCUU0wZmlXWWJ1dSthSzA3eFU5OXUwTEQ2L0hhZGhCZXZ3dEc1c3lKL1pwNUVRSzBRdTduRXhUZlRucGxsVkE1eGRWV2V2V1IvL0Q3dklrcDUvQzU3Qm1pbEtiM1U0emVyelFqOVZMMlVKQWNtSGxoaTA2aTdEVDVHbzJmTUZKZHNHZ0lYbWVGUFExQmUwdz09PC9kc2lnOlNpZ25hdHVyZVZhbHVlPjxkc2lnOktleUluZm8+PGRzaWc6S2V5TmFtZT5JdmdIeWZDTjhFako2dnFYZ0xEM1VfaTlhOVhnTU83X0FNZWZla21RZXdNPC9kc2lnOktleU5hbWU+PGRzaWc6WDUwOURhdGE+PGRzaWc6WDUwOUNlcnRpZmljYXRlPk1JSUNuVENDQVlVQ0JnRjVha29MS1RBTkJna3Foa2lHOXcwQkFRc0ZBREFTTVJBd0RnWURWUVFEREFkdFlXUm9lV0Z0TUI0WERUSXhNRFV4TkRBNU5UQXdPRm9YRFRNeE1EVXhOREE1TlRFME9Gb3dFakVRTUE0R0ExVUVBd3dIYldGa2FIbGhiVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFMM0xxWkZsZVBWTFpYUUtKZ3o3SUFqTkhsS0YzMzNZNnZod09lU2xlK1UvSTFkeTJLNVhLYmtjWjI4Mmk1YzUzU2hEY0ZTWVhOcnJKcDFUNStCR1kwb1psZkt5cmlOblQ2cmgzVXUvV2dqdi9RZE9LUUZjVVF2RTZnbmo0R1hSY2tZMFhZamc3L3RLbTA0SkV3Q2NZRU1JSzIzOGU0bCtocTNvb2pNOFUzcHVnV2RUV1pQQ1NPQURHcXZYbFBXZjgvNHcydEgrUmpKY1RKZmxDNnl3dm5BYWNXcHRkOEMxRmtIY2E3bEQ0NW5vV29yS1dQM3VKOU4zcTBxcUhTVWg0eUlSVmJZQ01ydmJDZkQvY2p5SkRTbzRMNEhxY0tZRDRBQjJlZ0RhOWVWRWV5c0ZNZW9ES0xVTmNEYXVCQ0NIbFRoSHF6d0pXVnc0aGNWNTNMdlNHMzBDQXdFQUFUQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFUTXBHWmNyN0dDeDZMZmRrNFFIYmdwUFpSaElUR2g0Tk1MTFk3K1JMYUlLSTcxNmhMVTVNVnpIWmFWeTIyZnZFeFM5SHlvU1pvcnZRNzhIR1N2Yk8yU2l4RXBaMDRScUxweWN5NjRob0V3QTlYM0pFYWozUzJjYzM1OFdPYUpmbXFmRHpSUlk3QUtFejN0ZDFrQXBwZThXd2FxMHBOWEp5eFBMK0pqZXRDb3BFdWprdWhUTXR3R2JBZWJwSVVZVFhSWmsxaTgzL2hvSENGNGlzRTFqNHIwMkc0RzhUbDUwcmtuQkk4U2J6MXZFRzBkV2NvbjE3WXhMNUNZRC9FS3VSYXo2MFRyc1JSNUl2NFF6Zk5QWTRjOWgvVGVMQ25zQnljeU5wZ2RCZFJBQ1NET1ozSjAzL2N5T3NFY2x6eVlGR3B6RVR4N1BiZUNQWVZ4Z001end4K1E9PTwvZHNpZzpYNTA5Q2VydGlmaWNhdGU+PC9kc2lnOlg1MDlEYXRhPjwvZHNpZzpLZXlJbmZvPjwvZHNpZzpTaWduYXR1cmU+PHNhbWxwOk5hbWVJRFBvbGljeSBBbGxvd0NyZWF0ZT0idHJ1ZSIgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDpwZXJzaXN0ZW50Ii8+PC9zYW1scDpBdXRoblJlcXVlc3Q+"/>
                <input type="hidden" name="RelayState" value="JlBkMwrRBa6YiztrqpFrhVJGC2RJJP1dUhB6RBd0v-I.clH5j3LWLoI.ZIsiufjsSc--o4hQgyBZRQ"/>

            <noscript>
                <p>JavaScript is disabled. We strongly recommend to enable it. Click the button below to continue. </p>
                <input type="submit" value="Continue"/>
            </noscript>
        </form>
                  </div>
               </div>
            </div>
      </div>

<script type="text/javascript">
   
    </script>
   </body>
</html>

-----------------------------------------------------------
